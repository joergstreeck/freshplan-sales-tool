<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreshPlan Sales Tool</title>
    
    <!-- Vite Module Script -->
  <script type="module" crossorigin>function e(e,n){return`\n    <div class="location-detail-card" data-location-id="${e.id}">\n      ${function(e,t){return`\n    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">\n      <h4 style="margin: 0;">\n        <span data-i18n="locationDetails.locationTitle">Standort</span> ${e}\n      </h4>\n      <button type="button" class="btn btn-danger btn-sm" onclick="removeLocationDetail(${t})">\n        <span data-i18n="common.remove">Entfernen</span>\n      </button>\n    </div>\n  `}(n,e.id)}\n      ${function(e){return`\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locationDetails.locationName">Standortname*</label>\n        <input type="text" class="location-name" value="${t(e.name)}" data-field="name">\n      </div>\n      <div class="form-group">\n        <label data-i18n="locationDetails.category">Kategorie</label>\n        <select class="location-category" data-field="category">\n          <option value="" data-i18n="common.pleaseSelect">Bitte wählen</option>\n          <option value="hauptstandort" ${"hauptstandort"===e.category?"selected":""} \n                  data-i18n="locationDetails.mainLocation">Hauptstandort</option>\n          <option value="filiale" ${"filiale"===e.category?"selected":""} \n                  data-i18n="locationDetails.branch">Filiale</option>\n          <option value="aussenstelle" ${"aussenstelle"===e.category?"selected":""} \n                  data-i18n="locationDetails.externalOffice">Außenstelle</option>\n        </select>\n      </div>\n    </div>\n  `}(e)}\n      ${function(e){return`\n    <div class="form-row">\n      <div class="form-group" style="grid-column: span 2;">\n        <label data-i18n="locationDetails.streetAndNumber">Straße und Hausnummer*</label>\n        <input type="text" class="location-street" value="${t(e.street)}" data-field="street">\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locationDetails.postalCode">PLZ*</label>\n        <input type="text" class="location-postalcode" value="${t(e.postalCode)}" \n               data-field="postalCode" maxlength="5">\n      </div>\n      <div class="form-group">\n        <label data-i18n="locationDetails.city">Ort*</label>\n        <input type="text" class="location-city" value="${t(e.city)}" data-field="city">\n      </div>\n    </div>\n  `}(e)}\n      ${function(e){return`\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locationDetails.contactName">Ansprechpartner Name</label>\n        <input type="text" class="location-contact-name" value="${t(e.contactName)}" \n               data-field="contactName">\n      </div>\n      <div class="form-group">\n        <label data-i18n="locationDetails.contactPhone">Telefon</label>\n        <input type="tel" class="location-contact-phone" value="${t(e.contactPhone)}" \n               data-field="contactPhone">\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group" style="grid-column: span 2;">\n        <label data-i18n="locationDetails.contactEmail">E-Mail</label>\n        <input type="email" class="location-contact-email" value="${t(e.contactEmail)}" \n               data-field="contactEmail">\n      </div>\n    </div>\n  `}(e)}\n    </div>\n  `}function t(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(e=>t[e]))}function n(){const t={de:{clearForm:"Formular leeren",save:"Speichern",calculator:"Rabattrechner",customer:"Kundendaten",locations:"Standorte",locationDetails:"Standort-Details",creditcheck:"Bonitätsprüfung",profile:"Profil",offer:"Angebot",settings:"Einstellungen",calculatorTitle:"FreshPlan Rabattrechner",orderValue:"Bestellwert",leadTime:"Vorlaufzeit",days:"Tage",pickup:"Abholung (Mindestbestellwert: 5.000€ netto)",baseDiscount:"Basisrabatt",earlyDiscount:"Frühbucher",pickupDiscount:"Abholung",totalDiscount:"Gesamtrabatt",savings:"Ersparnis",finalPrice:"Endpreis",customerTitle:"Kundendaten erfassen",basicData:"Grunddaten",companyName:"Firmenname*",legalForm:"Rechtsform*",customerType:"Kundentyp*",industry:"Branche*",chainCustomer:"Kettenkunde",customerNumberInternal:"Kundennummer (intern)",addressData:"Adressdaten",streetAndNumber:"Straße und Hausnummer*",postalCode:"PLZ*",city:"Ort*",contactPerson:"Ansprechpartner",contactName:"Name*",contactPosition:"Position",contactPhone:"Telefon*",contactEmail:"E-Mail*",businessData:"Geschäftsdaten",expectedAnnualVolume:"Erwartetes Jahresvolumen (€)*",paymentMethod:"Zahlungsart*",additionalInfo:"Zusatzinformationen",notes:"Notizen",customField1:"Freifeld 1",customField2:"Freifeld 2",pleaseSelect:"Bitte wählen",yes:"Ja",no:"Nein",legalFormGmbH:"GmbH",legalFormAG:"AG",legalFormGbR:"GbR",legalFormEinzel:"Einzelunternehmen",legalFormKG:"KG",legalFormOHG:"OHG",legalFormUG:"UG",newCustomer:"Neukunde",existingCustomer:"Bestandskunde",industryHotel:"Hotel",industryHospital:"Klinik",industryNursingHome:"Seniorenresidenz",industryCafeteria:"Betriebsrestaurant",industryRestaurant:"Restaurant",paymentPrepayment:"Vorkasse",paymentCash:"Barzahlung",paymentInvoice:"Rechnung (30 Tage netto)",volumePlaceholder:"z.B. 500.000",notesPlaceholder:"Interne Notizen zum Kunden...",discountSystem:"FreshPlan-Rabattsystem",from:"ab",from10days:"ab 10 Tage",from15days:"ab 15 Tage",from30days:"ab 30 Tage",earlyBookingDiscount:"Frühbucherrabatt",maxTotalDiscount:"Maximaler Gesamtrabatt: 15%",chainCustomerRegulation:"Kettenkundenregelung",chainCustomerDesc:"Für Unternehmen mit mehreren Standorten (z.B. Hotel- oder Klinikgruppen):",optionA:"Option A:",optionADesc:"Bestellungen verschiedener Standorte innerhalb einer Woche werden zusammengerechnet",optionB:"Option B:",optionBDesc:"Zentrale Bestellung mit Mehrfachauslieferung",exampleScenarios:"Beispielszenarien",hotelChain:"Hotelkette",clinicGroup:"Klinikgruppe",restaurant:"Restaurant","21days":"21 Tage","30days":"30 Tage","14days":"14 Tage",delivery:"Lieferung",discount:"Rabatt",languageDE:"Deutsch",languageEN:"English",tagline:"So einfach, schnell und lecker!",locationsTitle:"Standortverwaltung",locationOverview:"Kettenübersicht",totalLocations:"Gesamtanzahl Standorte",managementType:"Verwaltungstyp",centralManagement:"Zentrale Verwaltung",decentralManagement:"Dezentrale Verwaltung",detailedCapture:"Detaillierte Erfassung",captureDetailsLabel:"Standorte detailliert erfassen",captureDetailsDesc:"Erfassen Sie jeden Standort einzeln mit Adresse, Ansprechpartner und spezifischen Eigenschaften.",vendingConcept:"Vending-Konzept",vendingInterestLabel:"Interesse an Freshfoodz-Vending?",vendingLocations:"Anzahl Standorte mit Vending",vendingType:"Automatentyp",vendingSnack:"Snack-Automat",vendingFresh:"Frische-Automat",vendingCombi:"Kombi-Automat",locationDetailsTitle:"Detaillierte Standorterfassung",totalLocationsDetail:"Erfasste Standorte:",addLocation:"+ Standort hinzufügen",syncWarningTitle:"⚠️ Abweichung erkannt",syncWarningText:"Die Anzahl und Kategorien der erfassten Standorte stimmen nicht mit den Angaben auf der Haupt-Standortseite überein.",noLocationsYet:"Noch keine Standorte erfasst.",clickAddLocation:"Klicken Sie auf den Button oben um zu beginnen.","locationDetails.locationTitle":"Standort","locationDetails.locationName":"Standortname*","locationDetails.category":"Kategorie","locationDetails.mainLocation":"Hauptstandort","locationDetails.branch":"Filiale","locationDetails.externalOffice":"Außenstelle","locationDetails.streetAndNumber":"Straße und Hausnummer*","locationDetails.postalCode":"PLZ*","locationDetails.city":"Ort*","locationDetails.contactName":"Ansprechpartner Name","locationDetails.contactPhone":"Telefon","locationDetails.contactEmail":"E-Mail","common.remove":"Entfernen","common.pleaseSelect":"Bitte wählen",creditCheckTitle:"Bonitätsprüfung",creditCheckDescription:"Die Bonitätsprüfung ist nur für <strong>Neukunden</strong> relevant, die auf Rechnung zahlen möchten.",customerName:"Kundenname",creditLimitLabel:"Kreditlimit/Offene Posten (€)",registrationNumber:"Handelsregisternummer*",vatId:"USt-IdNr.*",companySize:"Unternehmensgröße*",paymentHistory:"Bisherige Zahlungserfahrungen",companySizeSmall:"Klein (bis 50 Mitarbeiter)",companySizeMedium:"Mittel (50-250 Mitarbeiter)",companySizeLarge:"Groß (über 250 Mitarbeiter)",paymentHistoryNoInfo:"Keine Angabe",paymentHistoryNew:"Neukunde - keine Erfahrungen",paymentHistoryGood:"Gut - pünktliche Zahlung",paymentHistoryMedium:"Mittel - gelegentliche Verzögerungen",paymentHistoryBad:"Schlecht - häufige Mahnungen",checkStatus:"Prüfungsstatus",status:"Status",notChecked:"Nicht geprüft",creditLimit:"Kreditlimit",rating:"Bewertung",startCreditCheck:"Bonitätsprüfung starten",requestManagement:"Anfrage an Geschäftsleitung",newCustomers:"Neukunden",profileTitle:"Kundenprofil",profileDescription:"Hier werden die Kundenprofile angezeigt und verwaltet.",offerTitle:"Angebot erstellen",offerDescription:"Hier können Sie PDF-Angebote für Ihre Kunden erstellen.",settingsTitle:"Einstellungen",settingsDescription:"Hier können Sie Ihre persönlichen Daten und Standardwerte anpassen.",fillRequired:"Bitte füllen Sie alle Pflichtfelder aus:",saveSuccess:"Daten wurden erfolgreich gespeichert!",nothingToSave:"Aktuell gibt es auf dieser Seite nichts zu speichern.",confirmClear:"Möchten Sie wirklich alle Daten löschen?",clearOnlyCustomer:'Die Funktion "Formular leeren" ist nur im Kundendaten-Tab verfügbar.',confirmRemoveLocation:"Möchten Sie diesen Standort wirklich entfernen?","locations.services":"Services","locations.hotel.categorization":"Hotel-Kategorisierung","locations.hotel.small":"Klein (bis 50 Zimmer)","locations.hotel.medium":"Mittel (51-150 Zimmer)","locations.hotel.large":"Groß (über 150 Zimmer)","locations.hotel.unit":"Hotels","locations.hotel.breakfast":"Frühstücksservice","locations.hotel.restaurant":"Restaurant à la carte","locations.hotel.roomService":"Room Service","locations.hotel.banquet":"Bankett/Veranstaltungen","locations.hotel.ofPrefix":"von","locations.clinic.categorization":"Klinik-Kategorisierung","locations.clinic.small":"Klein (bis 150 Betten)","locations.clinic.medium":"Mittel (151-400 Betten)","locations.clinic.large":"Groß (über 400 Betten)","locations.clinic.unit":"Kliniken","locations.clinic.privatePatientShare":"Anteil Privatpatienten","locations.clinic.patientCatering":"Patientenverpflegung","locations.clinic.staffCatering":"Mitarbeiterverpflegung","locations.clinic.ofPrefix":"von","locations.senior.categorization":"Seniorenresidenz-Kategorisierung","locations.senior.small":"Klein (bis 50 Bewohner)","locations.senior.medium":"Mittel (51-150 Bewohner)","locations.senior.large":"Groß (über 150 Bewohner)","locations.senior.unit":"Residenzen","locations.senior.careFocus":"Pflegeschwerpunkt","locations.senior.careMixed":"Gemischt","locations.senior.careAssisted":"Betreutes Wohnen","locations.senior.careNursing":"Vollpflege","locations.senior.catering":"Verpflegung","locations.senior.fullCatering":"Vollverpflegung","locations.senior.partialCatering":"Teilverpflegung","locations.senior.specialDiet":"Sonderkostform","locations.senior.ofPrefix":"von","locations.restaurant.categorization":"Restaurant-Kategorisierung","locations.restaurant.small":"Klein (bis 50 Sitzplätze)","locations.restaurant.medium":"Mittel (51-150 Sitzplätze)","locations.restaurant.large":"Groß (über 150 Sitzplätze)","locations.restaurant.unit":"Restaurants","locations.restaurant.alaCarte":"À la carte","locations.restaurant.banquet":"Bankett/Veranstaltungen","locations.restaurant.ofPrefix":"von","locations.cafeteria.categorization":"Betriebsrestaurant-Kategorisierung","locations.cafeteria.small":"Klein (bis 200 MA)","locations.cafeteria.medium":"Mittel (201-500 MA)","locations.cafeteria.large":"Groß (über 500 MA)","locations.cafeteria.unit":"Standorte","locations.cafeteria.serviceScope":"Serviceumfang","locations.cafeteria.breakfast":"Frühstück","locations.cafeteria.lunch":"Mittagessen","locations.cafeteria.dinner":"Abendessen","locations.cafeteria.ofPrefix":"von","common.addLocation":"+ Standort hinzufügen","common.clearForm":"Formular leeren","common.save":"Speichern"},en:{clearForm:"Clear Form",save:"Save",calculator:"Discount Calculator",customer:"Customer Data",locations:"Locations",locationDetails:"Location Details",creditcheck:"Credit Check",profile:"Profile",offer:"Offer",settings:"Settings",calculatorTitle:"FreshPlan Discount Calculator",orderValue:"Order Value",leadTime:"Lead Time",days:"Days",pickup:"Pickup (Minimum order: €5,000 net)",baseDiscount:"Base Discount",earlyDiscount:"Early Booking",pickupDiscount:"Pickup",totalDiscount:"Total Discount",savings:"Savings",finalPrice:"Final Price",customerTitle:"Enter Customer Data",basicData:"Basic Data",companyName:"Company Name*",legalForm:"Legal Form*",customerType:"Customer Type*",industry:"Industry*",chainCustomer:"Chain Customer",customerNumberInternal:"Customer Number (internal)",addressData:"Address Data",streetAndNumber:"Street and Number*",postalCode:"Postal Code*",city:"City*",contactPerson:"Contact Person",contactName:"Name*",contactPosition:"Position",contactPhone:"Phone*",contactEmail:"Email*",businessData:"Business Data",expectedAnnualVolume:"Expected Annual Volume (€)*",paymentMethod:"Payment Method*",additionalInfo:"Additional Information",notes:"Notes",customField1:"Custom Field 1",customField2:"Custom Field 2",pleaseSelect:"Please select",yes:"Yes",no:"No",legalFormGmbH:"GmbH (Ltd.)",legalFormAG:"AG (Inc.)",legalFormGbR:"GbR (Partnership)",legalFormEinzel:"Sole Proprietorship",legalFormKG:"KG (Limited Partnership)",legalFormOHG:"OHG (General Partnership)",legalFormUG:"UG (Mini-GmbH)",newCustomer:"New Customer",existingCustomer:"Existing Customer",industryHotel:"Hotel",industryHospital:"Hospital",industryNursingHome:"Nursing Home",industryCafeteria:"Company Restaurant",industryRestaurant:"Restaurant",paymentPrepayment:"Prepayment",paymentCash:"Cash Payment",paymentInvoice:"Invoice (30 days net)",volumePlaceholder:"e.g. 500,000",notesPlaceholder:"Internal notes about the customer...",discountSystem:"FreshPlan Discount System",from:"from",from10days:"from 10 days",from15days:"from 15 days",from30days:"from 30 days",earlyBookingDiscount:"Early Booking Discount",maxTotalDiscount:"Maximum Total Discount: 15%",chainCustomerRegulation:"Chain Customer Regulation",chainCustomerDesc:"For companies with multiple locations (e.g. hotel or hospital groups):",optionA:"Option A:",optionADesc:"Orders from different locations within a week are combined",optionB:"Option B:",optionBDesc:"Central order with multiple deliveries",exampleScenarios:"Example Scenarios",hotelChain:"Hotel Chain",clinicGroup:"Hospital Group",restaurant:"Restaurant","21days":"21 Days","30days":"30 Days","14days":"14 Days",delivery:"Delivery",discount:"Discount",languageDE:"German",languageEN:"English",tagline:"So simple, fast and delicious!",locationsTitle:"Location Management",locationOverview:"Chain Overview",totalLocations:"Total Number of Locations",managementType:"Management Type",centralManagement:"Central Management",decentralManagement:"Decentralized Management",detailedCapture:"Detailed Capture",captureDetailsLabel:"Capture locations in detail",captureDetailsDesc:"Capture each location individually with address, contact person and specific properties.",vendingConcept:"Vending Concept",vendingInterestLabel:"Interest in Freshfoodz Vending?",vendingLocations:"Number of Locations with Vending",vendingType:"Vending Machine Type",vendingSnack:"Snack Machine",vendingFresh:"Fresh Machine",vendingCombi:"Combination Machine",locationDetailsTitle:"Detailed Location Capture",totalLocationsDetail:"Captured Locations:",addLocation:"+ Add Location",syncWarningTitle:"⚠️ Discrepancy Detected",syncWarningText:"The number and categories of captured locations do not match the information on the main location page.",noLocationsYet:"No locations captured yet.",clickAddLocation:"Click the button above to begin.","locationDetails.locationTitle":"Location","locationDetails.locationName":"Location Name*","locationDetails.category":"Category","locationDetails.mainLocation":"Main Location","locationDetails.branch":"Branch","locationDetails.externalOffice":"External Office","locationDetails.streetAndNumber":"Street and Number*","locationDetails.postalCode":"Postal Code*","locationDetails.city":"City*","locationDetails.contactName":"Contact Name","locationDetails.contactPhone":"Phone","locationDetails.contactEmail":"Email","common.remove":"Remove","common.pleaseSelect":"Please select",creditCheckTitle:"Credit Check",creditCheckDescription:"Credit check is only relevant for <strong>new customers</strong> who want to pay by invoice.",customerName:"Customer Name",creditLimitLabel:"Credit Limit/Open Items (€)",registrationNumber:"Trade Register Number*",vatId:"VAT ID*",companySize:"Company Size*",paymentHistory:"Previous Payment Experience",companySizeSmall:"Small (up to 50 employees)",companySizeMedium:"Medium (50-250 employees)",companySizeLarge:"Large (over 250 employees)",paymentHistoryNoInfo:"No information",paymentHistoryNew:"New customer - no experience",paymentHistoryGood:"Good - timely payment",paymentHistoryMedium:"Medium - occasional delays",paymentHistoryBad:"Poor - frequent reminders",checkStatus:"Check Status",status:"Status",notChecked:"Not checked",creditLimit:"Credit Limit",rating:"Rating",startCreditCheck:"Start Credit Check",requestManagement:"Request to Management",newCustomers:"New Customers",profileTitle:"Customer Profile",profileDescription:"Customer profiles are displayed and managed here.",offerTitle:"Create Offer",offerDescription:"Here you can create PDF offers for your customers.",settingsTitle:"Settings",settingsDescription:"Here you can adjust your personal data and default values.",fillRequired:"Please fill in all required fields:",saveSuccess:"Data saved successfully!",nothingToSave:"Nothing to save on this page.",confirmClear:"Do you really want to delete all data?",clearOnlyCustomer:'The "Clear Form" function is only available in the Customer Data tab.',confirmRemoveLocation:"Do you really want to remove this location?","locations.services":"Services","locations.hotel.categorization":"Hotel Categorization","locations.hotel.small":"Small (up to 50 rooms)","locations.hotel.medium":"Medium (51-150 rooms)","locations.hotel.large":"Large (over 150 rooms)","locations.hotel.unit":"Hotels","locations.hotel.breakfast":"Breakfast Service","locations.hotel.restaurant":"Restaurant à la carte","locations.hotel.roomService":"Room Service","locations.hotel.banquet":"Banquet/Events","locations.hotel.ofPrefix":"of","locations.clinic.categorization":"Clinic Categorization","locations.clinic.small":"Small (up to 150 beds)","locations.clinic.medium":"Medium (151-400 beds)","locations.clinic.large":"Large (over 400 beds)","locations.clinic.unit":"Clinics","locations.clinic.privatePatientShare":"Private Patient Share","locations.clinic.patientCatering":"Patient Catering","locations.clinic.staffCatering":"Staff Catering","locations.clinic.ofPrefix":"of","locations.senior.categorization":"Senior Residence Categorization","locations.senior.small":"Small (up to 50 residents)","locations.senior.medium":"Medium (51-150 residents)","locations.senior.large":"Large (over 150 residents)","locations.senior.unit":"Residences","locations.senior.careFocus":"Care Focus","locations.senior.careMixed":"Mixed","locations.senior.careAssisted":"Assisted Living","locations.senior.careNursing":"Full Care","locations.senior.catering":"Catering","locations.senior.fullCatering":"Full Catering","locations.senior.partialCatering":"Partial Catering","locations.senior.specialDiet":"Special Diet","locations.senior.ofPrefix":"of","locations.restaurant.categorization":"Restaurant Categorization","locations.restaurant.small":"Small (up to 50 seats)","locations.restaurant.medium":"Medium (51-150 seats)","locations.restaurant.large":"Large (over 150 seats)","locations.restaurant.unit":"Restaurants","locations.restaurant.alaCarte":"À la carte","locations.restaurant.banquet":"Banquet/Events","locations.restaurant.ofPrefix":"of","locations.cafeteria.categorization":"Cafeteria Categorization","locations.cafeteria.small":"Small (up to 200 employees)","locations.cafeteria.medium":"Medium (201-500 employees)","locations.cafeteria.large":"Large (over 500 employees)","locations.cafeteria.unit":"Locations","locations.cafeteria.serviceScope":"Service Scope","locations.cafeteria.breakfast":"Breakfast","locations.cafeteria.lunch":"Lunch","locations.cafeteria.dinner":"Dinner","locations.cafeteria.ofPrefix":"of","common.addLocation":"+ Add Location","common.clearForm":"Clear Form","common.save":"Save"}};let n="de";function a(){const e=document.getElementById("orderValue"),a=document.getElementById("leadTime"),o=document.getElementById("pickupToggle"),i=parseInt(e.value),l=parseInt(a.value),s=o.checked;document.getElementById("orderValueDisplay").textContent=`€${i.toLocaleString("de-DE")}`,document.getElementById("leadTimeDisplay").textContent=`${l} ${t[n].days||"Tage"}`;let r=0;i>=75e3?r=10:i>=5e4?r=9:i>=3e4?r=8:i>=15e3?r=6:i>=5e3&&(r=3);let c=0;l>=30?c=3:l>=15?c=2:l>=10&&(c=1);let u=0;s&&i>=5e3&&(u=2);let d=Math.min(r+c+u,15);document.getElementById("baseDiscount").textContent=`${r}%`,document.getElementById("earlyDiscount").textContent=`${c}%`,document.getElementById("pickupDiscount").textContent=`${u}%`,document.getElementById("totalDiscount").textContent=`${d}%`;const m=Math.round(i*d/100),p=i-m;document.getElementById("discountAmount").textContent=`€${m.toLocaleString("de-DE")}`,document.getElementById("finalPrice").textContent=`€${p.toLocaleString("de-DE")}`}function o(e){e.querySelectorAll("[data-i18n]").forEach((e=>{const a=e.getAttribute("data-i18n");if(a){const o=a.split(".");let i=t[n];for(const e of o){if(!i||"object"!=typeof i||!(e in i)){i=t[n][a];break}i=i[e]}"string"==typeof i&&(e.innerHTML=i)}}))}function i(e){const t=document.querySelector('.nav-tab[data-tab="locationdetails"]');t&&(t.style.display=e?"block":"none")}let l=[];function s(){const t=document.getElementById("locationDetailsList"),n=document.getElementById("noLocationsMessage"),a=document.getElementById("detailLocationCount");t&&(0===l.length?(n&&(n.style.display="block"),t.innerHTML=""):(n&&(n.style.display="none"),t.innerHTML=l.map(((t,n)=>e(t,n+1))).join(""),o(t),t.querySelectorAll("input, select").forEach((e=>{e.addEventListener("change",(e=>{const t=e.target,n=t.closest(".location-detail-card"),a=parseInt(n.getAttribute("data-location-id")),o=t.getAttribute("data-field"),i=l.find((e=>e.id===a));i&&(i[o]=t.value)}))}))),a&&(a.textContent=l.length.toString()),r())}function r(){const e=document.getElementById("totalLocations"),t=document.getElementById("syncWarning"),a=document.getElementById("syncWarningDetails"),o=document.getElementById("detailLocationTotal");if(!e||!t)return;const i=parseInt(e.value||"0"),s=l.length;o&&(o.textContent=i.toString()),i>0&&s!==i?(t.style.display="block",a&&(a.innerHTML="de"===n?`Sie haben ${s} Standorte erfasst, aber ${i} Standorte insgesamt angegeben.`:`You have captured ${s} locations, but specified ${i} locations in total.`)):t.style.display="none"}function c(){var e;const t=null==(e=document.getElementById("industry"))?void 0:e.value,n=document.getElementById("industrySpecificSection");if(!n)return;const a=function(e){switch(e){case"hotel":return'\n    <h3 class="form-section-title" data-i18n="locations.hotel.categorization">Hotel-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.hotel.small">Klein (bis 50 Zimmer)</label>\n        <input type="number" id="smallHotels" name="smallHotels" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.hotel.unit">Hotels</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.hotel.medium">Mittel (51-150 Zimmer)</label>\n        <input type="number" id="mediumHotels" name="mediumHotels" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.hotel.unit">Hotels</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.hotel.large">Groß (über 150 Zimmer)</label>\n        <input type="number" id="largeHotels" name="largeHotels" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.hotel.unit">Hotels</span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.services">Services</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.hotel.breakfast">Frühstücksservice</label>\n        <input type="number" id="hotelBreakfast" name="hotelBreakfast" min="0" max="999"> \n        <span><span data-i18n="locations.hotel.ofPrefix">von</span> <span id="totalHotelsCount">0</span> <span data-i18n="locations.hotel.unit">Hotels</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.hotel.restaurant">Restaurant à la carte</label>\n        <input type="number" id="hotelRestaurant" name="hotelRestaurant" min="0" max="999"> \n        <span><span data-i18n="locations.hotel.ofPrefix">von</span> <span id="totalHotelsCount2">0</span> <span data-i18n="locations.hotel.unit">Hotels</span></span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.hotel.roomService">Room Service</label>\n        <input type="number" id="hotelRoomService" name="hotelRoomService" min="0" max="999"> \n        <span><span data-i18n="locations.hotel.ofPrefix">von</span> <span id="totalHotelsCount3">0</span> <span data-i18n="locations.hotel.unit">Hotels</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.hotel.banquet">Bankett/Veranstaltungen</label>\n        <input type="number" id="hotelBanquet" name="hotelBanquet" min="0" max="999"> \n        <span><span data-i18n="locations.hotel.ofPrefix">von</span> <span id="totalHotelsCount4">0</span> <span data-i18n="locations.hotel.unit">Hotels</span></span>\n      </div>\n    </div>\n  ';case"krankenhaus":return'\n    <h3 class="form-section-title" data-i18n="locations.clinic.categorization">Klinik-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.clinic.small">Klein (bis 150 Betten)</label>\n        <input type="number" id="smallClinics" name="smallClinics" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.clinic.unit">Kliniken</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.clinic.medium">Mittel (151-400 Betten)</label>\n        <input type="number" id="mediumClinics" name="mediumClinics" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.clinic.unit">Kliniken</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.clinic.large">Groß (über 400 Betten)</label>\n        <input type="number" id="largeClinics" name="largeClinics" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.clinic.unit">Kliniken</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.clinic.privatePatientShare">Anteil Privatpatienten</label>\n        <input type="range" id="privatePatientShare" name="privatePatientShare" min="0" max="100" value="15" class="slider" \n               oninput="document.getElementById(\'privatePatientDisplay\').textContent = this.value + \'%\'">\n        <span id="privatePatientDisplay">15%</span>\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.services">Services</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.clinic.patientCatering">Patientenverpflegung</label>\n        <input type="number" id="clinicPremiumMeals" name="clinicPremiumMeals" min="0" max="999"> \n        <span><span data-i18n="locations.clinic.ofPrefix">von</span> <span id="totalClinicsCount">0</span> <span data-i18n="locations.clinic.unit">Kliniken</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.clinic.staffCatering">Mitarbeiterverpflegung</label>\n        <input type="number" id="clinicStaffCatering" name="clinicStaffCatering" min="0" max="999"> \n        <span><span data-i18n="locations.clinic.ofPrefix">von</span> <span id="totalClinicsCount2">0</span> <span data-i18n="locations.clinic.unit">Kliniken</span></span>\n      </div>\n    </div>\n  ';case"seniorenresidenz":return'\n    <h3 class="form-section-title" data-i18n="locations.senior.categorization">Seniorenresidenz-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.senior.small">Klein (bis 50 Bewohner)</label>\n        <input type="number" id="smallSeniorResidences" name="smallSeniorResidences" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.senior.unit">Residenzen</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.senior.medium">Mittel (51-150 Bewohner)</label>\n        <input type="number" id="mediumSeniorResidences" name="mediumSeniorResidences" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.senior.unit">Residenzen</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.senior.large">Groß (über 150 Bewohner)</label>\n        <input type="number" id="largeSeniorResidences" name="largeSeniorResidences" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.senior.unit">Residenzen</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.senior.careFocus">Pflegeschwerpunkt</label>\n        <select id="careLevel" name="careLevel">\n          <option value="mixed" data-i18n="locations.senior.careMixed">Gemischt</option>\n          <option value="assisted" data-i18n="locations.senior.careAssisted">Betreutes Wohnen</option>\n          <option value="nursing" data-i18n="locations.senior.careNursing">Vollpflege</option>\n        </select>\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.senior.catering">Verpflegung</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.senior.fullCatering">Vollverpflegung</label>\n        <input type="number" id="seniorFullCatering" name="seniorFullCatering" min="0" max="999"> \n        <span><span data-i18n="locations.senior.ofPrefix">von</span> <span id="totalSeniorResidencesCount">0</span> <span data-i18n="locations.senior.unit">Residenzen</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.senior.partialCatering">Teilverpflegung</label>\n        <input type="number" id="seniorPartialCatering" name="seniorPartialCatering" min="0" max="999"> \n        <span><span data-i18n="locations.senior.ofPrefix">von</span> <span id="totalSeniorResidencesCount2">0</span> <span data-i18n="locations.senior.unit">Residenzen</span></span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.senior.specialDiet">Sonderkostform</label>\n        <input type="number" id="seniorSpecialDiet" name="seniorSpecialDiet" min="0" max="999"> \n        <span><span data-i18n="locations.senior.ofPrefix">von</span> <span id="totalSeniorResidencesCount3">0</span> <span data-i18n="locations.senior.unit">Residenzen</span></span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n  ';case"restaurant":return'\n    <h3 class="form-section-title" data-i18n="locations.restaurant.categorization">Restaurant-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.small">Klein (bis 50 Sitzplätze)</label>\n        <input type="number" id="smallRestaurants" name="smallRestaurants" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.restaurant.unit">Restaurants</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.medium">Mittel (51-150 Sitzplätze)</label>\n        <input type="number" id="mediumRestaurants" name="mediumRestaurants" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.restaurant.unit">Restaurants</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.large">Groß (über 150 Sitzplätze)</label>\n        <input type="number" id="largeRestaurants" name="largeRestaurants" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.restaurant.unit">Restaurants</span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.services">Services</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.alaCarte">À la carte</label>\n        <input type="number" id="restaurantAlaCarte" name="restaurantAlaCarte" min="0" max="999"> \n        <span><span data-i18n="locations.restaurant.ofPrefix">von</span> <span id="totalRestaurantsCount">0</span> <span data-i18n="locations.restaurant.unit">Restaurants</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.banquet">Bankett/Veranstaltungen</label>\n        <input type="number" id="restaurantBanquet" name="restaurantBanquet" min="0" max="999"> \n        <span><span data-i18n="locations.restaurant.ofPrefix">von</span> <span id="totalRestaurantsCount2">0</span> <span data-i18n="locations.restaurant.unit">Restaurants</span></span>\n      </div>\n    </div>\n  ';case"betriebsrestaurant":return'\n    <h3 class="form-section-title" data-i18n="locations.cafeteria.categorization">Betriebsrestaurant-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.small">Klein (bis 200 MA)</label>\n        <input type="number" id="smallCafeterias" name="smallCafeterias" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.cafeteria.unit">Standorte</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.medium">Mittel (201-500 MA)</label>\n        <input type="number" id="mediumCafeterias" name="mediumCafeterias" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.cafeteria.unit">Standorte</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.large">Groß (über 500 MA)</label>\n        <input type="number" id="largeCafeterias" name="largeCafeterias" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.cafeteria.unit">Standorte</span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.cafeteria.serviceScope">Serviceumfang</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.breakfast">Frühstück</label>\n        <input type="number" id="cafeteriaBreakfast" name="cafeteriaBreakfast" min="0" max="999"> \n        <span><span data-i18n="locations.cafeteria.ofPrefix">von</span> <span id="totalCafeteriasCount">0</span> <span data-i18n="locations.cafeteria.unit">Standorten</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.lunch">Mittagessen</label>\n        <input type="number" id="cafeteriaLunch" name="cafeteriaLunch" min="0" max="999"> \n        <span><span data-i18n="locations.cafeteria.ofPrefix">von</span> <span id="totalCafeteriasCount2">0</span> <span data-i18n="locations.cafeteria.unit">Standorten</span></span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.dinner">Abendessen</label>\n        <input type="number" id="cafeteriaDinner" name="cafeteriaDinner" min="0" max="999"> \n        <span><span data-i18n="locations.cafeteria.ofPrefix">von</span> <span id="totalCafeteriasCount3">0</span> <span data-i18n="locations.cafeteria.unit">Standorten</span></span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n  ';default:return""}}(t);n.innerHTML=a,o(n)}function u(){var e,t,n,a,o,i,l,s,c,u,d,m,p,g,f,v;const y=null==(e=document.getElementById("industry"))?void 0:e.value;let h=0;switch(y){case"hotel":h=parseInt((null==(t=document.getElementById("smallHotels"))?void 0:t.value)||"0")+parseInt((null==(n=document.getElementById("mediumHotels"))?void 0:n.value)||"0")+parseInt((null==(a=document.getElementById("largeHotels"))?void 0:a.value)||"0"),["totalHotelsCount","totalHotelsCount2","totalHotelsCount3","totalHotelsCount4"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=h.toString())}));break;case"krankenhaus":h=parseInt((null==(o=document.getElementById("smallClinics"))?void 0:o.value)||"0")+parseInt((null==(i=document.getElementById("mediumClinics"))?void 0:i.value)||"0")+parseInt((null==(l=document.getElementById("largeClinics"))?void 0:l.value)||"0"),["totalClinicsCount","totalClinicsCount2"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=h.toString())}));break;case"seniorenresidenz":h=parseInt((null==(s=document.getElementById("smallSeniorResidences"))?void 0:s.value)||"0")+parseInt((null==(c=document.getElementById("mediumSeniorResidences"))?void 0:c.value)||"0")+parseInt((null==(u=document.getElementById("largeSeniorResidences"))?void 0:u.value)||"0"),["totalSeniorResidencesCount","totalSeniorResidencesCount2","totalSeniorResidencesCount3"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=h.toString())}));break;case"restaurant":h=parseInt((null==(d=document.getElementById("smallRestaurants"))?void 0:d.value)||"0")+parseInt((null==(m=document.getElementById("mediumRestaurants"))?void 0:m.value)||"0")+parseInt((null==(p=document.getElementById("largeRestaurants"))?void 0:p.value)||"0"),["totalRestaurantsCount","totalRestaurantsCount2"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=h.toString())}));break;case"betriebsrestaurant":h=parseInt((null==(g=document.getElementById("smallCafeterias"))?void 0:g.value)||"0")+parseInt((null==(f=document.getElementById("mediumCafeterias"))?void 0:f.value)||"0")+parseInt((null==(v=document.getElementById("largeCafeterias"))?void 0:v.value)||"0"),["totalCafeteriasCount","totalCafeteriasCount2","totalCafeteriasCount3"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=h.toString())}))}const b=document.getElementById("totalLocations");b&&(b.value=h.toString()),r()}window.updateCalculator=a,window.changeLanguage=function(e){n=e,document.querySelectorAll("[data-i18n]").forEach((n=>{const a=n.getAttribute("data-i18n");if(a){const o=a.split(".");let i=t[e];for(const n of o){if(!i||"object"!=typeof i||!(n in i)){i=t[e][a];break}i=i[n]}"string"==typeof i&&(n.innerHTML=i)}})),document.querySelectorAll("[data-i18n-placeholder]").forEach((n=>{const a=n.getAttribute("data-i18n-placeholder");a&&t[e]&&t[e][a]&&(n.placeholder=t[e][a])})),a()},window.handleClearForm=function(){const e=document.querySelector(".tab-panel.active");if(e&&"customer"===e.id){if(confirm(t[n].confirmClear)){document.getElementById("customerForm").reset(),localStorage.removeItem("freshplanData"),document.querySelectorAll("#customerForm [required]").forEach((e=>{e.style.borderColor=""})),document.getElementById("orderValue").value="15000",document.getElementById("leadTime").value="14",document.getElementById("pickupToggle").checked=!1,a(),l=[],s();const e=document.querySelector('.nav-tab[data-tab="locations"]');e&&(e.style.display="none"),i(!1)}}else alert(t[n].clearOnlyCustomer)},window.handleSaveForm=function(){var e,a,o,i,s,r,c,u,d,m,p,g,f,v,y,h,b,C;const S=document.querySelector(".tab-panel.active");if(S&&"customer"===S.id){const S=document.getElementById("customerForm"),B=S.querySelectorAll("[required]");let E=!0,D=[];if(B.forEach((e=>{const t=e;if(t.value&&""!==t.value.trim())t.style.borderColor="";else{E=!1,t.style.borderColor="var(--danger)";const e=S.querySelector(`label[for="${t.id}"]`);D.push(e?e.textContent.replace("*","").trim():t.id)}})),!E)return void alert(t[n].fillRequired+"\n\n"+D.join("\n"));const k=document.getElementById("customerType").value,I=document.getElementById("paymentMethod").value;if("neukunde"===k&&"rechnung"===I&&!confirm("de"===n?"Hinweis: Für Neukunden ist Zahlung auf Rechnung erst nach Bonitätsprüfung möglich. Möchten Sie fortfahren?":"Note: For new customers, payment by invoice is only possible after credit check. Do you want to continue?"))return;const L={};L.calculator={orderValue:document.getElementById("orderValue").value,leadTime:document.getElementById("leadTime").value,pickup:document.getElementById("pickupToggle").checked};const P=["companyName","legalForm","customerType","industry","chainCustomer","customerNumber","street","postalCode","city","contactName","contactPosition","contactPhone","contactEmail","expectedVolume","paymentMethod","notes","customField1","customField2"];if(L.customer={},P.forEach((e=>{const t=document.getElementById(e);t&&(L.customer[e]=t.value)})),"ja"===(null==(e=document.getElementById("chainCustomer"))?void 0:e.value)){L.locations={totalLocations:(null==(a=document.getElementById("totalLocations"))?void 0:a.value)||"0",managementType:(null==(o=document.getElementById("locationsManagementType"))?void 0:o.value)||"zentral",detailedLocations:(null==(i=document.getElementById("detailedLocations"))?void 0:i.checked)||!1};switch(null==(s=document.getElementById("industry"))?void 0:s.value){case"hotel":L.locations.smallHotels=(null==(r=document.getElementById("smallHotels"))?void 0:r.value)||"0",L.locations.mediumHotels=(null==(c=document.getElementById("mediumHotels"))?void 0:c.value)||"0",L.locations.largeHotels=(null==(u=document.getElementById("largeHotels"))?void 0:u.value)||"0",L.locations.hotelBreakfast=(null==(d=document.getElementById("hotelBreakfast"))?void 0:d.value)||"0",L.locations.hotelRestaurant=(null==(m=document.getElementById("hotelRestaurant"))?void 0:m.value)||"0",L.locations.hotelRoomService=(null==(p=document.getElementById("hotelRoomService"))?void 0:p.value)||"0",L.locations.hotelBanquet=(null==(g=document.getElementById("hotelBanquet"))?void 0:g.value)||"0";break;case"krankenhaus":L.locations.smallClinics=(null==(f=document.getElementById("smallClinics"))?void 0:f.value)||"0",L.locations.mediumClinics=(null==(v=document.getElementById("mediumClinics"))?void 0:v.value)||"0",L.locations.largeClinics=(null==(y=document.getElementById("largeClinics"))?void 0:y.value)||"0",L.locations.privatePatientShare=(null==(h=document.getElementById("privatePatientShare"))?void 0:h.value)||"15",L.locations.clinicPremiumMeals=(null==(b=document.getElementById("clinicPremiumMeals"))?void 0:b.value)||"0",L.locations.clinicStaffCatering=(null==(C=document.getElementById("clinicStaffCatering"))?void 0:C.value)||"0"}L.locationDetailsList=l}localStorage.setItem("freshplanData",JSON.stringify(L)),alert(t[n].saveSuccess)}else alert(t[n].nothingToSave)},window.loadExample=function(e){const t=document.getElementById("orderValue"),n=document.getElementById("leadTime"),o=document.getElementById("pickupToggle");switch(e){case"hotel":t.value="35000",n.value="21",o.checked=!0;break;case"klinik":t.value="65000",n.value="30",o.checked=!1;break;case"restaurant":t.value="8500",n.value="14",o.checked=!0}a()},window.formatCurrency=function(e){let t=e.value.replace(/[^0-9]/g,"");if(t){const n=parseInt(t);e.value=n.toLocaleString("de-DE")}},window.toggleLocationDetailsTab=i,window.addLocationDetail=function(){const e={id:Date.now(),name:"",street:"",postalCode:"",city:"",contactName:"",contactPhone:"",contactEmail:"",category:""};l.push(e),s()},window.startCreditCheck=function(){alert("de"===n?"Bonitätsprüfung wird gestartet...\n(In der Demo-Version nicht verfügbar)":"Credit check is starting...\n(Not available in demo version)")},window.requestManagementApproval=function(){alert("de"===n?"Anfrage an Geschäftsleitung wird gesendet...\n(In der Demo-Version nicht verfügbar)":"Request to management is being sent...\n(Not available in demo version)")},window.updateTotalLocations=u,window.removeLocationDetail=function(e){confirm(t[n].confirmRemoveLocation)&&(l=l.filter((t=>t.id!==e)),s(),r())},function(){const e=document.querySelectorAll(".nav-tab"),t=document.querySelectorAll(".tab-panel");if(e.forEach((n=>{n.addEventListener("click",(()=>{const a=n.getAttribute("data-tab");e.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.remove("active"))),n.classList.add("active");const o=document.getElementById(a);o&&o.classList.add("active"),window.location.hash=a}))})),window.location.hash){const e=window.location.hash.substring(1),t=document.querySelector(`.nav-tab[data-tab="${e}"]`);t&&t.click()}}(),a(),function(){const e=localStorage.getItem("freshplanData");if(e)try{const t=JSON.parse(e);if(t.calculator&&(t.calculator.orderValue&&(document.getElementById("orderValue").value=t.calculator.orderValue),t.calculator.leadTime&&(document.getElementById("leadTime").value=t.calculator.leadTime),void 0!==t.calculator.pickup&&(document.getElementById("pickupToggle").checked=t.calculator.pickup),a()),t.customer){if(Object.keys(t.customer).forEach((e=>{const n=document.getElementById(e);n&&(n.value=t.customer[e])})),"ja"===t.customer.chainCustomer){const e=document.querySelector('.nav-tab[data-tab="locations"]');e&&(e.style.display="block")}t.customer.industry&&c()}if(t.locations){if(t.locations.totalLocations){const e=document.getElementById("totalLocations");e&&(e.value=t.locations.totalLocations)}if(t.locations.managementType){const e=document.getElementById("locationsManagementType");e&&(e.value=t.locations.managementType)}if(void 0!==t.locations.detailedLocations){const e=document.getElementById("detailedLocations");e&&(e.checked=t.locations.detailedLocations,i(t.locations.detailedLocations))}setTimeout((()=>{Object.keys(t.locations).forEach((e=>{if("totalLocations"!==e&&"managementType"!==e&&"detailedLocations"!==e){const n=document.getElementById(e);n&&(n.value=t.locations[e])}})),u()}),100)}t.locationDetailsList&&(l=t.locationDetailsList,s())}catch(t){console.error("Error loading saved data:",t)}}(),function(){const e=document.getElementById("chainCustomer"),t=document.querySelector('.nav-tab[data-tab="locations"]');e&&e.addEventListener("change",(()=>{const n="ja"===e.value;t&&(t.style.display=n?"block":"none")}));const n=document.getElementById("industry");n&&(n.addEventListener("change",c),c())}(),function(){const e=document.getElementById("vendingInterest"),t=document.getElementById("vendingDetails");e&&t&&e.addEventListener("change",(()=>{t.style.display=e.checked?"block":"none"}))}(),function(){const e=document.getElementById("customerType"),t=document.getElementById("paymentMethod");function a(){e&&t&&"neukunde"===e.value&&"rechnung"===t.value&&alert("de"===n?"Hinweis: Für Neukunden ist Zahlung auf Rechnung erst nach Bonitätsprüfung möglich.":"Note: For new customers, payment by invoice is only possible after credit check.")}e&&e.addEventListener("change",a),t&&t.addEventListener("change",a)}(),s()}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{console.log("Phase 1b: Initializing JavaScript functionality..."),n()})):(console.log("Phase 1b: Initializing JavaScript functionality..."),n());</script>
  <style rel="stylesheet" crossorigin>*{margin:0;padding:0;box-sizing:border-box}:root{--primary-blue: #004f7b;--primary-green: #94c456;--dark-green: #7fb040;--warning: #ff9800;--danger: #f44336;--bg-light: #f8f9fa;--text-dark: #333;--text-light: #666;--border-light: #e0e0e0}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:#f5f5f5;color:var(--text-dark);line-height:1.6}.header{background:#fff;color:var(--primary-blue);padding:1rem 2rem;box-shadow:0 2px 4px #0000001a}.header-content{display:flex;justify-content:space-between;align-items:center;max-width:1400px;margin:0 auto;position:relative}.header-actions{display:flex;gap:1rem;align-items:center}.header-btn{padding:.5rem 1rem;border:none;border-radius:6px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s}.header-btn-save{background:var(--primary-green);color:#fff}.header-btn-save:hover{background:var(--dark-green);transform:translateY(-1px);box-shadow:0 4px 12px #94c4564d}.header-btn-clear{background:transparent;color:var(--primary-blue);border:2px solid var(--primary-blue)}.header-btn-clear:hover{background:var(--primary-blue);color:#fff}.header-select{padding:.5rem 1rem;border:2px solid var(--border-light);border-radius:6px;font-size:.875rem;font-weight:500;background:#fff;color:var(--primary-blue);cursor:pointer;transition:all .3s}.header-select:hover{border-color:var(--primary-green)}.header-select:focus{outline:none;border-color:var(--primary-green);box-shadow:0 0 0 3px #94c4561a}.logo{display:flex;align-items:center;gap:1rem}.logo h1{font-size:1.5rem;font-weight:700;color:var(--primary-blue)}.logo-tagline{font-size:.875rem;color:var(--primary-green);font-weight:500}.nav{background:#fff;box-shadow:0 2px 4px #0000000d;position:sticky;top:0;z-index:100}.nav-tabs{display:flex;max-width:1400px;margin:0 auto}.nav-tab{padding:1rem 2rem;cursor:pointer;border:none;background:none;font-size:1rem;transition:all .3s;border-bottom:3px solid transparent;color:var(--text-dark)}.nav-tab:hover{background:var(--bg-light)}.nav-tab.active{color:var(--primary-blue);border-bottom-color:var(--primary-green);font-weight:600}.container{max-width:1400px;margin:2rem auto;padding:0 1rem}.tab-panel{display:none}.tab-panel.active{display:block}.demonstrator-container{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.calculator-section{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 12px #0000000f}.section-title{color:var(--primary-blue);font-size:1.5rem;margin-bottom:2rem}.slider-group{margin-bottom:2rem}.slider-label{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-weight:500}.slider-value{font-size:1.25rem;font-weight:700;color:var(--primary-green);background:#94c4561a;padding:.25rem .75rem;border-radius:6px}.slider{width:100%;height:6px;border-radius:3px;background:#e0e0e0;outline:none;-webkit-appearance:none}.slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:var(--primary-green);cursor:pointer;border:2px solid white;box-shadow:0 2px 8px #94c4564d}.slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(--primary-green);cursor:pointer;border:2px solid white;box-shadow:0 2px 8px #94c4564d}.checkbox-label{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-weight:500;margin-bottom:2rem}.checkbox{width:20px;height:20px;cursor:pointer}.results-container{background:var(--bg-light);padding:1.5rem;border-radius:10px;margin-top:2rem}.result-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}.result-item{text-align:center;padding:1rem;background:#fff;border-radius:8px;border:1px solid rgba(0,0,0,.06)}.result-label{display:block;font-size:.875rem;color:var(--text-light);margin-bottom:.5rem}.result-value{display:block;font-size:1.5rem;font-weight:700;color:var(--primary-blue)}.total-discount{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;background:linear-gradient(135deg,var(--primary-green),#7fb069);color:#fff;border-radius:10px;margin-bottom:1rem}.total-value{font-size:2rem;font-weight:700}.savings-display{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.savings-item{text-align:center;padding:1rem;background:#fff;border-radius:8px}.savings-item.highlight{background:var(--primary-blue);color:#fff}.savings-value{display:block;font-size:1.25rem;font-weight:700;margin-top:.5rem}.info-section{display:flex;flex-direction:column;gap:1.5rem}.info-card{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 12px #0000000f}.info-header{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.info-header h3{color:var(--primary-blue);font-size:1.25rem}.customer-container{max-width:1200px;margin:0 auto}.alert-box{background:#ff98001a;border:1px solid rgba(255,152,0,.3);color:var(--text-dark);padding:1.5rem;border-radius:12px;margin-bottom:2rem;display:none}.alert-box.show{display:block}.alert-content h3{color:var(--warning);margin-bottom:.5rem}.alert-actions{display:flex;gap:1rem;margin-top:1rem}.customer-form{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 12px #0000000f}.form-section{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid var(--border-light)}.form-section:last-of-type{border-bottom:none}.form-section-title{color:var(--primary-blue);font-size:1.2rem;margin-bottom:1rem}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group{display:flex;flex-direction:column}.form-group label{margin-bottom:.5rem;font-weight:500;color:var(--text-dark)}.form-group input,.form-group select,.form-group textarea{padding:.75rem;border:1px solid var(--border-light);border-radius:8px;font-size:1rem;transition:all .3s}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--primary-green);box-shadow:0 0 0 3px #94c4561a}.btn{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:.5rem}.btn-primary{background:var(--primary-green);color:#fff}.btn-primary:hover{background:var(--dark-green);transform:translateY(-1px);box-shadow:0 4px 12px #94c4564d}.btn-secondary{background:#6c757d;color:#fff}.btn-secondary:hover{background:#5a6268}.form-actions{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem;padding-top:2rem;border-top:1px solid var(--border-light)}.credit-status{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.status-item{background:#fff;padding:1rem;border-radius:8px;text-align:center;border:1px solid var(--border-light)}.status-label{display:block;font-size:.875rem;color:var(--text-light);margin-bottom:.25rem}.status-value{display:block;font-size:1.25rem;font-weight:700;color:var(--text-dark)}@media (max-width: 768px){.demonstrator-container,.form-row,.result-grid{grid-template-columns:1fr}.nav-tabs{overflow-x:auto}.nav-tab{padding:1rem;font-size:.875rem}}.example-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px #94c4564d;border-color:var(--primary-green)!important;background:#94c4560d!important}@media (max-width: 768px){.examples-container{grid-template-columns:1fr!important;gap:.5rem!important}}</style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <img src="./assets/images/logo.png" alt="FreshFoodz Logo" style="height: 50px; margin-right: 1rem;">
                <div>
                    <h1>FreshPlan</h1>
                    <span class="logo-tagline" data-i18n="tagline">So einfach, schnell und lecker!</span>
                </div>
            </div>
            <div class="header-actions">
                <select id="languageSelect" class="header-select" onchange="changeLanguage(this.value)">
                    <option value="de" data-i18n="languageDE">Deutsch</option>
                    <option value="en" data-i18n="languageEN">English</option>
                </select>
                <button class="header-btn header-btn-clear" onclick="handleClearForm()">
                    <span data-i18n="common.clearForm">Formular leeren</span>
                </button>
                <button class="header-btn header-btn-save" onclick="handleSaveForm()">
                    <span data-i18n="common.save">Speichern</span>
                </button>
            </div>
        </div>
    </header>

    <nav class="nav">
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="calculator" role="tab" aria-selected="true">
                <span data-i18n="calculator">Rabattrechner</span>
            </button>
            <button class="nav-tab" data-tab="customer" role="tab" aria-selected="false">
                <span data-i18n="customer">Kundendaten</span>
            </button>
            <button class="nav-tab" data-tab="locations" role="tab" aria-selected="false" style="display: none;">
                <span data-i18n="locations">Standorte</span>
            </button>
            <button class="nav-tab" data-tab="locationdetails" role="tab" aria-selected="false" style="display: none;">
                <span data-i18n="locationDetails">Standort-Details</span>
            </button>
            <button class="nav-tab" data-tab="creditcheck" role="tab" aria-selected="false">
                <span data-i18n="creditcheck">Bonitätsprüfung</span>
            </button>
            <button class="nav-tab" data-tab="profile" role="tab" aria-selected="false">
                <span data-i18n="profile">Profil</span>
            </button>
            <button class="nav-tab" data-tab="offer" role="tab" aria-selected="false">
                <span data-i18n="offer">Angebot</span>
            </button>
            <button class="nav-tab" data-tab="settings" role="tab" aria-selected="false">
                <span data-i18n="settings">Einstellungen</span>
            </button>
        </div>
    </nav>

    <div class="container">
        <!-- Calculator Tab -->
        <div id="calculator" class="tab-panel active">
            <div class="demonstrator-container">
                <!-- Calculator Section -->
                <div class="calculator-section">
                    <h2 class="section-title" data-i18n="calculatorTitle">FreshPlan Rabattrechner</h2>
                    
                    <!-- Order Value Slider -->
                    <div class="slider-group">
                        <div class="slider-label">
                            <span data-i18n="orderValue">Bestellwert</span>
                            <span class="slider-value" id="orderValueDisplay">€15.000</span>
                        </div>
                        <input type="range" id="orderValue" class="slider" 
                               min="1000" max="100000" step="1000" value="15000" 
                               oninput="updateCalculator()">
                    </div>
                    
                    <!-- Lead Time Slider -->
                    <div class="slider-group">
                        <div class="slider-label">
                            <span data-i18n="leadTime">Vorlaufzeit</span>
                            <span class="slider-value" id="leadTimeDisplay">14 Tage</span>
                        </div>
                        <input type="range" id="leadTime" class="slider" 
                               min="1" max="30" step="1" value="14" 
                               oninput="updateCalculator()">
                    </div>
                    
                    <!-- Pickup Checkbox -->
                    <div class="checkbox-label">
                        <input type="checkbox" id="pickupToggle" class="checkbox" onchange="updateCalculator()">
                        <span data-i18n="pickup">Abholung (Mindestbestellwert: 5.000€ netto)</span>
                    </div>
                    
                    <!-- Results -->
                    <div class="results-container">
                        <div class="result-grid">
                            <div class="result-item">
                                <span class="result-label" data-i18n="baseDiscount">Basisrabatt</span>
                                <span class="result-value" id="baseDiscount">6%</span>
                            </div>
                            <div class="result-item">
                                <span class="result-label" data-i18n="earlyDiscount">Frühbucher</span>
                                <span class="result-value" id="earlyDiscount">1%</span>
                            </div>
                            <div class="result-item">
                                <span class="result-label" data-i18n="pickupDiscount">Abholung</span>
                                <span class="result-value" id="pickupDiscount">0%</span>
                            </div>
                        </div>
                        
                        <div class="total-discount">
                            <span data-i18n="totalDiscount">Gesamtrabatt</span>
                            <span class="total-value" id="totalDiscount">7%</span>
                        </div>
                        
                        <div class="savings-display">
                            <div class="savings-item">
                                <span data-i18n="savings">Ersparnis</span>
                                <span class="savings-value" id="discountAmount">€1.050</span>
                            </div>
                            <div class="savings-item highlight">
                                <span data-i18n="finalPrice">Endpreis</span>
                                <span class="savings-value" id="finalPrice">€13.950</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Info Section -->
                <div class="info-section">
                    <!-- Discount System Info -->
                    <div class="info-card">
                        <div class="info-header">
                            <h3 data-i18n="discountSystem">FreshPlan-Rabattsystem</h3>
                        </div>
                        <div class="info-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <h4 style="font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--primary-blue);" data-i18n="baseDiscount">Basisrabatt</h4>
                                <table style="width: 100%; font-size: 0.813rem; border-collapse: collapse;">
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0; width: auto;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace; width: 4rem;">5.000€</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">3%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">15.000€</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">6%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">30.000€</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">8%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">50.000€</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">9%</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">75.000€</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">10%</td>
                                    </tr>
                                </table>
                            </div>
                            <div>
                                <h4 style="font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--primary-blue);" data-i18n="earlyBookingDiscount">Frühbucherrabatt</h4>
                                <table style="width: 100%; font-size: 0.813rem; border-collapse: collapse;">
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from10days">ab 10 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">1%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from15days">ab 15 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">2%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from30days">ab 30 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">3%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;">&nbsp;</td>
                                        <td style="text-align: right; font-weight: 600;">&nbsp;</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.25rem 0;" data-i18n="pickup">Abholung</td>
                                        <td style="text-align: right; font-weight: 600;">2%</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 0.75rem; padding-top: 0.75rem; border-top: 2px solid var(--primary-green);">
                            <strong style="color: var(--primary-green); font-size: 0.9rem;" data-i18n="maxTotalDiscount">Maximaler Gesamtrabatt: 15%</strong>
                        </div>
                    </div>
                    
                    <!-- Chain Customer Info -->
                    <div class="info-card">
                        <div class="info-header">
                            <h3 data-i18n="chainCustomerRegulation">Kettenkundenregelung</h3>
                        </div>
                        <p data-i18n="chainCustomerDesc">Für Unternehmen mit mehreren Standorten (z.B. Hotel- oder Klinikgruppen):</p>
                        <ul style="margin-left: 1rem;">
                            <li><strong data-i18n="optionA">Option A:</strong> <span data-i18n="optionADesc">Bestellungen verschiedener Standorte innerhalb einer Woche werden zusammengerechnet</span></li>
                            <li><strong data-i18n="optionB">Option B:</strong> <span data-i18n="optionBDesc">Zentrale Bestellung mit Mehrfachauslieferung</span></li>
                        </ul>
                    </div>
                    
                    <!-- Example Scenarios -->
                    <div class="info-card" style="background: rgba(148, 196, 86, 0.1); border: 1px solid rgba(148, 196, 86, 0.3);">
                        <div class="info-header">
                            <h3 style="color: var(--primary-green);" data-i18n="exampleScenarios">Beispielszenarien</h3>
                        </div>
                        <div class="examples-container" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem;">
                            <div class="example-item" onclick="loadExample('hotel')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">🏨 <span data-i18n="hotelChain">Hotelkette</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">35.000 €</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="21days">21 Tage</span> • <span data-i18n="pickup">Abholung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">12% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                            <div class="example-item" onclick="loadExample('klinik')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">🏥 <span data-i18n="clinicGroup">Klinikgruppe</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">65.000 €</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="30days">30 Tage</span> • <span data-i18n="delivery">Lieferung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">12% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                            <div class="example-item" onclick="loadExample('restaurant')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">🍽️ <span data-i18n="restaurant">Restaurant</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">8.500 €</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="14days">14 Tage</span> • <span data-i18n="pickup">Abholung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">6% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Tab -->
        <div id="customer" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="customerTitle">Kundendaten erfassen</h2>
                
                <form id="customerForm" class="customer-form">
                    <!-- Basic Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="basicData">Grunddaten</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="companyName" data-i18n="companyName">Firmenname*</label>
                                <input type="text" id="companyName" name="companyName" required>
                            </div>
                            <div class="form-group">
                                <label for="legalForm" data-i18n="legalForm">Rechtsform*</label>
                                <select id="legalForm" name="legalForm" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte wählen</option>
                                    <option value="gmbh" data-i18n="legalFormGmbH">GmbH</option>
                                    <option value="ag" data-i18n="legalFormAG">AG</option>
                                    <option value="gbr" data-i18n="legalFormGbR">GbR</option>
                                    <option value="einzelunternehmen" data-i18n="legalFormEinzel">Einzelunternehmen</option>
                                    <option value="kg" data-i18n="legalFormKG">KG</option>
                                    <option value="ohg" data-i18n="legalFormOHG">OHG</option>
                                    <option value="ug" data-i18n="legalFormUG">UG</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="customerType" data-i18n="customerType">Kundentyp*</label>
                                <select id="customerType" name="customerType" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte wählen</option>
                                    <option value="neukunde" data-i18n="newCustomer">Neukunde</option>
                                    <option value="bestandskunde" data-i18n="existingCustomer">Bestandskunde</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="industry" data-i18n="industry">Branche*</label>
                                <select id="industry" name="industry" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte wählen</option>
                                    <option value="hotel" data-i18n="industryHotel">Hotel</option>
                                    <option value="krankenhaus" data-i18n="industryHospital">Klinik</option>
                                    <option value="seniorenresidenz" data-i18n="industryNursingHome">Seniorenresidenz</option>
                                    <option value="betriebsrestaurant" data-i18n="industryCafeteria">Betriebsrestaurant</option>
                                    <option value="restaurant" data-i18n="industryRestaurant">Restaurant</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="chainCustomer" data-i18n="chainCustomer">Kettenkunde</label>
                                <select id="chainCustomer" name="chainCustomer">
                                    <option value="nein" data-i18n="no">Nein</option>
                                    <option value="ja" data-i18n="yes">Ja</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="customerNumber" data-i18n="customerNumberInternal">Kundennummer (intern)</label>
                                <input type="text" id="customerNumber" name="customerNumber">
                            </div>
                        </div>
                    </div>

                    <!-- Address Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="addressData">Adressdaten</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label for="street" data-i18n="streetAndNumber">Straße und Hausnummer*</label>
                                <input type="text" id="street" name="street" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="postalCode" data-i18n="postalCode">PLZ*</label>
                                <input type="text" id="postalCode" name="postalCode" required maxlength="5">
                            </div>
                            <div class="form-group">
                                <label for="city" data-i18n="city">Ort*</label>
                                <input type="text" id="city" name="city" required>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Person Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="contactPerson">Ansprechpartner</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contactName" data-i18n="contactName">Name*</label>
                                <input type="text" id="contactName" name="contactName" required>
                            </div>
                            <div class="form-group">
                                <label for="contactPosition" data-i18n="contactPosition">Position</label>
                                <input type="text" id="contactPosition" name="contactPosition">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contactPhone" data-i18n="contactPhone">Telefon*</label>
                                <input type="tel" id="contactPhone" name="contactPhone" required>
                            </div>
                            <div class="form-group">
                                <label for="contactEmail" data-i18n="contactEmail">E-Mail*</label>
                                <input type="email" id="contactEmail" name="contactEmail" required>
                            </div>
                        </div>
                    </div>

                    <!-- Business Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="businessData">Geschäftsdaten</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expectedVolume" data-i18n="expectedAnnualVolume">Erwartetes Jahresvolumen (€)*</label>
                                <input type="text" id="expectedVolume" name="expectedVolume" required 
                                       placeholder="z.B. 500.000" data-i18n-placeholder="volumePlaceholder"
                                       oninput="formatCurrency(this)">
                            </div>
                            <div class="form-group">
                                <label for="paymentMethod" data-i18n="paymentMethod">Zahlungsart*</label>
                                <select id="paymentMethod" name="paymentMethod" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte wählen</option>
                                    <option value="vorkasse" data-i18n="paymentPrepayment">Vorkasse</option>
                                    <option value="barzahlung" data-i18n="paymentCash">Barzahlung</option>
                                    <option value="rechnung" data-i18n="paymentInvoice">Rechnung (30 Tage netto)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Info Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="additionalInfo">Zusatzinformationen</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label for="notes" data-i18n="notes">Notizen</label>
                                <textarea id="notes" name="notes" rows="3" 
                                         placeholder="Interne Notizen zum Kunden..." 
                                         data-i18n-placeholder="notesPlaceholder"></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="customField1" data-i18n="customField1">Freifeld 1</label>
                                <input type="text" id="customField1" name="customField1">
                            </div>
                            <div class="form-group">
                                <label for="customField2" data-i18n="customField2">Freifeld 2</label>
                                <input type="text" id="customField2" name="customField2">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Locations Tab -->
        <div id="locations" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="locationsTitle">Standortverwaltung</h2>
                
                <div class="customer-form">
                    <!-- Basic Location Info -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="locationOverview">Kettenübersicht</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="totalLocations" data-i18n="totalLocations">Gesamtanzahl Standorte</label>
                                <input type="number" id="totalLocations" name="totalLocations" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="locationsManagementType" data-i18n="managementType">Verwaltungstyp</label>
                                <select id="locationsManagementType" name="locationsManagementType">
                                    <option value="zentral" data-i18n="centralManagement">Zentrale Verwaltung</option>
                                    <option value="dezentral" data-i18n="decentralManagement">Dezentrale Verwaltung</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Industry Specific Fields -->
                    <div id="industrySpecificSection">
                        <!-- Will be populated by JavaScript based on selected industry -->
                    </div>

                    <!-- Detailed Capture Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="detailedCapture">Detaillierte Erfassung</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="detailedLocations" name="detailedLocations" 
                                           onchange="toggleLocationDetailsTab(this.checked)">
                                    <span data-i18n="captureDetailsLabel">Standorte detailliert erfassen</span>
                                </label>
                                <p style="font-size: 0.875rem; color: var(--text-light); margin-top: 0.5rem;">
                                    <span data-i18n="captureDetailsDesc">Erfassen Sie jeden Standort einzeln mit Adresse, Ansprechpartner und spezifischen Eigenschaften.</span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Vending Concept Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="vendingConcept">Vending-Konzept</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="vendingInterest" name="vendingInterest">
                                    <span data-i18n="vendingInterestLabel">Interesse an Freshfoodz-Vending?</span>
                                </label>
                            </div>
                        </div>
                        <div id="vendingDetails" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vendingLocations" data-i18n="vendingLocations">Anzahl Standorte mit Vending</label>
                                    <input type="number" id="vendingLocations" name="vendingLocations" min="0" value="0">
                                </div>
                                <div class="form-group">
                                    <label for="vendingType" data-i18n="vendingType">Automatentyp</label>
                                    <select id="vendingType" name="vendingType">
                                        <option value="" data-i18n="pleaseSelect">Bitte wählen</option>
                                        <option value="snack" data-i18n="vendingSnack">Snack-Automat</option>
                                        <option value="fresh" data-i18n="vendingFresh">Frische-Automat</option>
                                        <option value="combi" data-i18n="vendingCombi">Kombi-Automat</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Location Details Tab -->
        <div id="locationdetails" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="locationDetailsTitle">Detaillierte Standorterfassung</h2>
                
                <div class="customer-form">
                    <!-- Summary -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <p><span data-i18n="totalLocationsDetail">Erfasste Standorte:</span> <strong id="detailLocationCount">0</strong></p>
                                <p><span data-i18n="totalLocations">Gesamtanzahl Standorte:</span> <strong id="detailLocationTotal">0</strong></p>
                            </div>
                            <div class="form-group">
                                <button type="button" class="btn btn-primary" onclick="addLocationDetail()">
                                    <span data-i18n="common.addLocation">+ Standort hinzufügen</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Sync Warning -->
                    <div id="syncWarning" class="alert-box" style="display: none;">
                        <div class="alert-content">
                            <h3 data-i18n="syncWarningTitle">⚠️ Abweichung erkannt</h3>
                            <p data-i18n="syncWarningText">Die Anzahl und Kategorien der erfassten Standorte stimmen nicht mit den Angaben auf der Haupt-Standortseite überein.</p>
                            <div id="syncWarningDetails"></div>
                        </div>
                    </div>

                    <!-- No Locations Message -->
                    <div id="noLocationsMessage" class="form-section" style="text-align: center; padding: 2rem;">
                        <p data-i18n="noLocationsYet">Noch keine Standorte erfasst.</p>
                        <p data-i18n="clickAddLocation">Klicken Sie auf "Standort hinzufügen" um zu beginnen.</p>
                    </div>

                    <!-- Location Details List -->
                    <div id="locationDetailsList">
                        <!-- Location details will be added dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Credit Check Tab -->
        <div id="creditcheck" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="creditCheckTitle">Bonitätsprüfung</h2>
                
                <div class="alert-box show">
                    <div class="alert-content">
                        <h3 data-i18n="newCustomers">Neukunden</h3>
                        <p data-i18n="creditCheckDescription">Die Bonitätsprüfung ist nur für <strong>Neukunden</strong> relevant, die auf Rechnung zahlen möchten.</p>
                    </div>
                </div>
                
                <div class="customer-form">
                    <!-- Customer Info -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="creditCustomerName" data-i18n="customerName">Kundenname</label>
                                <input type="text" id="creditCustomerName" name="creditCustomerName" readonly>
                            </div>
                            <div class="form-group">
                                <label for="creditLimit" data-i18n="creditLimitLabel">Kreditlimit/Offene Posten (€)</label>
                                <input type="text" id="creditLimit" name="creditLimit" 
                                       oninput="formatCurrency(this)">
                            </div>
                        </div>
                    </div>

                    <!-- Company Details -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="registrationNumber" data-i18n="registrationNumber">Handelsregisternummer*</label>
                                <input type="text" id="registrationNumber" name="registrationNumber" required>
                            </div>
                            <div class="form-group">
                                <label for="vatId" data-i18n="vatId">USt-IdNr.*</label>
                                <input type="text" id="vatId" name="vatId" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="companySize" data-i18n="companySize">Unternehmensgröße*</label>
                                <select id="companySize" name="companySize" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte wählen</option>
                                    <option value="small" data-i18n="companySizeSmall">Klein (bis 50 Mitarbeiter)</option>
                                    <option value="medium" data-i18n="companySizeMedium">Mittel (50-250 Mitarbeiter)</option>
                                    <option value="large" data-i18n="companySizeLarge">Groß (über 250 Mitarbeiter)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="paymentHistory" data-i18n="paymentHistory">Bisherige Zahlungserfahrungen</label>
                                <select id="paymentHistory" name="paymentHistory">
                                    <option value="no-info" data-i18n="paymentHistoryNoInfo">Keine Angabe</option>
                                    <option value="new" data-i18n="paymentHistoryNew">Neukunde - keine Erfahrungen</option>
                                    <option value="good" data-i18n="paymentHistoryGood">Gut - pünktliche Zahlung</option>
                                    <option value="medium" data-i18n="paymentHistoryMedium">Mittel - gelegentliche Verzögerungen</option>
                                    <option value="bad" data-i18n="paymentHistoryBad">Schlecht - häufige Mahnungen</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Credit Status -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="checkStatus">Prüfungsstatus</h3>
                        <div class="credit-status">
                            <div class="status-item">
                                <span class="status-label" data-i18n="status">Status</span>
                                <span class="status-value" data-i18n="notChecked">Nicht geprüft</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label" data-i18n="creditLimit">Kreditlimit</span>
                                <span class="status-value">-</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label" data-i18n="rating">Bewertung</span>
                                <span class="status-value">-</span>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="startCreditCheck()">
                                <span data-i18n="startCreditCheck">Bonitätsprüfung starten</span>
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="requestManagementApproval()">
                                <span data-i18n="requestManagement">Anfrage an Geschäftsleitung</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Tab -->
        <div id="profile" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="profileTitle">Kundenprofil</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="profileDescription">Hier werden die Kundenprofile angezeigt und verwaltet.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Offer Tab -->
        <div id="offer" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="offerTitle">Angebot erstellen</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="offerDescription">Hier können Sie PDF-Angebote für Ihre Kunden erstellen.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="settingsTitle">Einstellungen</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="settingsDescription">Hier können Sie Ihre persönlichen Daten und Standardwerte anpassen.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
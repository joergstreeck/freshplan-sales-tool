<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreshPlan Sales Tool</title>
    
    <!-- Vite Module Script -->
  <script type="module" crossorigin>var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);function n(e,t){return`\n    <div class="location-detail-card" data-location-id="${e.id}">\n      ${function(e,t){return`\n    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">\n      <h4 style="margin: 0;">\n        <span data-i18n="locationDetails.locationTitle">Standort</span> ${e}\n      </h4>\n      <button type="button" class="btn btn-danger btn-sm" onclick="removeLocationDetail(${t})">\n        <span data-i18n="common.remove">Entfernen</span>\n      </button>\n    </div>\n  `}(t,e.id)}\n      ${function(e){return`\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locationDetails.locationName">Standortname*</label>\n        <input type="text" class="location-name" value="${a(e.name)}" data-field="name">\n      </div>\n      <div class="form-group">\n        <label data-i18n="locationDetails.category">Kategorie</label>\n        <select class="location-category" data-field="category">\n          <option value="" data-i18n="common.pleaseSelect">Bitte w√§hlen</option>\n          <option value="hauptstandort" ${"hauptstandort"===e.category?"selected":""} \n                  data-i18n="locationDetails.mainLocation">Hauptstandort</option>\n          <option value="filiale" ${"filiale"===e.category?"selected":""} \n                  data-i18n="locationDetails.branch">Filiale</option>\n          <option value="aussenstelle" ${"aussenstelle"===e.category?"selected":""} \n                  data-i18n="locationDetails.externalOffice">Au√üenstelle</option>\n        </select>\n      </div>\n    </div>\n  `}(e)}\n      ${function(e){return`\n    <div class="form-row">\n      <div class="form-group" style="grid-column: span 2;">\n        <label data-i18n="locationDetails.streetAndNumber">Stra√üe und Hausnummer*</label>\n        <input type="text" class="location-street" value="${a(e.street)}" data-field="street">\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locationDetails.postalCode">PLZ*</label>\n        <input type="text" class="location-postalcode" value="${a(e.postalCode)}" \n               data-field="postalCode" maxlength="5">\n      </div>\n      <div class="form-group">\n        <label data-i18n="locationDetails.city">Ort*</label>\n        <input type="text" class="location-city" value="${a(e.city)}" data-field="city">\n      </div>\n    </div>\n  `}(e)}\n      ${function(e){return`\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locationDetails.contactName">Ansprechpartner Name</label>\n        <input type="text" class="location-contact-name" value="${a(e.contactName)}" \n               data-field="contactName">\n      </div>\n      <div class="form-group">\n        <label data-i18n="locationDetails.contactPhone">Telefon</label>\n        <input type="tel" class="location-contact-phone" value="${a(e.contactPhone)}" \n               data-field="contactPhone">\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group" style="grid-column: span 2;">\n        <label data-i18n="locationDetails.contactEmail">E-Mail</label>\n        <input type="email" class="location-contact-email" value="${a(e.contactEmail)}" \n               data-field="contactEmail">\n      </div>\n    </div>\n  `}(e)}\n    </div>\n  `}function a(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(e=>t[e]))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const i="tab:switch",o="tab:switched",s="tab:beforeSwitch",r="tab:progressUpdate",l="tab:accessDenied";function c(){const e=document.querySelectorAll(".nav-tab"),t=document.querySelectorAll(".tab-panel");if(window.addEventListener(o,(n=>{const{tab:a}=n.detail;e.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.remove("active")));const i=document.querySelector(`.nav-tab[data-tab="${a}"]`),o=document.getElementById(a);i&&i.classList.add("active"),o&&o.classList.add("active")})),e.forEach((n=>{n.addEventListener("click",(()=>{var a;const s=n.getAttribute("data-tab"),r=null==(a=document.querySelector(".nav-tab.active"))?void 0:a.getAttribute("data-tab");window.dispatchEvent(new CustomEvent(i,{detail:{tab:s,previousTab:r,source:"legacy"}})),e.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.remove("active"))),n.classList.add("active");const l=document.getElementById(s);l&&l.classList.add("active"),window.location.hash=s,window.dispatchEvent(new CustomEvent(o,{detail:{tab:s,previousTab:r,source:"legacy"}}))}))})),window.location.hash){const e=window.location.hash.substring(1),t=document.querySelector(`.nav-tab[data-tab="${e}"]`);t&&t.click()}}function u(){if(new URLSearchParams(window.location.search).has("phase2"))return console.log("üîÑ Legacy script disabled - Phase 2 CustomerModule active"),document.querySelectorAll("[onclick]").forEach((e=>{console.log(`üßπ Removing onclick from: ${e.className||e.tagName}`),e.onclick=null,e.removeAttribute("onclick")})),c(),void window.dispatchEvent(new CustomEvent("legacy:skipped",{detail:{module:"customer",reason:"phase2"}}));window.__LEGACY_SCRIPT_ACTIVE=!0;const e={de:{clearForm:"Formular leeren",save:"Speichern",calculator:"Rabattrechner",customer:"Kundendaten",locations:"Standorte",locationDetails:"Standort-Details",creditcheck:"Bonit√§tspr√ºfung",profile:"Profil",offer:"Angebot",settings:"Einstellungen",calculatorTitle:"FreshPlan Rabattrechner",orderValue:"Bestellwert",leadTime:"Vorlaufzeit",days:"Tage",pickup:"Abholung (Mindestbestellwert: 5.000‚Ç¨ netto)",baseDiscount:"Basisrabatt",earlyDiscount:"Fr√ºhbucher",pickupDiscount:"Abholung",totalDiscount:"Gesamtrabatt",savings:"Ersparnis",finalPrice:"Endpreis",customerTitle:"Kundendaten erfassen",basicData:"Grunddaten",companyName:"Firmenname*",legalForm:"Rechtsform*",customerType:"Kundentyp*",industry:"Branche*",chainCustomer:"Kettenkunde",customerNumberInternal:"Kundennummer (intern)",addressData:"Adressdaten",streetAndNumber:"Stra√üe und Hausnummer*",postalCode:"PLZ*",city:"Ort*",contactPerson:"Ansprechpartner",contactName:"Name*",contactPosition:"Position",contactPhone:"Telefon*",contactEmail:"E-Mail*",businessData:"Gesch√§ftsdaten",expectedAnnualVolume:"Erwartetes Jahresvolumen (‚Ç¨)*",paymentMethod:"Zahlungsart*",additionalInfo:"Zusatzinformationen",notes:"Notizen",customField1:"Freifeld 1",customField2:"Freifeld 2",pleaseSelect:"Bitte w√§hlen",yes:"Ja",no:"Nein",legalFormGmbH:"GmbH",legalFormAG:"AG",legalFormGbR:"GbR",legalFormEinzel:"Einzelunternehmen",legalFormKG:"KG",legalFormOHG:"OHG",legalFormUG:"UG",newCustomer:"Neukunde",existingCustomer:"Bestandskunde",industryHotel:"Hotel",industryHospital:"Klinik",industryNursingHome:"Seniorenresidenz",industryCafeteria:"Betriebsrestaurant",industryRestaurant:"Restaurant",paymentPrepayment:"Vorkasse",paymentCash:"Barzahlung",paymentInvoice:"Rechnung (30 Tage netto)",volumePlaceholder:"z.B. 500.000",notesPlaceholder:"Interne Notizen zum Kunden...",discountSystem:"FreshPlan-Rabattsystem",from:"ab",from10days:"ab 10 Tage",from15days:"ab 15 Tage",from30days:"ab 30 Tage",earlyBookingDiscount:"Fr√ºhbucherrabatt",maxTotalDiscount:"Maximaler Gesamtrabatt: 15%",chainCustomerRegulation:"Kettenkundenregelung",chainCustomerDesc:"F√ºr Unternehmen mit mehreren Standorten (z.B. Hotel- oder Klinikgruppen):",optionA:"Option A:",optionADesc:"Bestellungen verschiedener Standorte innerhalb einer Woche werden zusammengerechnet",optionB:"Option B:",optionBDesc:"Zentrale Bestellung mit Mehrfachauslieferung",exampleScenarios:"Beispielszenarien",hotelChain:"Hotelkette",clinicGroup:"Klinikgruppe",restaurant:"Restaurant","21days":"21 Tage","30days":"30 Tage","14days":"14 Tage",delivery:"Lieferung",discount:"Rabatt",languageDE:"Deutsch",languageEN:"English",tagline:"So einfach, schnell und lecker!",locationsTitle:"Standortverwaltung",locationOverview:"Ketten√ºbersicht",totalLocations:"Gesamtanzahl Standorte",managementType:"Verwaltungstyp",centralManagement:"Zentrale Verwaltung",decentralManagement:"Dezentrale Verwaltung",detailedCapture:"Detaillierte Erfassung",captureDetailsLabel:"Standorte detailliert erfassen",captureDetailsDesc:"Erfassen Sie jeden Standort einzeln mit Adresse, Ansprechpartner und spezifischen Eigenschaften.",vendingConcept:"Vending-Konzept",vendingInterestLabel:"Interesse an Freshfoodz-Vending?",vendingLocations:"Anzahl Standorte mit Vending",vendingType:"Automatentyp",vendingSnack:"Snack-Automat",vendingFresh:"Frische-Automat",vendingCombi:"Kombi-Automat",locationDetailsTitle:"Detaillierte Standorterfassung",totalLocationsDetail:"Erfasste Standorte:",addLocation:"+ Standort hinzuf√ºgen",syncWarningTitle:"‚ö†Ô∏è Abweichung erkannt",syncWarningText:"Die Anzahl und Kategorien der erfassten Standorte stimmen nicht mit den Angaben auf der Haupt-Standortseite √ºberein.",noLocationsYet:"Noch keine Standorte erfasst.",clickAddLocation:"Klicken Sie auf den Button oben um zu beginnen.","locationDetails.locationTitle":"Standort","locationDetails.locationName":"Standortname*","locationDetails.category":"Kategorie","locationDetails.mainLocation":"Hauptstandort","locationDetails.branch":"Filiale","locationDetails.externalOffice":"Au√üenstelle","locationDetails.streetAndNumber":"Stra√üe und Hausnummer*","locationDetails.postalCode":"PLZ*","locationDetails.city":"Ort*","locationDetails.contactName":"Ansprechpartner Name","locationDetails.contactPhone":"Telefon","locationDetails.contactEmail":"E-Mail","common.remove":"Entfernen","common.pleaseSelect":"Bitte w√§hlen",creditCheckTitle:"Bonit√§tspr√ºfung",creditCheckDescription:"Die Bonit√§tspr√ºfung ist nur f√ºr <strong>Neukunden</strong> relevant, die auf Rechnung zahlen m√∂chten.",customerName:"Kundenname",creditLimitLabel:"Kreditlimit/Offene Posten (‚Ç¨)",registrationNumber:"Handelsregisternummer*",vatId:"USt-IdNr.*",companySize:"Unternehmensgr√∂√üe*",paymentHistory:"Bisherige Zahlungserfahrungen",companySizeSmall:"Klein (bis 50 Mitarbeiter)",companySizeMedium:"Mittel (50-250 Mitarbeiter)",companySizeLarge:"Gro√ü (√ºber 250 Mitarbeiter)",paymentHistoryNoInfo:"Keine Angabe",paymentHistoryNew:"Neukunde - keine Erfahrungen",paymentHistoryGood:"Gut - p√ºnktliche Zahlung",paymentHistoryMedium:"Mittel - gelegentliche Verz√∂gerungen",paymentHistoryBad:"Schlecht - h√§ufige Mahnungen",checkStatus:"Pr√ºfungsstatus",status:"Status",notChecked:"Nicht gepr√ºft",creditLimit:"Kreditlimit",rating:"Bewertung",startCreditCheck:"Bonit√§tspr√ºfung starten",requestManagement:"Anfrage an Gesch√§ftsleitung",newCustomers:"Neukunden",profileTitle:"Kundenprofil",profileDescription:"Hier werden die Kundenprofile angezeigt und verwaltet.",offerTitle:"Angebot erstellen",offerDescription:"Hier k√∂nnen Sie PDF-Angebote f√ºr Ihre Kunden erstellen.",settingsTitle:"Einstellungen",settingsDescription:"Hier k√∂nnen Sie Ihre pers√∂nlichen Daten und Standardwerte anpassen.",fillRequired:"Bitte f√ºllen Sie alle Pflichtfelder aus:",saveSuccess:"Daten wurden erfolgreich gespeichert!",nothingToSave:"Aktuell gibt es auf dieser Seite nichts zu speichern.",confirmClear:"M√∂chten Sie wirklich alle Daten l√∂schen?",clearOnlyCustomer:'Die Funktion "Formular leeren" ist nur im Kundendaten-Tab verf√ºgbar.',confirmRemoveLocation:"M√∂chten Sie diesen Standort wirklich entfernen?","locations.services":"Services","locations.hotel.categorization":"Hotel-Kategorisierung","locations.hotel.small":"Klein (bis 50 Zimmer)","locations.hotel.medium":"Mittel (51-150 Zimmer)","locations.hotel.large":"Gro√ü (√ºber 150 Zimmer)","locations.hotel.unit":"Hotels","locations.hotel.breakfast":"Fr√ºhst√ºcksservice","locations.hotel.restaurant":"Restaurant √† la carte","locations.hotel.roomService":"Room Service","locations.hotel.banquet":"Bankett/Veranstaltungen","locations.hotel.ofPrefix":"von","locations.clinic.categorization":"Klinik-Kategorisierung","locations.clinic.small":"Klein (bis 150 Betten)","locations.clinic.medium":"Mittel (151-400 Betten)","locations.clinic.large":"Gro√ü (√ºber 400 Betten)","locations.clinic.unit":"Kliniken","locations.clinic.privatePatientShare":"Anteil Privatpatienten","locations.clinic.patientCatering":"Patientenverpflegung","locations.clinic.staffCatering":"Mitarbeiterverpflegung","locations.clinic.ofPrefix":"von","locations.senior.categorization":"Seniorenresidenz-Kategorisierung","locations.senior.small":"Klein (bis 50 Bewohner)","locations.senior.medium":"Mittel (51-150 Bewohner)","locations.senior.large":"Gro√ü (√ºber 150 Bewohner)","locations.senior.unit":"Residenzen","locations.senior.careFocus":"Pflegeschwerpunkt","locations.senior.careMixed":"Gemischt","locations.senior.careAssisted":"Betreutes Wohnen","locations.senior.careNursing":"Vollpflege","locations.senior.catering":"Verpflegung","locations.senior.fullCatering":"Vollverpflegung","locations.senior.partialCatering":"Teilverpflegung","locations.senior.specialDiet":"Sonderkostform","locations.senior.ofPrefix":"von","locations.restaurant.categorization":"Restaurant-Kategorisierung","locations.restaurant.small":"Klein (bis 50 Sitzpl√§tze)","locations.restaurant.medium":"Mittel (51-150 Sitzpl√§tze)","locations.restaurant.large":"Gro√ü (√ºber 150 Sitzpl√§tze)","locations.restaurant.unit":"Restaurants","locations.restaurant.alaCarte":"√Ä la carte","locations.restaurant.banquet":"Bankett/Veranstaltungen","locations.restaurant.ofPrefix":"von","locations.cafeteria.categorization":"Betriebsrestaurant-Kategorisierung","locations.cafeteria.small":"Klein (bis 200 MA)","locations.cafeteria.medium":"Mittel (201-500 MA)","locations.cafeteria.large":"Gro√ü (√ºber 500 MA)","locations.cafeteria.unit":"Standorte","locations.cafeteria.serviceScope":"Serviceumfang","locations.cafeteria.breakfast":"Fr√ºhst√ºck","locations.cafeteria.lunch":"Mittagessen","locations.cafeteria.dinner":"Abendessen","locations.cafeteria.ofPrefix":"von","common.addLocation":"+ Standort hinzuf√ºgen","common.clearForm":"Formular leeren","common.save":"Speichern"},en:{clearForm:"Clear Form",save:"Save",calculator:"Discount Calculator",customer:"Customer Data",locations:"Locations",locationDetails:"Location Details",creditcheck:"Credit Check",profile:"Profile",offer:"Offer",settings:"Settings",calculatorTitle:"FreshPlan Discount Calculator",orderValue:"Order Value",leadTime:"Lead Time",days:"Days",pickup:"Pickup (Minimum order: ‚Ç¨5,000 net)",baseDiscount:"Base Discount",earlyDiscount:"Early Booking",pickupDiscount:"Pickup",totalDiscount:"Total Discount",savings:"Savings",finalPrice:"Final Price",customerTitle:"Enter Customer Data",basicData:"Basic Data",companyName:"Company Name*",legalForm:"Legal Form*",customerType:"Customer Type*",industry:"Industry*",chainCustomer:"Chain Customer",customerNumberInternal:"Customer Number (internal)",addressData:"Address Data",streetAndNumber:"Street and Number*",postalCode:"Postal Code*",city:"City*",contactPerson:"Contact Person",contactName:"Name*",contactPosition:"Position",contactPhone:"Phone*",contactEmail:"Email*",businessData:"Business Data",expectedAnnualVolume:"Expected Annual Volume (‚Ç¨)*",paymentMethod:"Payment Method*",additionalInfo:"Additional Information",notes:"Notes",customField1:"Custom Field 1",customField2:"Custom Field 2",pleaseSelect:"Please select",yes:"Yes",no:"No",legalFormGmbH:"GmbH (Ltd.)",legalFormAG:"AG (Inc.)",legalFormGbR:"GbR (Partnership)",legalFormEinzel:"Sole Proprietorship",legalFormKG:"KG (Limited Partnership)",legalFormOHG:"OHG (General Partnership)",legalFormUG:"UG (Mini-GmbH)",newCustomer:"New Customer",existingCustomer:"Existing Customer",industryHotel:"Hotel",industryHospital:"Hospital",industryNursingHome:"Nursing Home",industryCafeteria:"Company Restaurant",industryRestaurant:"Restaurant",paymentPrepayment:"Prepayment",paymentCash:"Cash Payment",paymentInvoice:"Invoice (30 days net)",volumePlaceholder:"e.g. 500,000",notesPlaceholder:"Internal notes about the customer...",discountSystem:"FreshPlan Discount System",from:"from",from10days:"from 10 days",from15days:"from 15 days",from30days:"from 30 days",earlyBookingDiscount:"Early Booking Discount",maxTotalDiscount:"Maximum Total Discount: 15%",chainCustomerRegulation:"Chain Customer Regulation",chainCustomerDesc:"For companies with multiple locations (e.g. hotel or hospital groups):",optionA:"Option A:",optionADesc:"Orders from different locations within a week are combined",optionB:"Option B:",optionBDesc:"Central order with multiple deliveries",exampleScenarios:"Example Scenarios",hotelChain:"Hotel Chain",clinicGroup:"Hospital Group",restaurant:"Restaurant","21days":"21 Days","30days":"30 Days","14days":"14 Days",delivery:"Delivery",discount:"Discount",languageDE:"German",languageEN:"English",tagline:"So simple, fast and delicious!",locationsTitle:"Location Management",locationOverview:"Chain Overview",totalLocations:"Total Number of Locations",managementType:"Management Type",centralManagement:"Central Management",decentralManagement:"Decentralized Management",detailedCapture:"Detailed Capture",captureDetailsLabel:"Capture locations in detail",captureDetailsDesc:"Capture each location individually with address, contact person and specific properties.",vendingConcept:"Vending Concept",vendingInterestLabel:"Interest in Freshfoodz Vending?",vendingLocations:"Number of Locations with Vending",vendingType:"Vending Machine Type",vendingSnack:"Snack Machine",vendingFresh:"Fresh Machine",vendingCombi:"Combination Machine",locationDetailsTitle:"Detailed Location Capture",totalLocationsDetail:"Captured Locations:",addLocation:"+ Add Location",syncWarningTitle:"‚ö†Ô∏è Discrepancy Detected",syncWarningText:"The number and categories of captured locations do not match the information on the main location page.",noLocationsYet:"No locations captured yet.",clickAddLocation:"Click the button above to begin.","locationDetails.locationTitle":"Location","locationDetails.locationName":"Location Name*","locationDetails.category":"Category","locationDetails.mainLocation":"Main Location","locationDetails.branch":"Branch","locationDetails.externalOffice":"External Office","locationDetails.streetAndNumber":"Street and Number*","locationDetails.postalCode":"Postal Code*","locationDetails.city":"City*","locationDetails.contactName":"Contact Name","locationDetails.contactPhone":"Phone","locationDetails.contactEmail":"Email","common.remove":"Remove","common.pleaseSelect":"Please select",creditCheckTitle:"Credit Check",creditCheckDescription:"Credit check is only relevant for <strong>new customers</strong> who want to pay by invoice.",customerName:"Customer Name",creditLimitLabel:"Credit Limit/Open Items (‚Ç¨)",registrationNumber:"Trade Register Number*",vatId:"VAT ID*",companySize:"Company Size*",paymentHistory:"Previous Payment Experience",companySizeSmall:"Small (up to 50 employees)",companySizeMedium:"Medium (50-250 employees)",companySizeLarge:"Large (over 250 employees)",paymentHistoryNoInfo:"No information",paymentHistoryNew:"New customer - no experience",paymentHistoryGood:"Good - timely payment",paymentHistoryMedium:"Medium - occasional delays",paymentHistoryBad:"Poor - frequent reminders",checkStatus:"Check Status",status:"Status",notChecked:"Not checked",creditLimit:"Credit Limit",rating:"Rating",startCreditCheck:"Start Credit Check",requestManagement:"Request to Management",newCustomers:"New Customers",profileTitle:"Customer Profile",profileDescription:"Customer profiles are displayed and managed here.",offerTitle:"Create Offer",offerDescription:"Here you can create PDF offers for your customers.",settingsTitle:"Settings",settingsDescription:"Here you can adjust your personal data and default values.",fillRequired:"Please fill in all required fields:",saveSuccess:"Data saved successfully!",nothingToSave:"Nothing to save on this page.",confirmClear:"Do you really want to delete all data?",clearOnlyCustomer:'The "Clear Form" function is only available in the Customer Data tab.',confirmRemoveLocation:"Do you really want to remove this location?","locations.services":"Services","locations.hotel.categorization":"Hotel Categorization","locations.hotel.small":"Small (up to 50 rooms)","locations.hotel.medium":"Medium (51-150 rooms)","locations.hotel.large":"Large (over 150 rooms)","locations.hotel.unit":"Hotels","locations.hotel.breakfast":"Breakfast Service","locations.hotel.restaurant":"Restaurant √† la carte","locations.hotel.roomService":"Room Service","locations.hotel.banquet":"Banquet/Events","locations.hotel.ofPrefix":"of","locations.clinic.categorization":"Clinic Categorization","locations.clinic.small":"Small (up to 150 beds)","locations.clinic.medium":"Medium (151-400 beds)","locations.clinic.large":"Large (over 400 beds)","locations.clinic.unit":"Clinics","locations.clinic.privatePatientShare":"Private Patient Share","locations.clinic.patientCatering":"Patient Catering","locations.clinic.staffCatering":"Staff Catering","locations.clinic.ofPrefix":"of","locations.senior.categorization":"Senior Residence Categorization","locations.senior.small":"Small (up to 50 residents)","locations.senior.medium":"Medium (51-150 residents)","locations.senior.large":"Large (over 150 residents)","locations.senior.unit":"Residences","locations.senior.careFocus":"Care Focus","locations.senior.careMixed":"Mixed","locations.senior.careAssisted":"Assisted Living","locations.senior.careNursing":"Full Care","locations.senior.catering":"Catering","locations.senior.fullCatering":"Full Catering","locations.senior.partialCatering":"Partial Catering","locations.senior.specialDiet":"Special Diet","locations.senior.ofPrefix":"of","locations.restaurant.categorization":"Restaurant Categorization","locations.restaurant.small":"Small (up to 50 seats)","locations.restaurant.medium":"Medium (51-150 seats)","locations.restaurant.large":"Large (over 150 seats)","locations.restaurant.unit":"Restaurants","locations.restaurant.alaCarte":"√Ä la carte","locations.restaurant.banquet":"Banquet/Events","locations.restaurant.ofPrefix":"of","locations.cafeteria.categorization":"Cafeteria Categorization","locations.cafeteria.small":"Small (up to 200 employees)","locations.cafeteria.medium":"Medium (201-500 employees)","locations.cafeteria.large":"Large (over 500 employees)","locations.cafeteria.unit":"Locations","locations.cafeteria.serviceScope":"Service Scope","locations.cafeteria.breakfast":"Breakfast","locations.cafeteria.lunch":"Lunch","locations.cafeteria.dinner":"Dinner","locations.cafeteria.ofPrefix":"of","common.addLocation":"+ Add Location","common.clearForm":"Clear Form","common.save":"Save"}};let t="de";function a(){const n=document.getElementById("orderValue"),a=document.getElementById("leadTime"),i=document.getElementById("pickupToggle"),o=parseInt(n.value),s=parseInt(a.value),r=i.checked;document.getElementById("orderValueDisplay").textContent=`‚Ç¨${o.toLocaleString("de-DE")}`,document.getElementById("leadTimeDisplay").textContent=`${s} ${e[t].days||"Tage"}`;let l=0;o>=75e3?l=10:o>=5e4?l=9:o>=3e4?l=8:o>=15e3?l=6:o>=5e3&&(l=3);let c=0;s>=30?c=3:s>=15?c=2:s>=10&&(c=1);let u=0;r&&o>=5e3&&(u=2);let d=Math.min(l+c+u,15);document.getElementById("baseDiscount").textContent=`${l}%`,document.getElementById("earlyDiscount").textContent=`${c}%`,document.getElementById("pickupDiscount").textContent=`${u}%`,document.getElementById("totalDiscount").textContent=`${d}%`;const m=Math.round(o*d/100),p=o-m;document.getElementById("discountAmount").textContent=`‚Ç¨${m.toLocaleString("de-DE")}`,document.getElementById("finalPrice").textContent=`‚Ç¨${p.toLocaleString("de-DE")}`}function i(n){n.querySelectorAll("[data-i18n]").forEach((n=>{const a=n.getAttribute("data-i18n");if(a){const i=a.split(".");let o=e[t];for(const n of i){if(!o||"object"!=typeof o||!(n in o)){o=e[t][a];break}o=o[n]}"string"==typeof o&&(n.innerHTML=o)}}))}function s(e){const t=document.querySelector('.nav-tab[data-tab="locationdetails"]');t&&(t.style.display=e?"block":"none")}let r=[];function l(){const e=document.getElementById("locationDetailsList"),t=document.getElementById("noLocationsMessage"),a=document.getElementById("detailLocationCount");e&&(0===r.length?(t&&(t.style.display="block"),e.innerHTML=""):(t&&(t.style.display="none"),e.innerHTML=r.map(((e,t)=>n(e,t+1))).join(""),i(e),e.querySelectorAll("input, select").forEach((e=>{e.addEventListener("change",(e=>{const t=e.target,n=t.closest(".location-detail-card"),a=parseInt(n.getAttribute("data-location-id")),i=t.getAttribute("data-field"),o=r.find((e=>e.id===a));o&&(o[i]=t.value)}))}))),a&&(a.textContent=r.length.toString()),u())}function u(){const e=document.getElementById("totalLocations"),n=document.getElementById("syncWarning"),a=document.getElementById("syncWarningDetails"),i=document.getElementById("detailLocationTotal");if(!e||!n)return;const o=parseInt(e.value||"0"),s=r.length;i&&(i.textContent=o.toString()),o>0&&s!==o?(n.style.display="block",a&&(a.innerHTML="de"===t?`Sie haben ${s} Standorte erfasst, aber ${o} Standorte insgesamt angegeben.`:`You have captured ${s} locations, but specified ${o} locations in total.`)):n.style.display="none"}function d(){var e;const t=null==(e=document.getElementById("industry"))?void 0:e.value,n=document.getElementById("industrySpecificSection");if(!n)return;const a=function(e){switch(e){case"hotel":return'\n    <h3 class="form-section-title" data-i18n="locations.hotel.categorization">Hotel-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.hotel.small">Klein (bis 50 Zimmer)</label>\n        <input type="number" id="smallHotels" name="smallHotels" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.hotel.unit">Hotels</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.hotel.medium">Mittel (51-150 Zimmer)</label>\n        <input type="number" id="mediumHotels" name="mediumHotels" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.hotel.unit">Hotels</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.hotel.large">Gro√ü (√ºber 150 Zimmer)</label>\n        <input type="number" id="largeHotels" name="largeHotels" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.hotel.unit">Hotels</span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.services">Services</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.hotel.breakfast">Fr√ºhst√ºcksservice</label>\n        <input type="number" id="hotelBreakfast" name="hotelBreakfast" min="0" max="999"> \n        <span><span data-i18n="locations.hotel.ofPrefix">von</span> <span id="totalHotelsCount">0</span> <span data-i18n="locations.hotel.unit">Hotels</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.hotel.restaurant">Restaurant √† la carte</label>\n        <input type="number" id="hotelRestaurant" name="hotelRestaurant" min="0" max="999"> \n        <span><span data-i18n="locations.hotel.ofPrefix">von</span> <span id="totalHotelsCount2">0</span> <span data-i18n="locations.hotel.unit">Hotels</span></span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.hotel.roomService">Room Service</label>\n        <input type="number" id="hotelRoomService" name="hotelRoomService" min="0" max="999"> \n        <span><span data-i18n="locations.hotel.ofPrefix">von</span> <span id="totalHotelsCount3">0</span> <span data-i18n="locations.hotel.unit">Hotels</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.hotel.banquet">Bankett/Veranstaltungen</label>\n        <input type="number" id="hotelBanquet" name="hotelBanquet" min="0" max="999"> \n        <span><span data-i18n="locations.hotel.ofPrefix">von</span> <span id="totalHotelsCount4">0</span> <span data-i18n="locations.hotel.unit">Hotels</span></span>\n      </div>\n    </div>\n  ';case"krankenhaus":return'\n    <h3 class="form-section-title" data-i18n="locations.clinic.categorization">Klinik-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.clinic.small">Klein (bis 150 Betten)</label>\n        <input type="number" id="smallClinics" name="smallClinics" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.clinic.unit">Kliniken</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.clinic.medium">Mittel (151-400 Betten)</label>\n        <input type="number" id="mediumClinics" name="mediumClinics" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.clinic.unit">Kliniken</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.clinic.large">Gro√ü (√ºber 400 Betten)</label>\n        <input type="number" id="largeClinics" name="largeClinics" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.clinic.unit">Kliniken</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.clinic.privatePatientShare">Anteil Privatpatienten</label>\n        <input type="range" id="privatePatientShare" name="privatePatientShare" min="0" max="100" value="15" class="slider" \n               oninput="document.getElementById(\'privatePatientDisplay\').textContent = this.value + \'%\'">\n        <span id="privatePatientDisplay">15%</span>\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.services">Services</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.clinic.patientCatering">Patientenverpflegung</label>\n        <input type="number" id="clinicPremiumMeals" name="clinicPremiumMeals" min="0" max="999"> \n        <span><span data-i18n="locations.clinic.ofPrefix">von</span> <span id="totalClinicsCount">0</span> <span data-i18n="locations.clinic.unit">Kliniken</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.clinic.staffCatering">Mitarbeiterverpflegung</label>\n        <input type="number" id="clinicStaffCatering" name="clinicStaffCatering" min="0" max="999"> \n        <span><span data-i18n="locations.clinic.ofPrefix">von</span> <span id="totalClinicsCount2">0</span> <span data-i18n="locations.clinic.unit">Kliniken</span></span>\n      </div>\n    </div>\n  ';case"seniorenresidenz":return'\n    <h3 class="form-section-title" data-i18n="locations.senior.categorization">Seniorenresidenz-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.senior.small">Klein (bis 50 Bewohner)</label>\n        <input type="number" id="smallSeniorResidences" name="smallSeniorResidences" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.senior.unit">Residenzen</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.senior.medium">Mittel (51-150 Bewohner)</label>\n        <input type="number" id="mediumSeniorResidences" name="mediumSeniorResidences" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.senior.unit">Residenzen</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.senior.large">Gro√ü (√ºber 150 Bewohner)</label>\n        <input type="number" id="largeSeniorResidences" name="largeSeniorResidences" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.senior.unit">Residenzen</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.senior.careFocus">Pflegeschwerpunkt</label>\n        <select id="careLevel" name="careLevel">\n          <option value="mixed" data-i18n="locations.senior.careMixed">Gemischt</option>\n          <option value="assisted" data-i18n="locations.senior.careAssisted">Betreutes Wohnen</option>\n          <option value="nursing" data-i18n="locations.senior.careNursing">Vollpflege</option>\n        </select>\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.senior.catering">Verpflegung</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.senior.fullCatering">Vollverpflegung</label>\n        <input type="number" id="seniorFullCatering" name="seniorFullCatering" min="0" max="999"> \n        <span><span data-i18n="locations.senior.ofPrefix">von</span> <span id="totalSeniorResidencesCount">0</span> <span data-i18n="locations.senior.unit">Residenzen</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.senior.partialCatering">Teilverpflegung</label>\n        <input type="number" id="seniorPartialCatering" name="seniorPartialCatering" min="0" max="999"> \n        <span><span data-i18n="locations.senior.ofPrefix">von</span> <span id="totalSeniorResidencesCount2">0</span> <span data-i18n="locations.senior.unit">Residenzen</span></span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.senior.specialDiet">Sonderkostform</label>\n        <input type="number" id="seniorSpecialDiet" name="seniorSpecialDiet" min="0" max="999"> \n        <span><span data-i18n="locations.senior.ofPrefix">von</span> <span id="totalSeniorResidencesCount3">0</span> <span data-i18n="locations.senior.unit">Residenzen</span></span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n  ';case"restaurant":return'\n    <h3 class="form-section-title" data-i18n="locations.restaurant.categorization">Restaurant-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.small">Klein (bis 50 Sitzpl√§tze)</label>\n        <input type="number" id="smallRestaurants" name="smallRestaurants" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.restaurant.unit">Restaurants</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.medium">Mittel (51-150 Sitzpl√§tze)</label>\n        <input type="number" id="mediumRestaurants" name="mediumRestaurants" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.restaurant.unit">Restaurants</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.large">Gro√ü (√ºber 150 Sitzpl√§tze)</label>\n        <input type="number" id="largeRestaurants" name="largeRestaurants" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.restaurant.unit">Restaurants</span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.services">Services</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.alaCarte">√Ä la carte</label>\n        <input type="number" id="restaurantAlaCarte" name="restaurantAlaCarte" min="0" max="999"> \n        <span><span data-i18n="locations.restaurant.ofPrefix">von</span> <span id="totalRestaurantsCount">0</span> <span data-i18n="locations.restaurant.unit">Restaurants</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.restaurant.banquet">Bankett/Veranstaltungen</label>\n        <input type="number" id="restaurantBanquet" name="restaurantBanquet" min="0" max="999"> \n        <span><span data-i18n="locations.restaurant.ofPrefix">von</span> <span id="totalRestaurantsCount2">0</span> <span data-i18n="locations.restaurant.unit">Restaurants</span></span>\n      </div>\n    </div>\n  ';case"betriebsrestaurant":return'\n    <h3 class="form-section-title" data-i18n="locations.cafeteria.categorization">Betriebsrestaurant-Kategorisierung</h3>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.small">Klein (bis 200 MA)</label>\n        <input type="number" id="smallCafeterias" name="smallCafeterias" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.cafeteria.unit">Standorte</span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.medium">Mittel (201-500 MA)</label>\n        <input type="number" id="mediumCafeterias" name="mediumCafeterias" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.cafeteria.unit">Standorte</span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.large">Gro√ü (√ºber 500 MA)</label>\n        <input type="number" id="largeCafeterias" name="largeCafeterias" min="0" value="0" oninput="updateTotalLocations()"> \n        <span data-i18n="locations.cafeteria.unit">Standorte</span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n    <h4 style="margin-top: 1.5rem; margin-bottom: 1rem; color: var(--primary-blue);" data-i18n="locations.cafeteria.serviceScope">Serviceumfang</h4>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.breakfast">Fr√ºhst√ºck</label>\n        <input type="number" id="cafeteriaBreakfast" name="cafeteriaBreakfast" min="0" max="999"> \n        <span><span data-i18n="locations.cafeteria.ofPrefix">von</span> <span id="totalCafeteriasCount">0</span> <span data-i18n="locations.cafeteria.unit">Standorten</span></span>\n      </div>\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.lunch">Mittagessen</label>\n        <input type="number" id="cafeteriaLunch" name="cafeteriaLunch" min="0" max="999"> \n        <span><span data-i18n="locations.cafeteria.ofPrefix">von</span> <span id="totalCafeteriasCount2">0</span> <span data-i18n="locations.cafeteria.unit">Standorten</span></span>\n      </div>\n    </div>\n    <div class="form-row">\n      <div class="form-group">\n        <label data-i18n="locations.cafeteria.dinner">Abendessen</label>\n        <input type="number" id="cafeteriaDinner" name="cafeteriaDinner" min="0" max="999"> \n        <span><span data-i18n="locations.cafeteria.ofPrefix">von</span> <span id="totalCafeteriasCount3">0</span> <span data-i18n="locations.cafeteria.unit">Standorten</span></span>\n      </div>\n      <div class="form-group">\n        \x3c!-- Platzhalter --\x3e\n      </div>\n    </div>\n  ';default:return""}}(t);n.innerHTML=a,i(n)}function m(){var e,t,n,a,i,o,s,r,l,c,d,m,p,h,g,f;const v=null==(e=document.getElementById("industry"))?void 0:e.value;let b=0;switch(v){case"hotel":b=parseInt((null==(t=document.getElementById("smallHotels"))?void 0:t.value)||"0")+parseInt((null==(n=document.getElementById("mediumHotels"))?void 0:n.value)||"0")+parseInt((null==(a=document.getElementById("largeHotels"))?void 0:a.value)||"0"),["totalHotelsCount","totalHotelsCount2","totalHotelsCount3","totalHotelsCount4"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=b.toString())}));break;case"krankenhaus":b=parseInt((null==(i=document.getElementById("smallClinics"))?void 0:i.value)||"0")+parseInt((null==(o=document.getElementById("mediumClinics"))?void 0:o.value)||"0")+parseInt((null==(s=document.getElementById("largeClinics"))?void 0:s.value)||"0"),["totalClinicsCount","totalClinicsCount2"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=b.toString())}));break;case"seniorenresidenz":b=parseInt((null==(r=document.getElementById("smallSeniorResidences"))?void 0:r.value)||"0")+parseInt((null==(l=document.getElementById("mediumSeniorResidences"))?void 0:l.value)||"0")+parseInt((null==(c=document.getElementById("largeSeniorResidences"))?void 0:c.value)||"0"),["totalSeniorResidencesCount","totalSeniorResidencesCount2","totalSeniorResidencesCount3"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=b.toString())}));break;case"restaurant":b=parseInt((null==(d=document.getElementById("smallRestaurants"))?void 0:d.value)||"0")+parseInt((null==(m=document.getElementById("mediumRestaurants"))?void 0:m.value)||"0")+parseInt((null==(p=document.getElementById("largeRestaurants"))?void 0:p.value)||"0"),["totalRestaurantsCount","totalRestaurantsCount2"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=b.toString())}));break;case"betriebsrestaurant":b=parseInt((null==(h=document.getElementById("smallCafeterias"))?void 0:h.value)||"0")+parseInt((null==(g=document.getElementById("mediumCafeterias"))?void 0:g.value)||"0")+parseInt((null==(f=document.getElementById("largeCafeterias"))?void 0:f.value)||"0"),["totalCafeteriasCount","totalCafeteriasCount2","totalCafeteriasCount3"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent=b.toString())}))}const y=document.getElementById("totalLocations");y&&(y.value=b.toString()),u()}window.updateCalculator=a,window.changeLanguage=function(n){t=n,document.querySelectorAll("[data-i18n]").forEach((t=>{const a=t.getAttribute("data-i18n");if(a){const i=a.split(".");let o=e[n];for(const t of i){if(!o||"object"!=typeof o||!(t in o)){o=e[n][a];break}o=o[t]}"string"==typeof o&&(t.innerHTML=o)}})),document.querySelectorAll("[data-i18n-placeholder]").forEach((t=>{const a=t.getAttribute("data-i18n-placeholder");a&&e[n]&&e[n][a]&&(t.placeholder=e[n][a])})),a()},window.handleClearForm=function(){const n=document.querySelector(".tab-panel.active");if(n&&"customer"===n.id){if(confirm(e[t].confirmClear)){document.getElementById("customerForm").reset(),localStorage.removeItem("freshplanData"),document.querySelectorAll("#customerForm [required]").forEach((e=>{e.style.borderColor=""})),document.getElementById("orderValue").value="15000",document.getElementById("leadTime").value="14",document.getElementById("pickupToggle").checked=!1,a(),r=[],l();const e=document.querySelector('.nav-tab[data-tab="locations"]');e&&(e.style.display="none"),s(!1)}}else alert(e[t].clearOnlyCustomer)},window.handleSaveForm=function(){var n,a,i,o,s,l,c,u,d,m,p,h,g,f,v,b,y,S;const w=document.querySelector(".tab-panel.active");if(w&&"customer"===w.id){const w=document.getElementById("customerForm"),C=w.querySelectorAll("[required]");let E=!0,k=[];if(C.forEach((e=>{const t=e;if(t.value&&""!==t.value.trim())t.style.borderColor="";else{E=!1,t.style.borderColor="var(--danger)";const e=w.querySelector(`label[for="${t.id}"]`);k.push(e?e.textContent.replace("*","").trim():t.id)}})),!E)return void alert(e[t].fillRequired+"\n\n"+k.join("\n"));const D=document.getElementById("customerType").value,P=document.getElementById("paymentMethod").value;if("neukunde"===D&&"rechnung"===P&&!confirm("de"===t?"Hinweis: F√ºr Neukunden ist Zahlung auf Rechnung erst nach Bonit√§tspr√ºfung m√∂glich. M√∂chten Sie fortfahren?":"Note: For new customers, payment by invoice is only possible after credit check. Do you want to continue?"))return;const T={};T.calculator={orderValue:document.getElementById("orderValue").value,leadTime:document.getElementById("leadTime").value,pickup:document.getElementById("pickupToggle").checked};const I=["companyName","legalForm","customerType","industry","chainCustomer","customerNumber","street","postalCode","city","contactName","contactPosition","contactPhone","contactEmail","expectedVolume","paymentMethod","notes","customField1","customField2"];if(T.customer={},I.forEach((e=>{const t=document.getElementById(e);t&&(T.customer[e]=t.value)})),"ja"===(null==(n=document.getElementById("chainCustomer"))?void 0:n.value)){T.locations={totalLocations:(null==(a=document.getElementById("totalLocations"))?void 0:a.value)||"0",managementType:(null==(i=document.getElementById("locationsManagementType"))?void 0:i.value)||"zentral",detailedLocations:(null==(o=document.getElementById("detailedLocations"))?void 0:o.checked)||!1};switch(null==(s=document.getElementById("industry"))?void 0:s.value){case"hotel":T.locations.smallHotels=(null==(l=document.getElementById("smallHotels"))?void 0:l.value)||"0",T.locations.mediumHotels=(null==(c=document.getElementById("mediumHotels"))?void 0:c.value)||"0",T.locations.largeHotels=(null==(u=document.getElementById("largeHotels"))?void 0:u.value)||"0",T.locations.hotelBreakfast=(null==(d=document.getElementById("hotelBreakfast"))?void 0:d.value)||"0",T.locations.hotelRestaurant=(null==(m=document.getElementById("hotelRestaurant"))?void 0:m.value)||"0",T.locations.hotelRoomService=(null==(p=document.getElementById("hotelRoomService"))?void 0:p.value)||"0",T.locations.hotelBanquet=(null==(h=document.getElementById("hotelBanquet"))?void 0:h.value)||"0";break;case"krankenhaus":T.locations.smallClinics=(null==(g=document.getElementById("smallClinics"))?void 0:g.value)||"0",T.locations.mediumClinics=(null==(f=document.getElementById("mediumClinics"))?void 0:f.value)||"0",T.locations.largeClinics=(null==(v=document.getElementById("largeClinics"))?void 0:v.value)||"0",T.locations.privatePatientShare=(null==(b=document.getElementById("privatePatientShare"))?void 0:b.value)||"15",T.locations.clinicPremiumMeals=(null==(y=document.getElementById("clinicPremiumMeals"))?void 0:y.value)||"0",T.locations.clinicStaffCatering=(null==(S=document.getElementById("clinicStaffCatering"))?void 0:S.value)||"0"}T.locationDetailsList=r}localStorage.setItem("freshplanData",JSON.stringify(T)),alert(e[t].saveSuccess)}else alert(e[t].nothingToSave)},window.loadExample=function(e){const t=document.getElementById("orderValue"),n=document.getElementById("leadTime"),i=document.getElementById("pickupToggle");switch(e){case"hotel":t.value="35000",n.value="21",i.checked=!0;break;case"klinik":t.value="65000",n.value="30",i.checked=!1;break;case"restaurant":t.value="8500",n.value="14",i.checked=!0}a()},window.formatCurrency=function(e){let t=e.value.replace(/[^0-9]/g,"");if(t){const n=parseInt(t);e.value=n.toLocaleString("de-DE")}},window.toggleLocationDetailsTab=s,window.addLocationDetail=function(){const e={id:Date.now(),name:"",street:"",postalCode:"",city:"",contactName:"",contactPhone:"",contactEmail:"",category:""};r.push(e),l()},window.startCreditCheck=function(){alert("de"===t?"Bonit√§tspr√ºfung wird gestartet...\n(In der Demo-Version nicht verf√ºgbar)":"Credit check is starting...\n(Not available in demo version)")},window.requestManagementApproval=function(){alert("de"===t?"Anfrage an Gesch√§ftsleitung wird gesendet...\n(In der Demo-Version nicht verf√ºgbar)":"Request to management is being sent...\n(Not available in demo version)")},window.updateTotalLocations=m,window.removeLocationDetail=function(n){confirm(e[t].confirmRemoveLocation)&&(r=r.filter((e=>e.id!==n)),l(),u())},c(),window.switchToTab=e=>{console.warn("[Legacy] switchToTab() is deprecated. Use TabNavigationModule.navigateTo() instead.");const t=document.querySelector(`.nav-tab[data-tab="${e}"]`);t&&t.click()},window.getCurrentTab=()=>{const e=document.querySelector(".nav-tab.active");return(null==e?void 0:e.getAttribute("data-tab"))||"demonstrator"},window.onTabChange=e=>{const t=t=>{e(t.detail.tab)};return window.addEventListener(o,t),()=>{window.removeEventListener(o,t)}},a(),function(){const e=localStorage.getItem("freshplanData");if(e)try{const t=JSON.parse(e);if(t.calculator&&(t.calculator.orderValue&&(document.getElementById("orderValue").value=t.calculator.orderValue),t.calculator.leadTime&&(document.getElementById("leadTime").value=t.calculator.leadTime),void 0!==t.calculator.pickup&&(document.getElementById("pickupToggle").checked=t.calculator.pickup),a()),t.customer){if(Object.keys(t.customer).forEach((e=>{const n=document.getElementById(e);n&&(n.value=t.customer[e])})),"ja"===t.customer.chainCustomer){const e=document.querySelector('.nav-tab[data-tab="locations"]');e&&(e.style.display="block")}t.customer.industry&&d()}if(t.locations){if(t.locations.totalLocations){const e=document.getElementById("totalLocations");e&&(e.value=t.locations.totalLocations)}if(t.locations.managementType){const e=document.getElementById("locationsManagementType");e&&(e.value=t.locations.managementType)}if(void 0!==t.locations.detailedLocations){const e=document.getElementById("detailedLocations");e&&(e.checked=t.locations.detailedLocations,s(t.locations.detailedLocations))}setTimeout((()=>{Object.keys(t.locations).forEach((e=>{if("totalLocations"!==e&&"managementType"!==e&&"detailedLocations"!==e){const n=document.getElementById(e);n&&(n.value=t.locations[e])}})),m()}),100)}t.locationDetailsList&&(r=t.locationDetailsList,l())}catch(t){console.error("Error loading saved data:",t)}}(),function(){const e=document.getElementById("chainCustomer"),t=document.querySelector('.nav-tab[data-tab="locations"]');e&&e.addEventListener("change",(()=>{const n="ja"===e.value;t&&(t.style.display=n?"block":"none")}));const n=document.getElementById("industry");n&&(n.addEventListener("change",d),d())}(),function(){const e=document.getElementById("vendingInterest"),t=document.getElementById("vendingDetails");e&&t&&e.addEventListener("change",(()=>{t.style.display=e.checked?"block":"none"}))}(),function(){const e=document.getElementById("customerType"),n=document.getElementById("paymentMethod");function a(){e&&n&&"neukunde"===e.value&&"rechnung"===n.value&&alert("de"===t?"Hinweis: F√ºr Neukunden ist Zahlung auf Rechnung erst nach Bonit√§tspr√ºfung m√∂glich.":"Note: For new customers, payment by invoice is only possible after credit check.")}e&&e.addEventListener("change",a),n&&n.addEventListener("change",a)}(),l(),window.__LEGACY_SCRIPT_CLEANUP=()=>{delete window.__LEGACY_SCRIPT_ACTIVE,delete window.switchToTab,delete window.getCurrentTab,delete window.onTabChange}}const d=class e{constructor(){t(this,"events"),t(this,"wildcardHandlers"),t(this,"debug"),t(this,"eventHistory"),t(this,"maxHistory"),this.events=new Map,this.wildcardHandlers=new Map,this.debug=!1,this.eventHistory=[],this.maxHistory=100}static getInstance(){return e.instance||(e.instance=new e),e.instance}on(e,t,n){this.debug&&console.log(`[EventBus] Subscribing to: ${e}`);const a=e.includes("*")?this.wildcardHandlers:this.events;a.has(e)||a.set(e,[]);const i={callback:t,context:n};return a.get(e).push(i),()=>this.off(e,t)}once(e,t,n){const a=i=>{t.call(n,i),this.off(e,a)};return a.__once=!0,a.__original=t,this.on(e,a,n)}emit(e,t){const n={type:e,payload:t,timestamp:Date.now(),source:this.getEventSource()};this.addToHistory(n),this.debug&&console.log(`[EventBus] Emitting: ${e}`,t);const a=this.events.get(e)||[];this.callHandlers(a,t),this.wildcardHandlers.forEach(((n,a)=>{this.matchesPattern(e,a)&&this.callHandlers(n,t)}))}async emitAsync(e,t){const n={type:e,payload:t,timestamp:Date.now(),source:this.getEventSource()};this.addToHistory(n),this.debug&&console.log(`[EventBus] Emitting async: ${e}`,t);const a=[],i=this.events.get(e)||[];a.push(...i),this.wildcardHandlers.forEach(((t,n)=>{this.matchesPattern(e,n)&&a.push(...t)})),await Promise.all(a.map((e=>this.callHandlerAsync(e,t))))}off(e,t){if(!t)return this.events.delete(e),void this.wildcardHandlers.delete(e);const n=n=>{const a=n.get(e);if(a){const i=a.filter((e=>{const n=e.callback.__original;return e.callback!==t&&n!==t}));i.length>0?n.set(e,i):n.delete(e)}};n(this.events),n(this.wildcardHandlers)}clear(){this.events.clear(),this.wildcardHandlers.clear(),this.eventHistory=[]}getHistory(){return[...this.eventHistory]}setDebug(e){this.debug=e}getRegisteredEvents(){return[...Array.from(this.events.keys()),...Array.from(this.wildcardHandlers.keys())]}hasListeners(e){if(this.events.has(e))return this.events.get(e).length>0;for(const t of this.wildcardHandlers.keys())if(this.matchesPattern(e,t))return!0;return!1}listenerCount(e){let t=0;return this.events.has(e)&&(t+=this.events.get(e).length),this.wildcardHandlers.forEach(((n,a)=>{this.matchesPattern(e,a)&&(t+=n.length)})),t}callHandlers(e,t){e.forEach((e=>{try{e.callback.call(e.context,t)}catch(n){console.error("[EventBus] Error in event handler:",n),this.emit("error",{type:"handler-error",error:n,handler:e.callback.toString()})}}))}async callHandlerAsync(e,t){try{await e.callback.call(e.context,t)}catch(n){console.error("[EventBus] Error in async event handler:",n),this.emit("error",{type:"async-handler-error",error:n,handler:e.callback.toString()})}}matchesPattern(e,t){if(!t.includes("*"))return e===t;return new RegExp("^"+t.replace(/\*/g,".*").replace(/\?/g,".")+"$").test(e)}addToHistory(e){this.eventHistory.push(e),this.eventHistory.length>this.maxHistory&&this.eventHistory.shift()}getEventSource(){try{const e=(new Error).stack;if(e){const t=e.split("\n");for(let e=3;e<t.length;e++){const n=t[e];if(!n.includes("EventBus"))return n.trim()}}}catch{}return"unknown"}};t(d,"instance");const m=d.getInstance(),p=class e{constructor(){t(this,"eventDelegates"),this.eventDelegates=new Map}static getInstance(){return e.instance||(e.instance=new e),e.instance}$(e){return e?"string"==typeof e?document.querySelector(e):e instanceof Element||e===document||e===window?e:null:null}$$(e){return Array.from(document.querySelectorAll(e))}create(e,t,n){const a=document.createElement(e);return t&&Object.entries(t).forEach((([e,t])=>{"class"===e?a.className=t:"style"===e&&"object"==typeof t?Object.assign(a.style,t):e.startsWith("data-")?a.setAttribute(e,t):e in a?a[e]=t:a.setAttribute(e,t)})),n&&("string"==typeof n?a.innerHTML=n:Array.isArray(n)?n.forEach((e=>a.appendChild(e))):a.appendChild(n)),a}on(e,t,n,a,i){const o=this.$(e);if(!o)return()=>{};const s="string"==typeof n,r=s?n:null,l=s?a:n;if(s&&r){const e=e=>{const t=e.target.closest(r);t&&o.contains(t)&&l.call(t,e)},n=`${t}-${r}`;return this.eventDelegates.has(n)||this.eventDelegates.set(n,new Map),this.eventDelegates.get(n).set(o,[...this.eventDelegates.get(n).get(o)||[],e]),o.addEventListener(t,e,i),()=>{var a;o.removeEventListener(t,e);const i=null==(a=this.eventDelegates.get(n))?void 0:a.get(o);if(i){const t=i.indexOf(e);t>-1&&i.splice(t,1)}}}return o.addEventListener(t,l,i),()=>o.removeEventListener(t,l)}off(e,t,n){const a=this.$(e);a&&n&&a.removeEventListener(t,n)}ready(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e,{once:!0})}text(e,t){const n=this.$(e);if(n)return void 0!==t?(n.textContent=t,t):n.textContent||""}html(e,t){const n=this.$(e);if(n)return void 0!==t?(n.innerHTML=t,t):n.innerHTML}val(e,t){const n=this.$(e);if(n)return void 0!==t?(n.value=String(t),String(t)):n.value}addClass(e,...t){const n=this.$(e);n&&n.classList.add(...t)}removeClass(e,...t){const n=this.$(e);n&&n.classList.remove(...t)}toggleClass(e,t,n){const a=this.$(e);return!!a&&a.classList.toggle(t,n)}hasClass(e,t){const n=this.$(e);return!!n&&n.classList.contains(t)}show(e){const t=this.$(e);t&&(t.style.display="","none"===getComputedStyle(t).display&&(t.style.display="block"))}hide(e){const t=this.$(e);t&&(t.style.display="none")}toggle(e,t){const n=this.$(e);n&&(void 0===t&&(t="none"===n.style.display),t?this.show(n):this.hide(n))}attr(e,t,n){const a=this.$(e);if(a)return void 0!==n?(a.setAttribute(t,n),n):a.getAttribute(t)}removeAttr(e,t){const n=this.$(e);n&&n.removeAttribute(t)}debounce(e,t){let n;return(...a)=>{clearTimeout(n),n=setTimeout((()=>e(...a)),t)}}throttle(e,t){let n=0,a=null;return(...i)=>{const o=Date.now(),s=o-n;s>=t?(n=o,e(...i)):a||(a=setTimeout((()=>{n=Date.now(),a=null,e(...i)}),t-s))}}animate(e,t,n){const a=this.$(e);if(a)return a.animate(t,n)}offset(e){const t=this.$(e);if(!t)return;const n=t.getBoundingClientRect();return{top:n.top+window.pageYOffset,left:n.left+window.pageXOffset}}dimensions(e){const t=this.$(e);if(t)return{width:t.offsetWidth,height:t.offsetHeight}}observe(e,t,n){const a=this.$(e);if(!a)return()=>{};const i=new MutationObserver(t);return i.observe(a,n||{childList:!0,subtree:!0,attributes:!0}),()=>i.disconnect()}};t(p,"instance");const h=p.getInstance(),g=Object.assign({$:h.$.bind(h),$$:h.$$.bind(h),create:h.create.bind(h),ready:h.ready.bind(h),debounce:h.debounce.bind(h),throttle:h.throttle.bind(h)},h),f={},v=e=>{let t;const n=new Set,a=(e,a)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=a?a:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:a,getState:i,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(f?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(a,i,o);return o};function b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y={exports:{}},S={},w=Symbol.for("react.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),L=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),F=Symbol.iterator;var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,$={};function z(e,t,n){this.props=e,this.context=t,this.refs=$,this.updater=n||M}function R(){}function V(e,t,n){this.props=e,this.context=t,this.refs=$,this.updater=n||M}z.prototype.isReactComponent={},z.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},z.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},R.prototype=z.prototype;var _=V.prototype=new R;_.constructor=V,A(_,z.prototype),_.isPureReactComponent=!0;var N=Array.isArray,O=Object.prototype.hasOwnProperty,H={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,n){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,a)&&!K.hasOwnProperty(a)&&(i[a]=t[a]);var r=arguments.length-2;if(1===r)i.children=n;else if(1<r){for(var l=Array(r),c=0;c<r;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(a in r=e.defaultProps)void 0===i[a]&&(i[a]=r[a]);return{$$typeof:w,type:e,key:o,ref:s,props:i,_owner:H.current}}function G(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}var U=/\/+/g;function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function Z(e,t,n,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case w:case C:s=!0}}if(s)return i=i(s=e),e=""===a?"."+j(s,0):a,N(i)?(n="",null!=e&&(n=e.replace(U,"$&/")+"/"),Z(i,t,n,"",(function(e){return e}))):null!=i&&(G(i)&&(i=function(e,t){return{$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(U,"$&/")+"/")+e)),t.push(i)),1;if(s=0,a=""===a?".":a+":",N(e))for(var r=0;r<e.length;r++){var l=a+j(o=e[r],r);s+=Z(o,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=F&&e[F]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),r=0;!(o=e.next()).done;)s+=Z(o=o.value,t,n,l=a+j(o,r++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function W(e,t,n){if(null==e)return e;var a=[],i=0;return Z(e,a,"","",(function(e){return t.call(n,e,i++)})),a}function J(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Y={current:null},X={transition:null},Q={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:X,ReactCurrentOwner:H};function ee(){throw Error("act(...) is not supported in production builds of React.")}S.Children={map:W,forEach:function(e,t,n){W(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return W(e,(function(){t++})),t},toArray:function(e){return W(e,(function(e){return e}))||[]},only:function(e){if(!G(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},S.Component=z,S.Fragment=E,S.Profiler=D,S.PureComponent=V,S.StrictMode=k,S.Suspense=x,S.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,S.act=ee,S.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=A({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=H.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var r=e.type.defaultProps;for(l in t)O.call(t,l)&&!K.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==r?r[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){r=Array(l);for(var c=0;c<l;c++)r[c]=arguments[c+2];a.children=r}return{$$typeof:w,type:e.type,key:i,ref:o,props:a,_owner:s}},S.createContext=function(e){return(e={$$typeof:T,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:P,_context:e},e.Consumer=e},S.createElement=q,S.createFactory=function(e){var t=q.bind(null,e);return t.type=e,t},S.createRef=function(){return{current:null}},S.forwardRef=function(e){return{$$typeof:I,render:e}},S.isValidElement=G,S.lazy=function(e){return{$$typeof:B,_payload:{_status:-1,_result:e},_init:J}},S.memo=function(e,t){return{$$typeof:L,type:e,compare:void 0===t?null:t}},S.startTransition=function(e){var t=X.transition;X.transition={};try{e()}finally{X.transition=t}},S.unstable_act=ee,S.useCallback=function(e,t){return Y.current.useCallback(e,t)},S.useContext=function(e){return Y.current.useContext(e)},S.useDebugValue=function(){},S.useDeferredValue=function(e){return Y.current.useDeferredValue(e)},S.useEffect=function(e,t){return Y.current.useEffect(e,t)},S.useId=function(){return Y.current.useId()},S.useImperativeHandle=function(e,t,n){return Y.current.useImperativeHandle(e,t,n)},S.useInsertionEffect=function(e,t){return Y.current.useInsertionEffect(e,t)},S.useLayoutEffect=function(e,t){return Y.current.useLayoutEffect(e,t)},S.useMemo=function(e,t){return Y.current.useMemo(e,t)},S.useReducer=function(e,t,n){return Y.current.useReducer(e,t,n)},S.useRef=function(e){return Y.current.useRef(e)},S.useState=function(e){return Y.current.useState(e)},S.useSyncExternalStore=function(e,t,n){return Y.current.useSyncExternalStore(e,t,n)},S.useTransition=function(){return Y.current.useTransition()},S.version="18.3.1",y.exports=S;var te=y.exports;const ne=b(te);var ae={exports:{}},ie={},oe={exports:{}},se={},re=te;var le="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ce=re.useState,ue=re.useEffect,de=re.useLayoutEffect,me=re.useDebugValue;function pe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!le(e,n)}catch(a){return!0}}var he="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),a=ce({inst:{value:n,getSnapshot:t}}),i=a[0].inst,o=a[1];return de((function(){i.value=n,i.getSnapshot=t,pe(i)&&o({inst:i})}),[e,n,t]),ue((function(){return pe(i)&&o({inst:i}),e((function(){pe(i)&&o({inst:i})}))}),[e]),me(n),n};se.useSyncExternalStore=void 0!==re.useSyncExternalStore?re.useSyncExternalStore:he,oe.exports=se;var ge=te,fe=oe.exports;
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},be=fe.useSyncExternalStore,ye=ge.useRef,Se=ge.useEffect,we=ge.useMemo,Ce=ge.useDebugValue;ie.useSyncExternalStoreWithSelector=function(e,t,n,a,i){var o=ye(null);if(null===o.current){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=we((function(){function e(e){if(!l){if(l=!0,o=e,e=a(e),void 0!==i&&s.hasValue){var t=s.value;if(i(t,e))return r=t}return r=e}if(t=r,ve(o,e))return t;var n=a(e);return void 0!==i&&i(t,n)?(o=e,t):(o=e,r=n)}var o,r,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,a,i]);var r=be(e,o[0],o[1]);return Se((function(){s.hasValue=!0,s.value=r}),[r]),Ce(r),r},ae.exports=ie;const Ee=b(ae.exports),ke={},{useDebugValue:De}=ne,{useSyncExternalStoreWithSelector:Pe}=Ee;let Te=!1;const Ie=e=>e;const xe=e=>{"production"!==(ke?"production":void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?v(e):v)(e):e,n=(e,n)=>function(e,t=Ie,n){"production"!==(ke?"production":void 0)&&n&&!Te&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Te=!0);const a=Pe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return De(a),a}(t,e,n);return Object.assign(n,t),n},Le={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Be=new Map,Fe=e=>{const t=Be.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},Me=(e,t={})=>(n,a,i)=>{const{enabled:o,anonymousActionType:s,store:r,...l}=t;let c;try{c=(null!=o?o:"production"!==(Le?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(g){}if(!c)return"production"!==(Le?"production":void 0)&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,a,i);const{connection:u,...d}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const a=Be.get(n.name);if(a)return{type:"tracked",store:e,...a};const i={connection:t.connect(n),stores:{}};return Be.set(n.name,i),{type:"tracked",store:e,...i}})(r,c,l);let m=!0;i.setState=(e,t,o)=>{const c=n(e,t);if(!m)return c;const d=void 0===o?{type:s||"anonymous"}:"string"==typeof o?{type:o}:o;return void 0===r?(null==u||u.send(d,a()),c):(null==u||u.send({...d,type:`${r}/${d.type}`},{...Fe(l.name),[r]:i.getState()}),c)};const p=(...e)=>{const t=m;m=!1,n(...e),m=t},h=e(i.setState,a,i);if("untracked"===d.type?null==u||u.init(h):(d.stores[d.store]=i,null==u||u.init(Object.fromEntries(Object.entries(d.stores).map((([e,t])=>[e,e===d.store?h:t.getState()]))))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){let e=!1;const t=i.dispatch;i.dispatch=(...n)=>{"production"===(Le?"production":void 0)||"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return u.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):Ae(e.payload,(e=>{if("__setState"!==e.type)i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e);else{if(void 0===r)return void p(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[r];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&p(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return p(h),void 0===r?null==u?void 0:u.init(i.getState()):null==u?void 0:u.init(Fe(l.name));case"COMMIT":return void 0===r?void(null==u||u.init(i.getState())):null==u?void 0:u.init(Fe(l.name));case"ROLLBACK":return Ae(e.state,(e=>{if(void 0===r)return p(e),void(null==u||u.init(i.getState()));p(e[r]),null==u||u.init(Fe(l.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ae(e.state,(e=>{void 0!==r?JSON.stringify(i.getState())!==JSON.stringify(e[r])&&p(e[r]):p(e)}));case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,a=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!a)return;return p(void 0===r?a:a[r]),void(null==u||u.send(null,n))}case"PAUSE_RECORDING":return m=!m}return}})),h},Ae=(e,t)=>{let n;try{n=JSON.parse(e)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}void 0!==n&&t(n)},$e=e=>(t,n,a)=>{const i=a.subscribe;a.subscribe=(e,t,n)=>{let o=e;if(t){const i=(null==n?void 0:n.equalityFn)||Object.is;let s=e(a.getState());o=n=>{const a=e(n);if(!i(s,a)){const e=s;t(s=a,e)}},(null==n?void 0:n.fireImmediately)&&t(s,s)}return i(o)};return e(t,n,a)};function ze(e,t){let n;try{n=e()}catch(a){return}return{getItem:e=>{var t;const a=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=n.getItem(e))?t:null;return i instanceof Promise?i.then(a):a(i)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const Re=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>Re(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>Re(e)(n)}}},Ve=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?("production"!==(Le?"production":void 0)&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,a,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const r=new Set,l=new Set;let c;try{c=o.getStorage()}catch(f){}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...e)}),a,i);const u=Re(o.serialize),d=()=>{const e=o.partialize({...a()});let t;const n=u({state:e,version:o.version}).then((e=>c.setItem(o.name,e))).catch((e=>{t=e}));if(t)throw t;return n},m=i.setState;i.setState=(e,t)=>{m(e,t),d()};const p=e(((...e)=>{n(...e),d()}),a,i);let h;const g=()=>{var e;if(!c)return;s=!1,r.forEach((e=>e(a())));const t=(null==(e=o.onRehydrateStorage)?void 0:e.call(o,a()))||void 0;return Re(c.getItem.bind(c))(o.name).then((e=>{if(e)return o.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return e.state;if(o.migrate)return o.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return h=o.merge(e,null!=(t=a())?t:p),n(h,!0),d()})).then((()=>{null==t||t(h,void 0),s=!0,l.forEach((e=>e(h)))})).catch((e=>{null==t||t(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:e=>(r.add(e),()=>{r.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},g(),h||p})(e,t)):((e,t)=>(n,a,i)=>{let o={storage:ze((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const r=new Set,l=new Set;let c=o.storage;if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...e)}),a,i);const u=()=>{const e=o.partialize({...a()});return c.setItem(o.name,{state:e,version:o.version})},d=i.setState;i.setState=(e,t)=>{d(e,t),u()};const m=e(((...e)=>{n(...e),u()}),a,i);let p;i.getInitialState=()=>m;const h=()=>{var e,t;if(!c)return;s=!1,r.forEach((e=>{var t;return e(null!=(t=a())?t:m)}));const i=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=a())?e:m))||void 0;return Re(c.getItem.bind(c))(o.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate)return[!0,o.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[i,s]=e;if(p=o.merge(s,null!=(t=a())?t:m),n(p,!0),i)return u()})).then((()=>{null==i||i(p,void 0),p=a(),s=!0,l.forEach((e=>e(p)))})).catch((e=>{null==i||i(void 0,e)}))};return i.persist={setOptions:e=>{o={...o,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>s,onHydrate:e=>(r.add(e),()=>{r.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},o.skipHydration||h(),p||m})(e,t);var _e=Symbol.for("immer-nothing"),Ne=Symbol.for("immer-draftable"),Oe=Symbol.for("immer-state");function He(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ke=Object.getPrototypeOf;function qe(e){return!!e&&!!e[Oe]}function Ge(e){var t;return!!e&&(je(e)||Array.isArray(e)||!!e[Ne]||!!(null==(t=e.constructor)?void 0:t[Ne])||Xe(e)||Qe(e))}var Ue=Object.prototype.constructor.toString();function je(e){if(!e||"object"!=typeof e)return!1;const t=Ke(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ue}function Ze(e,t){0===We(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,a)=>t(a,n,e)))}function We(e){const t=e[Oe];return t?t.type_:Array.isArray(e)?1:Xe(e)?2:Qe(e)?3:0}function Je(e,t){return 2===We(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ye(e,t,n){const a=We(e);2===a?e.set(t,n):3===a?e.add(n):e[t]=n}function Xe(e){return e instanceof Map}function Qe(e){return e instanceof Set}function et(e){return e.copy_||e.base_}function tt(e,t){if(Xe(e))return new Map(e);if(Qe(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=je(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Oe];let n=Reflect.ownKeys(t);for(let a=0;a<n.length;a++){const i=n[a],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Ke(e),t)}{const t=Ke(e);if(null!==t&&n)return{...e};const a=Object.create(t);return Object.assign(a,e)}}function nt(e,t=!1){return it(e)||qe(e)||!Ge(e)||(We(e)>1&&(e.set=e.add=e.clear=e.delete=at),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>nt(t,!0)))),e}function at(){He(2)}function it(e){return Object.isFrozen(e)}var ot,st={};function rt(e){const t=st[e];return t||He(0),t}function lt(){return ot}function ct(e,t){t&&(rt("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ut(e){dt(e),e.drafts_.forEach(pt),e.drafts_=null}function dt(e){e===ot&&(ot=e.parent_)}function mt(e){return ot={drafts_:[],parent_:ot,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pt(e){const t=e[Oe];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ht(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Oe].modified_&&(ut(t),He(4)),Ge(e)&&(e=gt(t,e),t.parent_||vt(t,e)),t.patches_&&rt("Patches").generateReplacementPatches_(n[Oe].base_,e,t.patches_,t.inversePatches_)):e=gt(t,n,[]),ut(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_e?e:void 0}function gt(e,t,n){if(it(t))return t;const a=t[Oe];if(!a)return Ze(t,((i,o)=>ft(e,a,t,i,o,n))),t;if(a.scope_!==e)return t;if(!a.modified_)return vt(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const t=a.copy_;let i=t,o=!1;3===a.type_&&(i=new Set(t),t.clear(),o=!0),Ze(i,((i,s)=>ft(e,a,t,i,s,n,o))),vt(e,t,!1),n&&e.patches_&&rt("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function ft(e,t,n,a,i,o,s){if(qe(i)){const s=gt(e,i,o&&t&&3!==t.type_&&!Je(t.assigned_,a)?o.concat(a):void 0);if(Ye(n,a,s),!qe(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(Ge(i)&&!it(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;gt(e,i),t&&t.scope_.parent_||"symbol"==typeof a||!Object.prototype.propertyIsEnumerable.call(n,a)||vt(e,i)}}function vt(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nt(t,n)}var bt={get(e,t){if(t===Oe)return e;const n=et(e);if(!Je(n,t))return function(e,t,n){var a;const i=wt(t,n);return i?"value"in i?i.value:null==(a=i.get)?void 0:a.call(e.draft_):void 0}(e,n,t);const a=n[t];return e.finalized_||!Ge(a)?a:a===St(e.base_,t)?(Et(e),e.copy_[t]=kt(a,e)):a},has:(e,t)=>t in et(e),ownKeys:e=>Reflect.ownKeys(et(e)),set(e,t,n){const a=wt(et(e),t);if(null==a?void 0:a.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const a=St(et(e),t),s=null==a?void 0:a[Oe];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(o=a)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||Je(e.base_,t)))return!0;Et(e),Ct(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==St(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Et(e),Ct(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=et(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:a.enumerable,value:n[t]}:a},defineProperty(){He(11)},getPrototypeOf:e=>Ke(e.base_),setPrototypeOf(){He(12)}},yt={};function St(e,t){const n=e[Oe];return(n?et(n):e)[t]}function wt(e,t){if(!(t in e))return;let n=Ke(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ke(n)}}function Ct(e){e.modified_||(e.modified_=!0,e.parent_&&Ct(e.parent_))}function Et(e){e.copy_||(e.copy_=tt(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Ze(bt,((e,t)=>{yt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),yt.deleteProperty=function(e,t){return yt.set.call(this,e,t,void 0)},yt.set=function(e,t,n){return bt.set.call(this,e[0],t,n,e[0])};function kt(e,t){const n=Xe(e)?rt("MapSet").proxyMap_(e,t):Qe(e)?rt("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),a={type_:n?1:0,scope_:t?t.scope_:lt(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=a,o=bt;n&&(i=[a],o=yt);const{revoke:s,proxy:r}=Proxy.revocable(i,o);return a.draft_=r,a.revoke_=s,r}(e,t);return(t?t.scope_:lt()).drafts_.push(n),n}function Dt(e){if(!Ge(e)||it(e))return e;const t=e[Oe];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=tt(e,t.scope_.immer_.useStrictShallowCopy_)}else n=tt(e,!0);return Ze(n,((e,t)=>{Ye(n,e,Dt(t))})),t&&(t.finalized_=!1),n}var Pt=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const a=this;return function(e=n,...i){return a.produce(e,(e=>t.call(this,e,...i)))}}let a;if("function"!=typeof t&&He(6),void 0!==n&&"function"!=typeof n&&He(7),Ge(e)){const i=mt(this),o=kt(e,void 0);let s=!0;try{a=t(o),s=!1}finally{s?ut(i):dt(i)}return ct(i,n),ht(a,i)}if(!e||"object"!=typeof e){if(a=t(e),void 0===a&&(a=e),a===_e&&(a=void 0),this.autoFreeze_&&nt(a,!0),n){const t=[],i=[];rt("Patches").generateReplacementPatches_(e,a,t,i),n(t,i)}return a}He(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,(t=>e(t,...n)));let n,a;return[this.produce(e,t,((e,t)=>{n=e,a=t})),n,a]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ge(e)||He(8),qe(e)&&(e=function(e){qe(e)||He(10);return Dt(e)}(e));const t=mt(this),n=kt(e,void 0);return n[Oe].isManual_=!0,dt(t),n}finishDraft(e,t){const n=e&&e[Oe];n&&n.isManual_||He(9);const{scope_:a}=n;return ct(a,t),ht(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}n>-1&&(t=t.slice(n+1));const a=rt("Patches").applyPatches_;return qe(e)?a(e,t):this.produce(e,(e=>a(e,t)))}},Tt=Pt.produce;Pt.produceWithPatches.bind(Pt),Pt.setAutoFreeze.bind(Pt),Pt.setUseStrictShallowCopy.bind(Pt),Pt.applyPatches.bind(Pt),Pt.createDraft.bind(Pt),Pt.finishDraft.bind(Pt);const It={app:{version:"3.0.0",initialized:!1,environment:"production"},calculator:{orderValue:15e3,leadTime:14,pickup:!1,chain:!1,calculation:null},customer:{data:null,customerType:"single",industry:"",isDirty:!1,isValid:!0},settings:{salesperson:{name:"",email:"",phone:"",mobile:""},defaults:{discount:15,contractDuration:24},integrations:{monday:{token:"",boardId:""},email:{smtpServer:"",smtpEmail:"",smtpPassword:""},xentral:{url:"",key:""}}},profile:{data:null},pdf:{available:!0,currentPDF:null,filename:null},i18n:{currentLanguage:"de",availableLanguages:["de","en"],autoUpdate:!0},ui:{currentTab:"demonstrator",loading:!1,error:null,notifications:[]},locations:{locations:[],totalLocations:0,captureDetails:!1}},xt=xe(Me(Ve($e((e=>(t,n,a)=>(a.setState=(e,n,...a)=>{const i="function"==typeof e?Tt(e):e;return t(i,n,...a)},e(a.setState,n,a)))(((e,t)=>({...It,setOrderValue:t=>e((e=>{e.calculator.orderValue=t})),setLeadTime:t=>e((e=>{e.calculator.leadTime=t})),setPickup:t=>e((e=>{e.calculator.pickup=t})),setChain:t=>e((e=>{e.calculator.chain=t})),updateCalculation:t=>e((e=>{if(void 0!==t)e.calculator.calculation=t;else{const{orderValue:t,leadTime:n,pickup:a}=e.calculator,i=[{min:75e3,discount:10},{min:5e4,discount:9},{min:3e4,discount:8},{min:15e3,discount:6},{min:5e3,discount:3},{min:0,discount:0}],o=[{days:30,discount:3},{days:15,discount:2},{days:10,discount:1},{days:0,discount:0}];let s=0;for(const e of i)if(t>=e.min){s=e.discount;break}let r=0;for(const e of o)if(n>=e.days){r=e.discount;break}const l=a&&t>=5e3?2:0,c=0,u=s+r+l+c,d=t*(u/100),m=t-d,p=d;e.calculator.calculation={baseDiscount:s,earlyDiscount:r,pickupDiscount:l,chainDiscount:c,totalDiscount:u,discountAmount:d,finalPrice:m,orderValue:t,leadTime:n,savingsAmount:p,pickup:a,chain:e.calculator.chain}}})),setCustomerData:t=>e((e=>{e.customer.data||(e.customer.data={}),e.customer.data&&Object.assign(e.customer.data,t),e.customer.isDirty=!0})),setCustomerType:t=>e((e=>{e.customer.customerType=t,e.customer.data&&(e.customer.data.customerType=t)})),setIndustry:t=>e((e=>{e.customer.industry=t,e.customer.data&&(e.customer.data.industry=t)})),saveCustomer:()=>e((e=>{e.customer.isDirty=!1})),clearCustomer:()=>e((e=>{e.customer.data=null,e.customer.customerType="single",e.customer.industry="",e.customer.isDirty=!1,e.customer.isValid=!0})),updateCustomer:t=>e((e=>{e.customer.data||(e.customer.data={companyName:"",contactName:"",contactEmail:"",contactPhone:"",street:"",postalCode:"",city:"",industry:e.customer.industry,customerType:e.customer.customerType}),Object.assign(e.customer.data,t),e.customer.isDirty=!0})),updateLocations:t=>e((e=>{e.locations.locations=t})),setTotalLocations:t=>e((e=>{e.locations.totalLocations=t})),setCaptureDetails:t=>e((e=>{e.locations.captureDetails=t})),updateSettings:t=>e((e=>{Object.assign(e.settings,t)})),updateSalesperson:t=>e((e=>{Object.assign(e.settings.salesperson,t)})),updateIntegration:(t,n)=>e((e=>{Object.assign(e.settings.integrations[t],n)})),setProfileData:t=>e((e=>{e.profile.data=t})),generateProfile:()=>e((e=>{console.log("Generating profile from customer data...")})),setPDFAvailable:t=>e((e=>{e.pdf.available=t})),setCurrentPDF:(t,n)=>e((e=>{e.pdf.currentPDF=t,e.pdf.filename=n})),clearPDF:()=>e((e=>{e.pdf.currentPDF=null,e.pdf.filename=null})),setLanguage:t=>e((e=>{e.i18n.currentLanguage=t})),toggleAutoUpdate:()=>e((e=>{e.i18n.autoUpdate=!e.i18n.autoUpdate})),setCurrentTab:t=>e((e=>{e.ui.currentTab=t})),setLoading:t=>e((e=>{e.ui.loading=t})),setError:t=>e((e=>{e.ui.error=t})),clearError:()=>e((e=>{e.ui.error=null})),addNotification:n=>e((e=>{const a={...n,id:`notif-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now()};e.ui.notifications.push(a),n.duration&&n.duration>0&&setTimeout((()=>{t().removeNotification(a.id)}),n.duration)})),removeNotification:t=>e((e=>{e.ui.notifications=e.ui.notifications.filter((e=>e.id!==t))})),clearNotifications:()=>e((e=>{e.ui.notifications=[]})),reset:()=>e((()=>It)),hydrate:()=>{e((e=>{e.app.initialized=!0}))}})))),{name:"freshplan-store",version:1,partialize:e=>({calculator:e.calculator,customer:e.customer,settings:e.settings,profile:e.profile,i18n:{currentLanguage:e.i18n.currentLanguage,autoUpdate:e.i18n.autoUpdate},locations:e.locations})}),{name:"FreshPlan Store"})),Lt=class e{constructor(){t(this,"pathListeners",new Map),this.setupStoreSubscriptions()}static getInstance(){return e.instance||(e.instance=new e),e.instance}get(e,t){const n=xt.getState();if(!e)return n;const a=e.split(".");let i=n;for(const o of a){if(!i||"object"!=typeof i||!(o in i))return t;i=i[o]}return i}set(e,t){const n=e.split(".");"calculator"===n[0]?this.handleCalculatorUpdate(n.slice(1),t):"customer"===n[0]?this.handleCustomerUpdate(n.slice(1),t):"settings"===n[0]?this.handleSettingsUpdate(n.slice(1),t):"ui"===n[0]?this.handleUIUpdate(n.slice(1),t):"i18n"===n[0]?this.handleI18nUpdate(n.slice(1),t):(console.warn(`StoreAdapter: Unhandled path ${e}`),this.emitChange(e,this.get(e),t))}subscribe(e,t){this.pathListeners.has(e)||this.pathListeners.set(e,new Set),this.pathListeners.get(e).add(t);const n=xt.subscribe((t=>this.getValueByPath(t,e)),((n,a)=>{const i={path:e,oldValue:a,newValue:n,state:xt.getState()};t(i)}));return()=>{var a;null==(a=this.pathListeners.get(e))||a.delete(t),n()}}save(){console.log("State saved automatically by Zustand")}clear(){xt.getState().reset()}init(e){xt.getState().hydrate(),m.emit("state:initialized",xt.getState())}setupStoreSubscriptions(){xt.subscribe(((e,t)=>{this.detectChanges(t,e,"")}))}detectChanges(e,t,n){new Set([...Object.keys(e||{}),...Object.keys(t||{})]).forEach((a=>{const i=n?`${n}.${a}`:a,o=null==e?void 0:e[a],s=null==t?void 0:t[a];o!==s&&("object"!=typeof s||null===s||Array.isArray(s)?this.emitChange(i,o,s):this.detectChanges(o||{},s,i))}))}emitChange(e,t,n){const a={path:e,oldValue:t,newValue:n,state:xt.getState()};m.emit("state:changed",a),this.notifyPathListeners(e,a)}notifyPathListeners(e,t){var n;null==(n=this.pathListeners.get(e))||n.forEach((e=>{try{e(t)}catch(n){console.error("Error in state listener:",n)}})),this.pathListeners.forEach(((n,a)=>{a!==e&&this.matchPath(a,e)&&n.forEach((e=>{try{e(t)}catch(n){console.error("Error in state listener:",n)}}))}))}matchPath(e,t){if("*"===e)return!0;if(e===t)return!0;const n=e.split("."),a=t.split(".");for(let i=0;i<n.length;i++){if("*"===n[i])return!0;if(n[i]!==a[i])return!1}return!0}getValueByPath(e,t){const n=t.split(".");let a=e;for(const i of n){if(!a||"object"!=typeof a||!(i in a))return;a=a[i]}return a}handleCalculatorUpdate(e,t){const n=xt.getState();switch(e[0]){case"orderValue":n.setOrderValue(t),n.updateCalculation();break;case"leadTime":n.setLeadTime(t),n.updateCalculation();break;case"pickup":n.setPickup(t),n.updateCalculation();break;case"chain":n.setChain(t),n.updateCalculation()}}handleCustomerUpdate(e,t){const n=xt.getState();if("data"===e[0])if(1===e.length)n.setCustomerData(t);else{const a=e[1];n.setCustomerData({[a]:t})}else"customerType"===e[0]?n.setCustomerType(t):"industry"===e[0]&&n.setIndustry(t)}handleSettingsUpdate(e,t){const n=xt.getState();if("salesperson"===e[0])1===e.length?n.updateSalesperson(t):n.updateSalesperson({[e[1]]:t});else if("integrations"===e[0]&&e.length>=2){const a=e[1];2===e.length?n.updateIntegration(a,t):n.updateIntegration(a,{[e[2]]:t})}}handleUIUpdate(e,t){const n=xt.getState();switch(e[0]){case"currentTab":n.setCurrentTab(t);break;case"loading":n.setLoading(t);break;case"error":n.setError(t)}}handleI18nUpdate(e,t){const n=xt.getState();"currentLanguage"===e[0]?n.setLanguage(t):"autoUpdate"===e[0]&&t!==n.i18n.autoUpdate&&n.toggleAutoUpdate()}};t(Lt,"instance");const Bt=Lt.getInstance(),Ft={get:Bt.get.bind(Bt),set:Bt.set.bind(Bt),subscribe:Bt.subscribe.bind(Bt),save:Bt.save.bind(Bt),clear:Bt.clear.bind(Bt),init:Bt.init.bind(Bt),useStore:xt,getState:()=>xt.getState(),setState:xt.setState};class Mt{static isEnabled(){return"true"===localStorage.getItem("FP_DEBUG_EVENTS")||new URLSearchParams(window.location.search).has("debug")||!1}static log(e,t,n){var a;if(!this.isEnabled())return;const i=(new Date).toISOString(),o=`[${i}] [${e}]`;console.log(`${o} ${t}`,n||""),(null==(a=window.FreshPlan)?void 0:a.monitoring)&&window.FreshPlan.monitoring.log({module:e,message:t,data:n,timestamp:i})}static warn(e,t,n){if(!this.isEnabled())return;const a=`[${(new Date).toISOString()}] [${e}] ‚ö†Ô∏è`;console.warn(`${a} ${t}`,n||"")}static error(e,t,n){const a=`[${(new Date).toISOString()}] [${e}] ‚ùå`;console.error(`${a} ${t}`,n||"")}static group(e){this.isEnabled()&&console.group(e)}static groupEnd(){this.isEnabled()&&console.groupEnd()}static time(e){this.isEnabled()&&console.time(e)}static timeEnd(e){this.isEnabled()&&console.timeEnd(e)}static enable(){localStorage.setItem("FP_DEBUG_EVENTS","true"),console.log("üîß Debug logging enabled. Refresh to see detailed logs.")}static disable(){localStorage.removeItem("FP_DEBUG_EVENTS"),console.log("üîß Debug logging disabled.")}}"undefined"!=typeof window&&(window.FPDebug=Mt);class At{constructor(e,n){if(t(this,"name"),t(this,"events",m),t(this,"state",Ft),t(this,"dom",g),t(this,"initialized",!1),t(this,"subscriptions",[]),t(this,"eventHandlers",[]),t(this,"intervals",[]),t(this,"timeouts",[]),t(this,"_isDestroyed",!1),this.name=e,!e||"string"!=typeof e)throw new Error("Module name is required")}async init(){var e,t,n;if(this.initialized)console.warn(`Module ${this.name} already initialized`);else if(this._isDestroyed)console.warn(`Module ${this.name} has been destroyed and cannot be initialized`);else try{console.log(`[${this.name}] Initializing...`),await(null==(e=this.setup)?void 0:e.call(this)),null==(t=this.bindEvents)||t.call(this),null==(n=this.subscribeToState)||n.call(this),this.initialized=!0,this.emit("initialized"),console.log(`[${this.name}] Initialized successfully`)}catch(a){throw console.error(`[${this.name}] Initialization failed:`,a),this.handleError(a),a}}async reinit(){await this.destroy(),this._isDestroyed=!1,await this.init()}async destroy(){var e;if(!this._isDestroyed){console.log(`[${this.name}] Destroying...`);try{await(null==(e=this.cleanup)?void 0:e.call(this)),this.intervals.forEach(clearInterval),this.timeouts.forEach(clearTimeout),this.eventHandlers.forEach((e=>{try{e()}catch(t){console.error(`[${this.name}] Error unsubscribing event:`,t)}})),this.subscriptions.forEach((e=>{try{e()}catch(t){console.error(`[${this.name}] Error unsubscribing state:`,t)}})),this.intervals=[],this.timeouts=[],this.eventHandlers=[],this.subscriptions=[],this.initialized=!1,this._isDestroyed=!0,this.emit("destroyed"),console.log(`[${this.name}] Destroyed successfully`)}catch(t){console.error(`[${this.name}] Error during destroy:`,t)}}}isInitialized(){return this.initialized&&!this._isDestroyed}getModuleState(e,t){const n=`${this.name}${e?`.${e}`:""}`;return this.state.get(n,t)}setModuleState(e,t){if("string"==typeof e){const n=`${this.name}.${e}`;this.state.set(n,t)}else this.state.set(this.name,e)}updateModuleState(e){const t=this.getModuleState()||{};this.setModuleState({...t,...e})}getState(e,t){return this.state.get(e,t)}setState(e,t){this.state.set(e,t)}subscribe(e,t){const n=this.state.subscribe(e,t);this.subscriptions.push(n)}emit(e,t){this.events.emit(`module:${this.name}:${e}`,t)}emitGlobal(e,t){this.events.emit(e,t)}listen(e,t){const n=this.events.on(e,t);this.eventHandlers.push(n)}on(e,t,n,a,i){let o;if(Mt.log(this.name,`Binding event ${t}`,{target:"string"==typeof e?e:e.constructor.name,hasHandler:!!a||"function"==typeof n}),"string"==typeof e){const s=e,r="function"==typeof n?n:a,l=e=>{const t=e.target.closest(s);t&&r.call(t,e)};document.addEventListener(t,l,i),o=()=>document.removeEventListener(t,l,i)}else{const s=e,r="function"==typeof n?n:a;s.addEventListener(t,r,i),o=()=>s.removeEventListener(t,r,i)}this.eventHandlers.push(o),Mt.log(this.name,`Event ${t} bound successfully`)}setInterval(e,t){const n=setInterval(e,t);return this.intervals.push(n),n}setTimeout(e,t){const n=setTimeout((()=>{e();const t=this.timeouts.indexOf(n);t>-1&&this.timeouts.splice(t,1)}),t);return this.timeouts.push(n),n}setLoading(e){this.setState("ui.loading",e),this.emit("loading",e)}showSuccess(e,t=3e3){this.showNotification("success",e,t)}showError(e,t=5e3){this.showNotification("error",e,t)}showWarning(e,t=4e3){this.showNotification("warning",e,t)}showInfo(e,t=3e3){this.showNotification("info",e,t)}showNotification(e,t,n){const a={id:`${this.name}-${Date.now()}`,type:e,message:t,timestamp:Date.now(),duration:n},i=this.getState("ui.notifications",[]);this.setState("ui.notifications",[...i,a]),this.emitGlobal("notification:show",a),n>0&&this.setTimeout((()=>{const e=this.getState("ui.notifications",[]);this.setState("ui.notifications",e.filter((e=>e.id!==a.id)))}),n)}handleError(e){console.error(`[${this.name}] Error:`,e),this.setState("ui.error",{message:e.message,code:e.code,details:e}),this.emit("error",e),this.emitGlobal("module:error",{module:this.name,error:e})}}class $t extends At{constructor(){super("tabs"),t(this,"legacyMode",!1),t(this,"tabButtons",new Map),t(this,"tabPanels",new Map),t(this,"progressBar",null),this.legacyMode=!!window.__LEGACY_SCRIPT_ACTIVE}async setup(){this.cacheElements();const e=xt.getState().ui.currentTab;this.activateTab(e),this.updateProgress()}bindEvents(){this.on(document,"click",".nav-tab",(e=>{const t=e.target.closest(".nav-tab"),n=null==t?void 0:t.dataset.tab;n&&this.isValidTab(n)&&this.switchTab(n)})),this.on(document,"keydown",".nav-tabs",(e=>{const t=e;"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||(e.preventDefault(),this.handleKeyboardNavigation(t.key))})),this.on(window,"popstate",(()=>{const e=this.getTabFromURL();e&&this.isValidTab(e)&&this.switchTab(e,!1)})),this.legacyMode&&this.on(window,i,(e=>{const{tab:t,source:n}=e.detail;"legacy"===n&&t&&this.isValidTab(t)&&(e.defaultPrevented||(e.preventDefault(),this.switchTab(t)))}))}subscribeToState(){xt.subscribe((e=>e.ui.currentTab),(e=>{this.activateTab(e),this.updateProgress()})),xt.subscribe((e=>e.customer.data),(()=>this.updateProgress())),xt.subscribe((e=>e.profile.data),(()=>this.updateProgress()))}cacheElements(){this.dom.$$(".nav-tab").forEach((e=>{const t=e.dataset.tab;t&&this.tabButtons.set(t,e)})),this.dom.$$(".tab-panel").forEach((e=>{const t=e.id;t&&this.tabPanels.set(t,e)})),this.progressBar=this.dom.$(".progress-bar")}switchTab(e,t=!0){const n=xt.getState().ui.currentTab;if(e===n)return;const a=new CustomEvent(s,{detail:{tab:e,previousTab:n},cancelable:!0});if(this.emit(s,{tab:e,previousTab:n}),(this.legacyMode||window.__LEGACY_LISTENERS)&&(window.dispatchEvent(a),a.defaultPrevented))console.log(`[TabNavigationModule] Tab switch to '${e}' was cancelled`);else{if(xt.getState().setCurrentTab(e),t){const t=new URL(window.location.href);t.searchParams.set("tab",e),window.history.pushState({tab:e},"",t)}this.emit("switched",e),this.emit(o,{tab:e,previousTab:n}),(this.legacyMode||window.__LEGACY_LISTENERS)&&window.dispatchEvent(new CustomEvent(o,{detail:{tab:e,previousTab:n}})),this.trackTabSwitch(e)}}activateTab(e){var t;this.tabButtons.forEach(((t,n)=>{const a=n===e;this.dom.toggleClass(t,"active",a),t.setAttribute("aria-selected",String(a))})),this.tabPanels.forEach(((t,n)=>{const a=n===e;this.dom.toggleClass(t,"active",a),t.setAttribute("aria-hidden",String(!a))}));const n=this.tabButtons.get(e);n&&(null==(t=document.activeElement)?void 0:t.classList.contains("nav-tab"))&&n.focus()}handleKeyboardNavigation(e){const t=Array.from(this.tabButtons.keys()),n=xt.getState().ui.currentTab,a=t.indexOf(n);let i;i="ArrowLeft"===e?a>0?a-1:t.length-1:a<t.length-1?a+1:0;const o=t[i];o&&this.switchTab(o)}updateProgress(){if(!this.progressBar)return;const e=this.calculateProgress();this.progressBar.style.width=`${e}%`,this.progressBar.setAttribute("aria-valuenow",String(e)),this.dom.removeClass(this.progressBar,"low","medium","high","complete"),100===e?this.dom.addClass(this.progressBar,"complete"):e>=75?this.dom.addClass(this.progressBar,"high"):e>=50?this.dom.addClass(this.progressBar,"medium"):this.dom.addClass(this.progressBar,"low"),this.emit(r,{progress:e,steps:this.getProgressSteps()}),(this.legacyMode||window.__LEGACY_LISTENERS)&&window.dispatchEvent(new CustomEvent(r,{detail:{progress:e,steps:this.getProgressSteps()}}))}calculateProgress(){const e=xt.getState();let t=0;return null!==e.calculator.calculation&&t++,e.customer.data&&e.customer.data.companyName&&t++,e.customer.isValid&&!e.customer.isDirty&&t++,null!==e.profile.data&&t++,e.settings.salesperson.name&&e.settings.salesperson.email&&t++,Math.round(t/5*100)}getTabFromURL(){const e=new URLSearchParams(window.location.search).get("tab");return this.isValidTab(e)?e:null}isValidTab(e){return["demonstrator","customer","profile","offer","settings"].includes(e)}trackTabSwitch(e){console.log(`Analytics: Tab switched to ${e}`),window.gtag&&window.gtag("event","tab_switch",{tab_name:e,timestamp:Date.now()})}getCurrentTab(){return xt.getState().ui.currentTab}navigateTo(e){if(this.isValidTab(e)){if(!this.isTabAccessible(e)){const t=this.getAccessDeniedReason(e);return this.emit(l,{tab:e,reason:t}),(this.legacyMode||window.__LEGACY_LISTENERS)&&window.dispatchEvent(new CustomEvent(l,{detail:{tab:e,reason:t}})),void console.warn(`[TabNavigationModule] Access denied to tab '${e}': ${t}`)}this.switchTab(e)}}showTab(e){console.warn("[TabNavigationModule] showTab() is deprecated. Use navigateTo() instead.");const t=this.mapLegacyTabId(e);t&&this.isValidTab(t)&&this.navigateTo(t)}getActiveTab(){return console.warn("[TabNavigationModule] getActiveTab() is deprecated. Use getCurrentTab() instead."),this.getCurrentTab()}onTabChange(e){console.warn("[TabNavigationModule] onTabChange() is deprecated. Use module event system instead.");const t=t=>{e(t.detail.tab)};return this.on(window,o,t),()=>{window.removeEventListener(o,t)}}mapLegacyTabId(e){return{demonstrator:"demonstrator",calculator:"demonstrator",customer:"customer",profile:"profile",offer:"offer",settings:"settings"}[e]||null}getProgress(){return this.calculateProgress()}getProgressSteps(){const e=xt.getState();return{calculatorUsed:null!==e.calculator.calculation,customerDataEntered:!(!e.customer.data||!e.customer.data.companyName),customerDataValid:e.customer.isValid&&!e.customer.isDirty,profileGenerated:null!==e.profile.data,settingsConfigured:!(!e.settings.salesperson.name||!e.settings.salesperson.email)}}isTabAccessible(e){const t=xt.getState();switch(e){case"demonstrator":case"customer":case"settings":return!0;case"profile":return!(!t.customer.data||!t.customer.data.companyName);case"offer":return null!==t.profile.data;default:return!1}}getAccessDeniedReason(e){const t=xt.getState();switch(e){case"profile":if(!t.customer.data||!t.customer.data.companyName)return"Kundendaten m√ºssen zuerst eingegeben werden";break;case"offer":if(null===t.profile.data)return"Kundenprofil muss zuerst generiert werden"}return"Zugriff verweigert"}enableLegacyMode(){this.legacyMode=!0,window.__LEGACY_LISTENERS=!0}cleanup(){delete window.__LEGACY_LISTENERS}}class zt extends At{constructor(){super("calculator"),t(this,"rules"),this.rules={base:[{min:75e3,discount:10},{min:5e4,discount:9},{min:3e4,discount:8},{min:15e3,discount:6},{min:5e3,discount:3},{min:0,discount:0}],earlyBooking:[{days:30,discount:3},{days:15,discount:2},{days:10,discount:1},{days:0,discount:0}],pickup:2,maxTotal:15}}async setup(){if(null===xt.getState().calculator.calculation){const e=15e3,t=14,n=!1,a=!1;this.calculate(e,t,n,a),xt.getState().setOrderValue(e),xt.getState().setLeadTime(t),xt.getState().setPickup(n),xt.getState().setChain(a),xt.getState().updateCalculation()}this.updateUI()}bindEvents(){this.on("#orderValue","input",(e=>{const t=e.target,n=parseInt(t.value);xt.getState().setOrderValue(n),this.updateSliderProgress(t)})),this.on("#leadTime","input",(e=>{const t=e.target,n=parseInt(t.value);xt.getState().setLeadTime(n),this.updateSliderProgress(t)})),this.on("#pickupToggle","change",(e=>{const t=e.target;xt.getState().setPickup(t.checked)})),this.on("#chainToggle","change",(e=>{const t=e.target;xt.getState().setChain(t.checked)})),this.on(document,"click",".scenario-card",(e=>{const t=e.target.closest(".scenario-card"),n=null==t?void 0:t.dataset.scenario;n&&this.loadScenario(n)}))}subscribeToState(){xt.subscribe((e=>e.calculator),(e=>{this.updateUI(),this.emit("calculated",e.calculation)}))}calculate(e,t,n,a){let i=0;for(const c of this.rules.base)if(e>=c.min){i=c.discount;break}let o=0;for(const c of this.rules.earlyBooking)if(t>=c.days){o=c.discount;break}const s=n&&e>=5e3?this.rules.pickup:0,r=Math.min(i+o+s+0,this.rules.maxTotal),l=Math.round(e*(r/100));return{orderValue:e,leadTime:t,pickup:n,chain:a,baseDiscount:i,earlyDiscount:o,pickupDiscount:s,chainDiscount:0,totalDiscount:r,discountAmount:l,savingsAmount:l,finalPrice:e-l}}updateUI(){const e=xt.getState().calculator,t=e.calculation;if(!t)return;this.dom.text("#orderValueDisplay",`‚Ç¨${t.orderValue.toLocaleString("de-DE")}`),this.dom.text("#leadTimeDisplay",`${t.leadTime} Tage`),this.dom.text("#baseDiscount",`${t.baseDiscount}%`),this.dom.text("#earlyBookingDiscount",`${t.earlyDiscount}%`),this.dom.text("#pickupDiscount",`${t.pickupDiscount}%`),this.dom.text("#totalDiscount",`${t.totalDiscount}%`),this.dom.text("#savingsAmount",`‚Ç¨${t.savingsAmount.toLocaleString("de-DE")}`),this.dom.text("#finalPrice",`‚Ç¨${t.finalPrice.toLocaleString("de-DE")}`),this.updateProgressBar("baseDiscountBar",t.baseDiscount),this.updateProgressBar("earlyDiscountBar",t.earlyDiscount),this.updateProgressBar("pickupDiscountBar",t.pickupDiscount);const n=this.dom.$("#orderValue"),a=this.dom.$("#leadTime");n&&parseInt(n.value)!==e.orderValue&&(n.value=String(e.orderValue),this.updateSliderProgress(n)),a&&parseInt(a.value)!==e.leadTime&&(a.value=String(e.leadTime),this.updateSliderProgress(a));const i=this.dom.$("#pickupToggle"),o=this.dom.$("#chainToggle");i&&(i.checked=e.pickup),o&&(o.checked=e.chain)}updateProgressBar(e,t){const n=this.dom.$(`#${e}`);if(n){const e=Math.min(t/30*100,100);n.style.width=`${e}%`}}updateSliderProgress(e){const t=parseFloat(e.min),n=parseFloat(e.max),a=(parseFloat(e.value)-t)/(n-t)*100;e.style.setProperty("--progress",`${a}%`)}loadScenario(e){const t={spontaneous:{orderValue:8e3,leadTime:3,pickup:!1,chain:!1},planned:{orderValue:25e3,leadTime:14,pickup:!1,chain:!1},optimal:{orderValue:5e4,leadTime:30,pickup:!0,chain:!1}}[e];if(t){const n=xt.getState();n.setOrderValue(t.orderValue),n.setLeadTime(t.leadTime),n.setPickup(t.pickup),n.setChain(t.chain),this.showSuccess(`Szenario "${e}" geladen`)}}getCalculation(){return xt.getState().calculator.calculation}recalculate(){const e=xt.getState().calculator;this.calculate(e.orderValue,e.leadTime,e.pickup,e.chain),xt.getState().updateCalculation()}getDiscountRules(){return this.rules}cleanup(){}}function Rt(e){return e?!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Bitte geben Sie eine g√ºltige E-Mail-Adresse ein":"E-Mail-Adresse ist erforderlich"}function Vt(e){const t=e.replace(/[\s\-\(\)]/g,"");if(!e)return!0;return!![/^(\+49|0049|0)[1-9]\d{9,10}$/,/^(\+|00)[1-9]\d{8,14}$/].some((e=>e.test(t)))||"Bitte geben Sie eine g√ºltige Telefonnummer ein"}function _t(e){return e?!!/^\d{5}$/.test(e)||"Bitte geben Sie eine g√ºltige Postleitzahl ein (5 Ziffern)":"Postleitzahl ist erforderlich"}const Nt=class e{constructor(){}static getInstance(){return e.instance||(e.instance=new e),e.instance}async checkCredit(e){try{await new Promise((e=>setTimeout(e,2e3)));const t=!e.registrationNumber,n=e.expectedVolume;return n<5e3?{status:"rejected",rating:8,ratingText:"Unzureichendes Auftragsvolumen",message:"Mindestbestellwert von 5.000‚Ç¨ nicht erreicht",timestamp:new Date}:t&&n>5e4?{status:"review",rating:5,ratingText:"Pr√ºfung erforderlich",creditLimit:25e3,message:"Neukunde mit hohem Volumen - Gesch√§ftsleitung muss entscheiden",timestamp:new Date}:n<=25e3?{status:"approved",rating:3,ratingText:"Gute Bonit√§t",creditLimit:n,message:"Automatisch genehmigt",timestamp:new Date}:{status:"approved",rating:2,ratingText:"Sehr gute Bonit√§t",creditLimit:1.2*n,message:"Kreditlimit bewilligt",timestamp:new Date}}catch(t){return console.error("Credit check failed:",t),{status:"error",message:"Bonit√§tspr√ºfung fehlgeschlagen. Bitte versuchen Sie es sp√§ter erneut.",timestamp:new Date}}}async requestManagementApproval(e){try{const t={id:`MGMT-${Date.now()}`,customerData:e.customerData,reason:e.reason,requestedBy:e.requestedBy,requestedLimit:e.requestedLimit,status:"pending",createdAt:new Date};return console.log("Management approval request:",t),await new Promise((e=>setTimeout(e,1e3))),{success:!0,message:"Anfrage wurde an die Gesch√§ftsleitung gesendet. Sie erhalten eine Antwort innerhalb von 24 Stunden."}}catch(t){return console.error("Management approval request failed:",t),{success:!1,message:"Fehler beim Senden der Anfrage. Bitte versuchen Sie es erneut."}}}getRatingDescription(e){return e<=2?{text:"Sehr gut",color:"success"}:e<=4?{text:"Gut",color:"success"}:e<=6?{text:"Befriedigend",color:"warning"}:e<=8?{text:"Ausreichend",color:"warning"}:{text:"Mangelhaft",color:"danger"}}needsSpecialPaymentTerms(e){return"rejected"===e.status||"review"===e.status||void 0!==e.rating&&e.rating>6}getRecommendedPaymentTerms(e){return"rejected"===e.status?"Nur Vorkasse oder Barzahlung":"review"===e.status?"Vorkasse bis zur Freigabe durch Gesch√§ftsleitung":e.rating?e.rating<=3?"30 Tage netto":e.rating<=6?"14 Tage netto":"Nur Vorkasse oder Barzahlung":"Nach Vereinbarung"}};t(Nt,"instance");let Ot=Nt;class Ht extends At{constructor(){super("customer"),t(this,"form",null),t(this,"autosaveTimer",null),t(this,"validationRules",new Map),t(this,"AUTOSAVE_DELAY",1e3),t(this,"creditCheckService"),t(this,"creditCheckResponse",null),this.creditCheckService=Ot.getInstance()}async setup(){console.log("[CustomerModule] Setting up...");const e=this.dom.$("#tab-customer");e&&(e.innerHTML='\n    <div class="customer-container">\n      <h2 data-i18n="customer.title">Kundendaten erfassen</h2>\n      \n      \x3c!-- Customer Type Selection --\x3e\n      <div class="customer-type-selection">\n        <label class="customer-type-card">\n          <input type="radio" name="customerTypeSelection" value="single" checked>\n          <div class="card-content">\n            <h3 data-i18n="customer.single">Einzelstandort</h3>\n            <p data-i18n="customer.singleDesc">Ein Standort</p>\n          </div>\n        </label>\n        <label class="customer-type-card">\n          <input type="radio" name="customerTypeSelection" value="chain">\n          <div class="card-content">\n            <h3 data-i18n="customer.chain">Kette/Gruppe</h3>\n            <p data-i18n="customer.chainDesc">Mehrere Standorte</p>\n          </div>\n        </label>\n      </div>\n\n      \x3c!-- Alert for new customers --\x3e\n      <div id="newCustomerAlert" class="alert alert-warning hidden">\n        <strong>Hinweis:</strong> F√ºr Neukunden mit Zahlung auf Rechnung ist eine Bonit√§tspr√ºfung erforderlich.\n      </div>\n\n      \x3c!-- Customer Form --\x3e\n      <form id="customerForm" class="customer-form">\n        \x3c!-- Basic Information --\x3e\n        <section class="form-section">\n          <h3 data-i18n="customer.basicInfo">Grunddaten</h3>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="companyName">\n                <span data-i18n="customer.company">Firma/Organisation</span>\n                <span class="required">*</span>\n              </label>\n              <input type="text" id="companyName" name="companyName" required>\n            </div>\n            \n            <div class="form-group">\n              <label for="legalForm">\n                <span data-i18n="customer.legalForm">Rechtsform</span>\n                <span class="required">*</span>\n              </label>\n              <select id="legalForm" name="legalForm" required>\n                <option value="" data-i18n="customer.selectLegalForm">Bitte w√§hlen</option>\n                <option value="gmbh" data-i18n="customer.gmbh">GmbH</option>\n                <option value="ag" data-i18n="customer.ag">AG</option>\n                <option value="gbr" data-i18n="customer.gbr">GbR</option>\n                <option value="einzelunternehmen" data-i18n="customer.einzelunternehmen">Einzelunternehmen</option>\n                <option value="other" data-i18n="customer.other">Sonstige</option>\n              </select>\n            </div>\n          </div>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="customerStatus">\n                <span data-i18n="customer.customerStatus">Kundentyp</span>\n                <span class="required">*</span>\n              </label>\n              <select id="customerStatus" name="customerStatus" required>\n                <option value="" selected>Bitte w√§hlen</option>\n                <option value="neukunde" data-i18n="customer.newCustomer">Neukunde</option>\n                <option value="bestandskunde" data-i18n="customer.existingCustomer">Bestandskunde</option>\n              </select>\n            </div>\n            \n            <div class="form-group">\n              <label for="industry">\n                <span data-i18n="customer.industry">Branche</span>\n                <span class="required">*</span>\n              </label>\n              <select id="industry" name="industry" required>\n                <option value="" data-i18n="customer.selectIndustry">Bitte w√§hlen</option>\n                <option value="hotel" data-i18n="customer.hotel">Hotel</option>\n                <option value="krankenhaus" data-i18n="customer.krankenhaus">Klinik</option>\n                <option value="altenheim" data-i18n="customer.altenheim">Alten-/Pflegeheim</option>\n                <option value="betriebsrestaurant" data-i18n="customer.betriebsrestaurant">Betriebsrestaurant</option>\n                <option value="restaurant" data-i18n="customer.restaurant">Restaurant</option>\n              </select>\n            </div>\n          </div>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="customerNumber">\n                <span data-i18n="customer.customerNumber">Kundennummer (intern)</span>\n              </label>\n              <input type="text" id="customerNumber" name="customerNumber">\n            </div>\n            \n            <div class="form-group chain-field hidden">\n              <label for="chainCustomer">\n                <span data-i18n="customer.chainCustomer">Kettenkunde</span>\n              </label>\n              <select id="chainCustomer" name="chainCustomer">\n                <option value="nein">Nein</option>\n                <option value="ja">Ja</option>\n              </select>\n            </div>\n          </div>\n        </section>\n\n        \x3c!-- Address --\x3e\n        <section class="form-section">\n          <h3 data-i18n="customer.address">Adresse</h3>\n          \n          <div class="form-group">\n            <label for="street">\n              <span data-i18n="customer.street">Stra√üe & Hausnummer</span>\n              <span class="required">*</span>\n            </label>\n            <input type="text" id="street" name="street" required>\n          </div>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="postalCode">\n                <span data-i18n="customer.postalCode">PLZ</span>\n                <span class="required">*</span>\n              </label>\n              <input type="text" id="postalCode" name="postalCode" pattern="[0-9]{5}" required>\n            </div>\n            \n            <div class="form-group">\n              <label for="city">\n                <span data-i18n="customer.city">Ort</span>\n                <span class="required">*</span>\n              </label>\n              <input type="text" id="city" name="city" required>\n            </div>\n          </div>\n        </section>\n\n        \x3c!-- Contact Person --\x3e\n        <section class="form-section">\n          <h3 data-i18n="customer.contact">Ansprechpartner</h3>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="contactName">\n                <span data-i18n="customer.contact">Ansprechpartner</span>\n                <span class="required">*</span>\n              </label>\n              <input type="text" id="contactName" name="contactName" required>\n            </div>\n            \n            <div class="form-group">\n              <label for="contactPosition">\n                <span data-i18n="customer.position">Position</span>\n              </label>\n              <input type="text" id="contactPosition" name="contactPosition">\n            </div>\n          </div>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="contactPhone">\n                <span data-i18n="customer.phone">Telefon</span>\n                <span class="required">*</span>\n              </label>\n              <input type="tel" id="contactPhone" name="contactPhone" required>\n            </div>\n            \n            <div class="form-group">\n              <label for="contactEmail">\n                <span data-i18n="customer.email">E-Mail</span>\n                <span class="required">*</span>\n              </label>\n              <input type="email" id="contactEmail" name="contactEmail" required>\n            </div>\n          </div>\n        </section>\n\n        \x3c!-- Business Data --\x3e\n        <section class="form-section">\n          <h3 data-i18n="customer.businessData">Gesch√§ftsdaten</h3>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="annualVolume">\n                <span data-i18n="customer.annualVolume">Erwartetes Jahresvolumen</span>\n                <span class="required">*</span>\n              </label>\n              <input type="number" id="annualVolume" name="annualVolume" min="0" step="1000" required>\n            </div>\n            \n            <div class="form-group">\n              <label for="paymentMethod">\n                <span data-i18n="customer.paymentMethod">Zahlungsart</span>\n                <span class="required">*</span>\n              </label>\n              <select id="paymentMethod" name="paymentMethod" required>\n                <option value="" selected>Bitte w√§hlen</option>\n                <option value="vorkasse" data-i18n="customer.prepayment">Vorkasse</option>\n                <option value="bar" data-i18n="customer.cash">Bar bei Lieferung</option>\n                <option value="rechnung" data-i18n="customer.invoice">Rechnung</option>\n              </select>\n            </div>\n          </div>\n        </section>\n\n        \x3c!-- Additional Information --\x3e\n        <section class="form-section">\n          <h3 data-i18n="customer.additionalInfo">Zusatzinformationen</h3>\n          \n          <div class="form-group">\n            <label for="notes">\n              <span data-i18n="customer.notes">Notizen</span>\n            </label>\n            <textarea id="notes" name="notes" rows="4"></textarea>\n          </div>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="customField1">\n                <span data-i18n="customer.customField1">Freifeld 1</span>\n              </label>\n              <input type="text" id="customField1" name="customField1">\n            </div>\n            \n            <div class="form-group">\n              <label for="customField2">\n                <span data-i18n="customer.customField2">Freifeld 2</span>\n              </label>\n              <input type="text" id="customField2" name="customField2">\n            </div>\n          </div>\n        </section>\n\n        \x3c!-- Industry-specific fields container --\x3e\n        <section id="industrySpecificFields" class="form-section hidden">\n          \x3c!-- Dynamic industry fields will be inserted here --\x3e\n        </section>\n\n        \x3c!-- Chain-specific fields --\x3e\n        <section id="chainFields" class="form-section hidden">\n          <h3 data-i18n="customer.chainDetails">Ketten-Details</h3>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="totalLocations">\n                <span data-i18n="customer.numberOfLocations">Anzahl Standorte</span>\n              </label>\n              <input type="number" id="totalLocations" name="totalLocations" min="2" value="2">\n            </div>\n            \n            <div class="form-group">\n              <label for="avgOrderPerLocation">\n                <span data-i18n="customer.avgOrderPerLocation">√ò Bestellwert pro Standort</span>\n              </label>\n              <input type="number" id="avgOrderPerLocation" name="avgOrderPerLocation" min="0" step="100">\n            </div>\n          </div>\n        </section>\n\n        \x3c!-- Vending fields --\x3e\n        <section class="form-section">\n          <h3 data-i18n="customer.vendingConcept">Vending-Konzept</h3>\n          \n          <div class="form-group">\n            <label>\n              <input type="checkbox" id="vendingInterest" name="vendingInterest">\n              <span data-i18n="customer.vendingInterest">Interesse an Vending-Automaten</span>\n            </label>\n          </div>\n          \n          <div id="vendingFields" class="hidden">\n            <div class="form-row">\n              <div class="form-group">\n                <label for="vendingLocations">\n                  <span data-i18n="customer.vendingMachineLocations">Anzahl Automaten-Standorte</span>\n                </label>\n                <input type="number" id="vendingLocations" name="vendingLocations" min="0">\n              </div>\n              \n              <div class="form-group">\n                <label for="vendingDaily">\n                  <span data-i18n="customer.expectedTransactions">Erwartete Transaktionen/Tag</span>\n                </label>\n                <input type="number" id="vendingDaily" name="vendingDaily" min="0">\n              </div>\n            </div>\n          </div>\n        </section>\n\n        \x3c!-- Contract Details --\x3e\n        <section class="form-section">\n          <h3 data-i18n="customer.contractDetails">Vertragsdetails</h3>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="contractStart">\n                <span data-i18n="customer.desiredContractStart">Gew√ºnschter Vertragsbeginn</span>\n              </label>\n              <input type="date" id="contractStart" name="contractStart">\n            </div>\n            \n            <div class="form-group">\n              <label for="contractDuration">\n                <span data-i18n="customer.contractDuration">Vertragslaufzeit</span>\n              </label>\n              <select id="contractDuration" name="contractDuration">\n                <option value="12" data-i18n="customer.months12">12 Monate</option>\n                <option value="24" data-i18n="customer.months24">24 Monate</option>\n                <option value="36" data-i18n="customer.months36">36 Monate</option>\n              </select>\n            </div>\n          </div>\n        </section>\n\n        \x3c!-- Form Actions --\x3e\n        <div class="form-actions">\n          <button type="button" class="btn btn-secondary" id="clearForm">\n            <span data-i18n="common.reset">Zur√ºcksetzen</span>\n          </button>\n          <button type="submit" class="btn btn-primary">\n            <span data-i18n="customer.save">Speichern</span>\n          </button>\n        </div>\n      </form>\n    </div>\n  '),this.form=this.dom.$("#customerForm"),console.log("[CustomerModule] Form element:",this.form),this.form?(this.buildForm(),this.loadSavedData()):console.warn("[CustomerModule] Customer form not found during setup - will use event delegation"),this.setupValidationRules(),console.log("[CustomerModule] Setup complete")}bindEvents(){console.log("[CustomerModule] Binding events..."),this.on(document,"change",'input[name="customerTypeSelection"]',(e=>{const t=e.target;this.handleCustomerTypeSelectionChange(t.value)})),this.on(document,"change","#customerStatus",(e=>{const t=e.target;this.handleCustomerStatusChange(t.value)})),this.on(document,"change","#industry",(e=>{const t=e.target;this.handleIndustryChange(t.value)})),this.on(document,"change","#paymentMethod",(e=>{const t=e.target;this.handlePaymentMethodChange(t.value)})),this.on(document,"change","#vendingInterest",(e=>{const t=e.target;this.handleVendingInterestChange(t.checked)})),this.on(document,"input","#customerForm input, #customerForm select, #customerForm textarea",(e=>{const t=e.target;"true"===t.dataset.autosave&&this.handleInputChange(t)})),this.on(document,"submit","#customerForm",(e=>{e.preventDefault(),this.saveCustomerData()})),this.on(document,"click","#requestCreditCheck",(e=>{console.log("[CustomerModule] Credit check button clicked"),e.preventDefault(),this.performCreditCheck()})),this.on(document,"click","#requestManagement",(e=>{console.log("[CustomerModule] Management button clicked"),e.preventDefault(),this.requestManagementApproval()})),this.on(document,"click","#clearForm",(e=>{console.log("[CustomerModule] Clear form button clicked"),e.preventDefault(),this.clearCustomerData()})),this.on(document,"change","#customerType",(e=>{const t=e.target;this.handleCustomerTypeChange(t.value)})),console.log("[CustomerModule] Events bound successfully using delegation")}subscribeToState(){xt.subscribe((e=>e.customer.customerType),(e=>{const t=this.dom.$("#customerType");if(t&&e){const n="single"===e||"chain"===e?"bestandskunde":e;t.value=n}})),this.events.on("app:reset",(()=>{this.clearCustomerData()}))}buildForm(){if(!this.form)return;this.form.querySelectorAll("input, select, textarea").forEach((e=>{e.hasAttribute("readonly")||e.setAttribute("data-autosave","true")}))}setupValidationRules(){this.validationRules.set("companyName",{required:!0}),this.validationRules.set("legalForm",{required:!0}),this.validationRules.set("customerStatus",{required:!0}),this.validationRules.set("industry",{required:!0}),this.validationRules.set("contactName",{required:!0}),this.validationRules.set("contactEmail",{required:!0,custom:Rt}),this.validationRules.set("contactPhone",{required:!0,custom:Vt}),this.validationRules.set("street",{required:!0}),this.validationRules.set("postalCode",{required:!0,custom:_t}),this.validationRules.set("city",{required:!0}),this.validationRules.set("annualVolume",{required:!0}),this.validationRules.set("paymentMethod",{required:!0})}loadSavedData(){const e=xt.getState().customer.data;if(e&&(Object.entries(e).forEach((([e,t])=>{const n=this.dom.$(`#${e}`);n&&("checkbox"===n.type?n.checked=Boolean(t):n.value=String(t||""))})),e.customerType&&this.handleCustomerTypeChange(e.customerType),e.industry)){const t=this.dom.$("#industry");t&&(t.value=e.industry)}}handleInputChange(e){const{id:t,value:n,type:a}=e,i="checkbox"===a?e.checked:n,o=this.validateField(t,i),s=xt.getState();s.setCustomerData({[t]:i}),this.scheduleAutosave(),o||(s.customer.isValid=!1)}validateField(e,t){const n=this.validationRules.get(e);if(!n)return!0;const a=this.dom.$(`#${e}`);if(!a)return!0;let i=!0,o="";if(n.required&&!String(t).trim())i=!1,o="Dieses Feld ist erforderlich";else if(n.custom&&t){const a=n.custom(t);"string"==typeof a?(i=!1,o=a):(i=a,i||(o=this.getValidationMessage(e)))}return this.setFieldValidation(a,i,o),i}getValidationMessage(e){return{contactEmail:"Bitte geben Sie eine g√ºltige E-Mail-Adresse ein",contactPhone:"Bitte geben Sie eine g√ºltige Telefonnummer ein",zipCode:"Bitte geben Sie eine g√ºltige Postleitzahl ein (5 Ziffern)"}[e]||"Ung√ºltiger Wert"}setFieldValidation(e,t,n){const a=e.closest(".form-group");if(!a)return;const i=a.querySelector(".error-message");if(i&&i.remove(),t)this.dom.removeClass(e,"error");else{this.dom.addClass(e,"error");const t=this.dom.create("span",{class:"error-message"},n);a.appendChild(t)}}handleIndustryChange(e){xt.getState().setIndustry(e)}scheduleAutosave(){this.autosaveTimer&&clearTimeout(this.autosaveTimer),this.autosaveTimer=this.setTimeout((()=>{this.autosave()}),this.AUTOSAVE_DELAY)}autosave(){xt.getState().saveCustomer(),console.log("Customer data autosaved")}validateForm(){const e=[];let t=!0;const n=this.getFormData();return this.validationRules.forEach(((a,i)=>{const o=n[i];this.validateField(i,o)||(t=!1,e.push({field:i,message:this.getValidationMessage(i)}))})),{isValid:t,errors:e}}getFormData(){var e;const t={};return((null==(e=this.form)?void 0:e.querySelectorAll("input, select, textarea"))||[]).forEach((e=>{const n=e;n.id&&("checkbox"===n.type?t[n.id]=n.checked:"number"===n.type?t[n.id]=parseInt(n.value):t[n.id]=n.value)})),t}saveCustomerData(){var e;const t=this.validateForm();if(!t.isValid){this.showError("Bitte f√ºllen Sie alle erforderlichen Felder korrekt aus");const e=t.errors[0];if(e){const t=this.dom.$(`#${e.field}`);null==t||t.focus()}return}const n=xt.getState();n.saveCustomer(),this.showSuccess("Kundendaten gespeichert"),this.emit("saved"),(null==(e=n.customer.data)?void 0:e.companyName)&&this.events.emit("app:navigate","profile")}clearCustomerData(){var e;if(!confirm("M√∂chten Sie wirklich alle Kundendaten l√∂schen?"))return;xt.getState().clearCustomer(),null==(e=this.form)||e.reset(),this.creditCheckResponse=null,this.updateCreditCheckStatus();const t=this.dom.$("#newCustomerAlert");t&&this.dom.addClass(t,"hidden"),this.showSuccess("Kundendaten gel√∂scht"),this.emit("cleared")}getCustomerData(){return xt.getState().customer.data}isValid(){return this.validateForm().isValid}focusFirstError(){var e;const t=null==(e=this.form)?void 0:e.querySelector(".error");null==t||t.focus()}handleCustomerTypeChange(e){const t=this.dom.$("#newCustomerAlert");t&&("neukunde"===e?(this.dom.removeClass(t,"hidden"),this.creditCheckResponse=null,this.updateCreditCheckStatus()):this.dom.addClass(t,"hidden"),xt.getState().setCustomerData({customerType:e}))}async performCreditCheck(){var e,t;if(!this.validateForm().isValid)return void this.showError("Bitte f√ºllen Sie alle erforderlichen Felder aus, bevor Sie eine Bonit√§tspr√ºfung anfordern.");const n=this.getFormData(),a=this.dom.$("#customerForm");a&&this.dom.addClass(a,"form-loading");try{const a={companyName:n.companyName||"",legalForm:n.legalForm||"",registrationNumber:n.handelsregister,vatId:n.ustId||"",address:{street:n.street||"",postalCode:n.postalCode||"",city:n.city||"",country:"DE"},industry:n.industry||"",companySize:n.companySize,expectedVolume:parseFloat((null==(e=n.expectedVolume)?void 0:e.toString())||"0"),contactPerson:{name:n.contactName||"",position:n.contactPosition,email:n.contactEmail||"",phone:n.contactPhone||""}};this.creditCheckResponse=await this.creditCheckService.checkCredit(a),this.updateCreditCheckStatus(),"approved"===this.creditCheckResponse.status?this.showSuccess("Bonit√§tspr√ºfung erfolgreich! Kreditlimit: ‚Ç¨"+(null==(t=this.creditCheckResponse.creditLimit)?void 0:t.toLocaleString("de-DE"))):"review"===this.creditCheckResponse.status?this.showWarning("Bonit√§tspr√ºfung erfordert √úberpr√ºfung durch die Gesch√§ftsleitung."):"rejected"===this.creditCheckResponse.status&&this.showError("Bonit√§tspr√ºfung abgelehnt: "+this.creditCheckResponse.message)}catch(i){this.showError("Fehler bei der Bonit√§tspr√ºfung. Bitte versuchen Sie es sp√§ter erneut."),console.error("Credit check error:",i)}finally{a&&this.dom.removeClass(a,"form-loading")}}async requestManagementApproval(){var e;const t=this.getFormData(),n=parseFloat((null==(e=t.expectedVolume)?void 0:e.toString())||"0");if(t.companyName&&t.contactEmail)try{const e={companyName:t.companyName||"",legalForm:t.legalForm||"",registrationNumber:t.handelsregister,vatId:t.ustId||"",address:{street:t.street||"",postalCode:t.postalCode||"",city:t.city||"",country:"DE"},industry:t.industry||"",companySize:t.companySize,expectedVolume:n,contactPerson:{name:t.contactName||"",position:t.contactPosition,email:t.contactEmail||"",phone:t.contactPhone||""}},a=await this.creditCheckService.requestManagementApproval({customerData:e,reason:"Neukunde - Freigabe f√ºr Zahlung auf Rechnung erforderlich",requestedBy:"Vertrieb",requestedLimit:n});if(a.success){this.showSuccess(a.message);const e=this.dom.$("#creditStatus");e&&(e.textContent="Pr√ºfung angefordert",this.dom.addClass(e,"warning"))}else this.showError(a.message)}catch(a){this.showError("Fehler beim Senden der Anfrage. Bitte versuchen Sie es erneut."),console.error("Management approval error:",a)}else this.showError("Bitte f√ºllen Sie mindestens Firmenname und E-Mail aus.")}updateCreditCheckStatus(){const e=this.dom.$("#creditStatus"),t=this.dom.$("#creditLimit"),n=this.dom.$("#creditRating");if(!e||!t||!n)return;if(!this.creditCheckResponse)return e.textContent="Nicht gepr√ºft",e.className="status-value",t.textContent="-",void(n.textContent="-");const a={approved:{text:"Genehmigt",class:"positive"},rejected:{text:"Abgelehnt",class:"negative"},review:{text:"Pr√ºfung erforderlich",class:"warning"},error:{text:"Fehler",class:"negative"}}[this.creditCheckResponse.status];if(e.textContent=a.text,e.className=`status-value ${a.class}`,this.creditCheckResponse.creditLimit?(t.textContent="‚Ç¨"+this.creditCheckResponse.creditLimit.toLocaleString("de-DE"),t.className="status-value positive"):(t.textContent="-",t.className="status-value"),this.creditCheckResponse.rating){const e=this.creditCheckService.getRatingDescription(this.creditCheckResponse.rating);n.textContent=`${this.creditCheckResponse.rating}/10 (${e.text})`,n.className="status-value "+("success"===e.color?"positive":"danger"===e.color?"negative":"warning")}else n.textContent="-",n.className="status-value";const i=this.dom.$("#paymentTerms");if(i&&this.creditCheckService.needsSpecialPaymentTerms(this.creditCheckResponse)){i.value="0";const e=this.creditCheckService.getRecommendedPaymentTerms(this.creditCheckResponse);this.showWarning(`Empfohlene Zahlungsbedingungen: ${e}`)}}handleCustomerTypeSelectionChange(e){const t=this.dom.$("#chainFields"),n=this.dom.$(".chain-field");"chain"===e?(t&&this.dom.removeClass(t,"hidden"),n&&this.dom.removeClass(n,"hidden"),xt.getState().setCustomerType("chain")):(t&&this.dom.addClass(t,"hidden"),n&&this.dom.addClass(n,"hidden"),xt.getState().setCustomerType("single"))}handleCustomerStatusChange(e){var t;const n=this.dom.$("#newCustomerAlert"),a=null==(t=this.dom.$("#paymentMethod"))?void 0:t.value;"neukunde"===e&&"rechnung"===a?n&&this.dom.removeClass(n,"hidden"):n&&this.dom.addClass(n,"hidden"),xt.getState().setCustomerData({customerStatus:e})}handlePaymentMethodChange(e){var t;const n=null==(t=this.dom.$("#customerStatus"))?void 0:t.value,a=this.dom.$("#newCustomerAlert");"neukunde"===n&&"rechnung"===e?a&&this.dom.removeClass(a,"hidden"):a&&this.dom.addClass(a,"hidden"),xt.getState().setCustomerData({paymentMethod:e})}handleVendingInterestChange(e){const t=this.dom.$("#vendingFields");e?t&&this.dom.removeClass(t,"hidden"):t&&this.dom.addClass(t,"hidden"),xt.getState().setCustomerData({vendingInterest:e})}cleanup(){}}class Kt extends At{constructor(){super("settings"),t(this,"form",null),t(this,"importInput",null)}async setup(){this.form=this.dom.$("#settingsForm"),this.buildSettingsUI(),this.loadSettings()}bindEvents(){this.form&&(this.on(this.form,"submit",(e=>{e.preventDefault(),this.saveSettings()})),this.on("#testMondayBtn","click",(()=>this.testMondayConnection())),this.on("#testEmailBtn","click",(()=>this.testEmailConnection())),this.on("#testXentralBtn","click",(()=>this.testXentralConnection())),this.on("#exportSettingsBtn","click",(()=>this.exportSettings())),this.on("#importSettingsBtn","click",(()=>this.triggerImport())),this.on("#importSettingsFile","change",(e=>this.importSettings(e))),this.on("#defaultSalespersonName, #defaultSalespersonEmail, #defaultSalespersonPhone","input",(()=>{this.updateOfferSalesperson()})),this.on("#enableMonday","change",(e=>{this.toggleIntegration("monday",e.target.checked)})),this.on("#enableEmail","change",(e=>{this.toggleIntegration("email",e.target.checked)})),this.on("#enableXentral","change",(e=>{this.toggleIntegration("xentral",e.target.checked)})))}subscribeToState(){xt.subscribe((e=>e.settings),(()=>{var e;(null==(e=this.form)?void 0:e.contains(document.activeElement))||this.loadSettings()}))}buildSettingsUI(){const e=this.dom.$("#settings");e&&(e.innerHTML='\n      <form id="settingsForm" class="settings-form">\n        <div class="form-header">\n          <h2 data-i18n="settings.title">Einstellungen</h2>\n          <div class="form-actions">\n            <button type="button" id="exportSettingsBtn" class="btn btn-secondary" data-i18n="settings.export">\n              Exportieren\n            </button>\n            <button type="button" id="importSettingsBtn" class="btn btn-secondary" data-i18n="settings.import">\n              Importieren\n            </button>\n            <input type="file" id="importSettingsFile" accept=".json" style="display: none;">\n          </div>\n        </div>\n\n        \x3c!-- Salesperson Information --\x3e\n        <div class="form-section">\n          <h3 data-i18n="settings.salesperson">Verk√§ufer-Informationen</h3>\n          <div class="form-row">\n            <div class="form-group">\n              <label for="defaultSalespersonName" data-i18n="settings.name">Name</label>\n              <input type="text" id="defaultSalespersonName" required>\n            </div>\n          </div>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="defaultSalespersonEmail" data-i18n="settings.email">E-Mail</label>\n              <input type="email" id="defaultSalespersonEmail" required>\n            </div>\n            <div class="form-group">\n              <label for="defaultSalespersonPhone" data-i18n="settings.phone">Telefon</label>\n              <input type="tel" id="defaultSalespersonPhone" required>\n            </div>\n          </div>\n          \n          <div class="form-row">\n            <div class="form-group">\n              <label for="defaultSalespersonMobile" data-i18n="settings.mobile">Mobil</label>\n              <input type="tel" id="defaultSalespersonMobile">\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Default Values --\x3e\n        <div class="form-section">\n          <h3 data-i18n="settings.defaults">Standardwerte</h3>\n          <div class="form-row">\n            <div class="form-group">\n              <label for="defaultDiscount" data-i18n="settings.defaultDiscount">Standard-Rabatt (%)</label>\n              <input type="number" id="defaultDiscount" min="0" max="100" step="1" value="15">\n            </div>\n            <div class="form-group">\n              <label for="defaultContractDuration" data-i18n="settings.contractDuration">Vertragslaufzeit (Monate)</label>\n              <select id="defaultContractDuration">\n                <option value="12">12 Monate</option>\n                <option value="24" selected>24 Monate</option>\n                <option value="36">36 Monate</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Monday.com Integration --\x3e\n        <div class="form-section">\n          <div class="section-header">\n            <h3>Monday.com Integration</h3>\n            <label class="toggle">\n              <input type="checkbox" id="enableMonday">\n              <span class="toggle-slider"></span>\n            </label>\n          </div>\n          \n          <div id="mondaySettings" class="integration-settings" style="display: none;">\n            <div class="form-row">\n              <div class="form-group">\n                <label for="mondayToken" data-i18n="settings.apiToken">API Token</label>\n                <input type="password" id="mondayToken" placeholder="Ihr Monday.com API Token">\n              </div>\n            </div>\n            \n            <div class="form-row">\n              <div class="form-group">\n                <label for="mondayBoardId" data-i18n="settings.boardId">Board ID</label>\n                <input type="text" id="mondayBoardId" placeholder="Board ID f√ºr Leads">\n              </div>\n              <div class="form-group">\n                <button type="button" id="testMondayBtn" class="btn btn-secondary" data-i18n="settings.testConnection">\n                  Verbindung testen\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Email Integration --\x3e\n        <div class="form-section">\n          <div class="section-header">\n            <h3>E-Mail Integration</h3>\n            <label class="toggle">\n              <input type="checkbox" id="enableEmail">\n              <span class="toggle-slider"></span>\n            </label>\n          </div>\n          \n          <div id="emailSettings" class="integration-settings" style="display: none;">\n            <div class="form-row">\n              <div class="form-group">\n                <label for="smtpServer" data-i18n="settings.smtpServer">SMTP Server</label>\n                <input type="text" id="smtpServer" placeholder="smtp.example.com">\n              </div>\n              <div class="form-group">\n                <label for="smtpPort" data-i18n="settings.smtpPort">Port</label>\n                <input type="number" id="smtpPort" value="587" min="1" max="65535">\n              </div>\n            </div>\n            \n            <div class="form-row">\n              <div class="form-group">\n                <label for="smtpEmail" data-i18n="settings.smtpEmail">E-Mail</label>\n                <input type="email" id="smtpEmail" placeholder="sender@example.com">\n              </div>\n              <div class="form-group">\n                <label for="smtpPassword" data-i18n="settings.smtpPassword">Passwort</label>\n                <input type="password" id="smtpPassword">\n              </div>\n            </div>\n            \n            <div class="form-row">\n              <div class="form-group">\n                <button type="button" id="testEmailBtn" class="btn btn-secondary" data-i18n="settings.testConnection">\n                  Verbindung testen\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Xentral Integration --\x3e\n        <div class="form-section">\n          <div class="section-header">\n            <h3>Xentral Integration</h3>\n            <label class="toggle">\n              <input type="checkbox" id="enableXentral">\n              <span class="toggle-slider"></span>\n            </label>\n          </div>\n          \n          <div id="xentralSettings" class="integration-settings" style="display: none;">\n            <div class="form-row">\n              <div class="form-group">\n                <label for="xentralUrl" data-i18n="settings.xentralUrl">Xentral URL</label>\n                <input type="url" id="xentralUrl" placeholder="https://ihr-xentral.de">\n              </div>\n            </div>\n            \n            <div class="form-row">\n              <div class="form-group">\n                <label for="xentralKey" data-i18n="settings.xentralKey">API Key</label>\n                <input type="password" id="xentralKey" placeholder="Ihr Xentral API Key">\n              </div>\n              <div class="form-group">\n                <button type="button" id="testXentralBtn" class="btn btn-secondary" data-i18n="settings.testConnection">\n                  Verbindung testen\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        \x3c!-- Form Actions --\x3e\n        <div class="form-actions">\n          <button type="submit" class="btn btn-primary" data-i18n="settings.save">\n            Einstellungen speichern\n          </button>\n        </div>\n      </form>\n    ',this.importInput=this.dom.$("#importSettingsFile"),this.form=this.dom.$("#settingsForm"))}loadSettings(){const e=xt.getState().settings;this.setFieldValue("defaultSalespersonName",e.salesperson.name),this.setFieldValue("defaultSalespersonEmail",e.salesperson.email),this.setFieldValue("defaultSalespersonPhone",e.salesperson.phone),this.setFieldValue("defaultSalespersonMobile",e.salesperson.mobile),this.setFieldValue("defaultDiscount",e.defaults.discount),this.setFieldValue("defaultContractDuration",e.defaults.contractDuration);const t=!!e.integrations.monday.token;this.setFieldValue("enableMonday",t,"checkbox"),this.toggleIntegration("monday",t),this.setFieldValue("mondayToken",e.integrations.monday.token),this.setFieldValue("mondayBoardId",e.integrations.monday.boardId);const n=!!e.integrations.email.smtpServer;this.setFieldValue("enableEmail",n,"checkbox"),this.toggleIntegration("email",n),this.setFieldValue("smtpServer",e.integrations.email.smtpServer),this.setFieldValue("smtpEmail",e.integrations.email.smtpEmail),this.setFieldValue("smtpPassword",e.integrations.email.smtpPassword);const a=!!e.integrations.xentral.url;this.setFieldValue("enableXentral",a,"checkbox"),this.toggleIntegration("xentral",a),this.setFieldValue("xentralUrl",e.integrations.xentral.url),this.setFieldValue("xentralKey",e.integrations.xentral.key)}setFieldValue(e,t,n="text"){const a=this.dom.$(`#${e}`);a&&("checkbox"===n?a.checked=Boolean(t):a.value=String(t||""))}getFormData(){var e,t,n,a,i,o,s,r,l,c,u,d,m;return{salesperson:{name:(null==(e=this.dom.$("#defaultSalespersonName"))?void 0:e.value)||"",email:(null==(t=this.dom.$("#defaultSalespersonEmail"))?void 0:t.value)||"",phone:(null==(n=this.dom.$("#defaultSalespersonPhone"))?void 0:n.value)||"",mobile:(null==(a=this.dom.$("#defaultSalespersonMobile"))?void 0:a.value)||""},defaults:{discount:parseInt((null==(i=this.dom.$("#defaultDiscount"))?void 0:i.value)||"15"),contractDuration:parseInt((null==(o=this.dom.$("#defaultContractDuration"))?void 0:o.value)||"24")},integrations:{monday:{token:(null==(s=this.dom.$("#mondayToken"))?void 0:s.value)||"",boardId:(null==(r=this.dom.$("#mondayBoardId"))?void 0:r.value)||""},email:{smtpServer:(null==(l=this.dom.$("#smtpServer"))?void 0:l.value)||"",smtpEmail:(null==(c=this.dom.$("#smtpEmail"))?void 0:c.value)||"",smtpPassword:(null==(u=this.dom.$("#smtpPassword"))?void 0:u.value)||""},xentral:{url:(null==(d=this.dom.$("#xentralUrl"))?void 0:d.value)||"",key:(null==(m=this.dom.$("#xentralKey"))?void 0:m.value)||""}}}}saveSettings(){const e=this.getFormData();if(e.salesperson.email&&!Rt(e.salesperson.email))return void this.showError("Bitte geben Sie eine g√ºltige E-Mail-Adresse ein");xt.getState().updateSettings(e),this.showSuccess("Einstellungen gespeichert"),this.emit("saved",e)}toggleIntegration(e,t){const n=this.dom.$(`#${e}Settings`);n&&(n.style.display=t?"block":"none")}updateOfferSalesperson(){var e,t,n;const a={name:(null==(e=this.dom.$("#defaultSalespersonName"))?void 0:e.value)||"",email:(null==(t=this.dom.$("#defaultSalespersonEmail"))?void 0:t.value)||"",phone:(null==(n=this.dom.$("#defaultSalespersonPhone"))?void 0:n.value)||""};this.dom.val("#salespersonName",a.name||""),this.dom.val("#salespersonEmail",a.email||""),this.dom.val("#salespersonPhone",a.phone||"")}async testMondayConnection(){var e,t;const n=null==(e=this.dom.$("#mondayToken"))?void 0:e.value,a=null==(t=this.dom.$("#mondayBoardId"))?void 0:t.value;if(n){this.setLoading(!0);try{const e=await this.mockTestConnection("monday",{token:n,boardId:a});e.success?this.showSuccess("Monday.com Verbindung erfolgreich"):this.showError(e.message)}catch(i){this.showError("Verbindungsfehler")}finally{this.setLoading(!1)}}else this.showError("Bitte geben Sie einen API Token ein")}async testEmailConnection(){var e,t,n;const a=null==(e=this.dom.$("#smtpServer"))?void 0:e.value,i=null==(t=this.dom.$("#smtpEmail"))?void 0:t.value,o=null==(n=this.dom.$("#smtpPassword"))?void 0:n.value;if(a&&i&&o){this.setLoading(!0);try{const e=await this.mockTestConnection("email",{server:a,email:i,password:o});e.success?this.showSuccess("E-Mail Verbindung erfolgreich"):this.showError(e.message)}catch(s){this.showError("Verbindungsfehler")}finally{this.setLoading(!1)}}else this.showError("Bitte f√ºllen Sie alle E-Mail-Felder aus")}async testXentralConnection(){var e,t;const n=null==(e=this.dom.$("#xentralUrl"))?void 0:e.value,a=null==(t=this.dom.$("#xentralKey"))?void 0:t.value;if(n&&a){this.setLoading(!0);try{const e=await this.mockTestConnection("xentral",{url:n,key:a});e.success?this.showSuccess("Xentral Verbindung erfolgreich"):this.showError(e.message)}catch(i){this.showError("Verbindungsfehler")}finally{this.setLoading(!1)}}else this.showError("Bitte f√ºllen Sie alle Xentral-Felder aus")}async mockTestConnection(e,t){return await new Promise((e=>setTimeout(e,1e3))),"monday"===e&&t.token.length>10||"email"===e&&t.server.includes(".")||"xentral"===e&&t.url.startsWith("http")?{success:!0,message:"Connected"}:{success:!1,message:"Ung√ºltige Zugangsdaten"}}exportSettings(){var e,t;const n={...xt.getState().settings,exported:(new Date).toISOString(),version:"3.0.0"};(null==(t=null==(e=n.integrations)?void 0:e.email)?void 0:t.smtpPassword)&&(n.integrations.email.smtpPassword="***");const a=JSON.stringify(n,null,2),i=new Blob([a],{type:"application/json"}),o=URL.createObjectURL(i),s=this.dom.create("a",{href:o,download:`freshplan-settings-${Date.now()}.json`});document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o),this.showSuccess("Einstellungen exportiert")}triggerImport(){var e;null==(e=this.importInput)||e.click()}async importSettings(e){var t;const n=e.target,a=null==(t=n.files)?void 0:t[0];if(a)try{const e=await a.text(),t=JSON.parse(e);if(!t.salesperson||!t.defaults||!t.integrations)throw new Error("Ung√ºltiges Einstellungsformat");const i=xt.getState().settings,o={...t,integrations:{...t.integrations,email:{...t.integrations.email,smtpPassword:"***"===t.integrations.email.smtpPassword?i.integrations.email.smtpPassword:t.integrations.email.smtpPassword}}};xt.getState().updateSettings(o),this.loadSettings(),this.showSuccess("Einstellungen importiert"),n.value=""}catch(i){console.error("Import error:",i),this.showError("Fehler beim Importieren der Einstellungen")}}getSetting(e){const t=xt.getState().settings,n=e.split(".");let a=t;for(const i of n){if(!a||"object"!=typeof a||!(i in a))return;a=a[i]}return a}getSettings(){return xt.getState().settings}isIntegrationEnabled(e){const t=xt.getState().settings;switch(e){case"monday":return!!t.integrations.monday.token;case"email":return!!t.integrations.email.smtpServer;case"xentral":return!!t.integrations.xentral.url;default:return!1}}cleanup(){}}function qt(e,t){const{decimals:n=0,includeSymbol:a=!0,locale:i="de-DE"}={};return new Intl.NumberFormat(i,{style:a?"currency":"decimal",currency:"EUR",minimumFractionDigits:n,maximumFractionDigits:n}).format(e)}function Gt(e,t){const{format:n="medium",locale:a="de-DE"}={},i="string"==typeof e||"number"==typeof e?new Date(e):e,o={short:{day:"2-digit",month:"2-digit",year:"numeric"},medium:{day:"2-digit",month:"short",year:"numeric"},long:{day:"numeric",month:"long",year:"numeric"},full:{weekday:"long",day:"numeric",month:"long",year:"numeric"}}[n];return new Intl.DateTimeFormat(a,o).format(i)}class Ut extends At{constructor(){super("profile"),t(this,"profileData",null)}async setup(){this.checkCustomerData()}bindEvents(){this.on("#generateProfileBtn","click",(()=>{this.generateProfile()})),this.on(document,"click",".next-step-btn",(e=>{const t=e.target.dataset.action;t&&this.handleNextStep(t)}))}subscribeToState(){xt.subscribe((e=>e.customer.data),(e=>{e&&this.generateProfile(e)})),this.events.on("module:tabs:switched",(e=>{"profile"===e&&this.checkCustomerData()}))}checkCustomerData(){const e=xt.getState().customer.data,t=this.dom.$("#profileEmpty"),n=this.dom.$("#profileOverview");e&&e.companyName?(this.dom.hide(t),this.dom.show(n),this.generateProfile(e)):(this.dom.show(t),this.dom.hide(n))}generateProfile(e){e||(e=xt.getState().customer.data),e&&e.companyName?(this.profileData=this.analyzeCustomer(e),this.renderProfile(),xt.getState().setProfileData(this.profileData),this.emit("generated",this.profileData)):this.showError("Keine Kundendaten vorhanden")}analyzeCustomer(e){const t=e.industry||"restaurant",n=this.calculateVolume(e,t),a=this.calculateSavings(n),i=this.generateRecommendations(e,t,n),o=this.generateStrategy(e,t);return{customerData:e,analysis:{estimatedVolume:n.annual,monthlyVolume:n.monthly,potentialSavings:a,growthPotential:n.growth,vendingPotential:this.calculateVendingPotential(e)},recommendations:i,strategy:o,generatedAt:(new Date).toISOString()}}calculateVolume(e,t){let n=0;switch(t){case"hotel":const t=e.rooms||100;n=.4*(t*((e.occupancyRate||75)/100)*.7*(e.breakfastPrice||8)*30+.3*t*35*30);break;case"altenheim":n=(e.residents||80)*(e.mealsPerDay||3)*4.5*30;break;case"krankenhaus":n=30*(.85*(e.beds||200)*3*12+(e.staffMeals||50)*8);break;case"betriebsrestaurant":n=(e.employees||500)*((e.utilizationRate||60)/100)*7*22;break;case"restaurant":n=(e.seats||80)*(e.turnsPerDay||2)*((e.operatingDays||300)/12)*25*.35;break;case"kette":n=(e.totalLocations||1)*(e.avgOrderPerLocation||1e4);break;default:n=15e3}const a=12*n,i=.05*a;return{monthly:Math.round(n),annual:Math.round(a),growth:Math.round(i)}}calculateSavings(e){const t=.125*e.annual;return{annual:Math.round(t),monthly:Math.round(t/12),percentage:12.5}}calculateVendingPotential(e){if(!e.vendingInterest)return null;const t=e.vendingLocations||1,n=e.vendingDaily||50,a=30*(t*n*3.5),i=.25*a;return{locations:t,dailyTransactions:n*t,monthlyRevenue:Math.round(a),monthlyProfit:Math.round(i)}}generateRecommendations(e,t,n){const a=[];n.annual>1e5&&a.push({type:"premium",title:"Premium-Partnerschaft",description:"Bei Ihrem Volumen profitieren Sie von maximalen Rabatten und pers√∂nlicher Betreuung."});const i={hotel:[{type:"breakfast",title:"Fr√ºhst√ºcks-Sortiment",description:"Optimiertes Sortiment f√ºr Hotel-Fr√ºhst√ºck mit Convenience-Produkten"},{type:"seasonal",title:"Saisonale Angebote",description:"Spezielle Konditionen f√ºr Saisonware und Event-Catering"}],krankenhaus:[{type:"special",title:"Di√§tetische Kost",description:"Spezialsortiment f√ºr besondere Ern√§hrungsanforderungen"},{type:"hygiene",title:"Hygiene-Standards",description:"HACCP-konforme Lieferung und Dokumentation"}],betriebsrestaurant:[{type:"variety",title:"Abwechslungsreiches Sortiment",description:"Vielf√§ltiges Angebot f√ºr t√§gliche Men√ºvariation"},{type:"healthy",title:"Gesunde Alternativen",description:"Bio- und Vollwertkost f√ºr gesundheitsbewusste Mitarbeiter"}]};return i[t]&&a.push(...i[t]),"chain"===e.customerType&&a.push({type:"chain",title:"Kettenb√ºndelung",description:"Nutzen Sie Wochenb√ºndelung f√ºr h√∂here Rabattstufen"}),e.vendingInterest&&a.push({type:"vending",title:"Vending-L√∂sung",description:"Zus√§tzlicher Umsatz durch Automaten-Standorte"}),a}generateStrategy(e,t){const n={hotel:{approach:"Fokus auf Convenience und Qualit√§t",keyPoints:["Zeitersparnis durch vorverarbeitete Produkte","Konstante Qualit√§t f√ºr G√§stezufriedenheit","Flexible Lieferzeiten f√ºr Saisongesch√§ft"],painPoints:["Schwankende Auslastung","Hohe Qualit√§tsanspr√ºche der G√§ste","Personalmangel in der K√ºche"]},krankenhaus:{approach:"Zuverl√§ssigkeit und Spezialprodukte",keyPoints:["Garantierte Liefersicherheit","Di√§tetische Spezialkost","Hygiene-Dokumentation"],painPoints:["Strenge Hygienevorgaben","Spezielle Ern√§hrungsanforderungen","Kostendruck im Gesundheitswesen"]},betriebsrestaurant:{approach:"Vielfalt und Wirtschaftlichkeit",keyPoints:["Abwechslungsreiches Sortiment","Attraktive Gro√ügebinde","Men√ºplanung-Support"],painPoints:["T√§gliche Abwechslung gefordert","Preisdruck durch Subventionen","Verschiedene Ern√§hrungsstile"]}}[t]||{approach:"Individuelle Beratung",keyPoints:["Ma√ügeschneidertes Sortiment","Flexible Konditionen","Pers√∂nlicher Service"],painPoints:["Optimierung der Warenwirtschaft","Kostenkontrolle","Qualit√§tssicherung"]};return{approach:n.approach,keyPoints:n.keyPoints,painPoints:n.painPoints}}renderProfile(){if(!this.profileData)return;const{customerData:e,analysis:t,recommendations:n,strategy:a}=this.profileData;this.renderBasicInfo(e),this.renderPotentialAnalysis(t),this.renderStrategy(a),this.renderKeyArguments(),this.renderRecommendations(n),this.renderNextSteps()}renderBasicInfo(e){const t=this.dom.$("#profileBasicInfo");if(!t)return;const n=[{label:"Firma",value:e.companyName},{label:"Branche",value:this.translate(`customer.${e.industry}`)},{label:"Typ",value:"chain"===e.customerType?"Kette/Gruppe":"Einzelstandort"},{label:"Ansprechpartner",value:e.contactName},{label:"E-Mail",value:e.contactEmail},{label:"Telefon",value:e.contactPhone}];"chain"===e.customerType&&n.push({label:"Standorte",value:String(e.totalLocations)}),t.innerHTML=n.filter((e=>e.value)).map((e=>`\n        <div class="info-item">\n          <span class="info-label">${e.label}:</span>\n          <span class="info-value">${e.value}</span>\n        </div>\n      `)).join("")}renderPotentialAnalysis(e){const t=this.dom.$("#profilePotential");if(!t)return;let n=`\n      <div class="potential-grid">\n        <div class="potential-item">\n          <h4>Gesch√§tztes Volumen</h4>\n          <div class="potential-value">${qt(e.estimatedVolume)}</div>\n          <div class="potential-detail">ca. ${qt(e.monthlyVolume)}/Monat</div>\n        </div>\n        <div class="potential-item">\n          <h4>Einsparpotenzial</h4>\n          <div class="potential-value">${qt(e.potentialSavings.annual)}</div>\n          <div class="potential-detail">bei ${function(e){const{decimals:t=0,locale:n="de-DE"}={};return new Intl.NumberFormat(n,{style:"percent",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}(e.potentialSavings.percentage/100)} Rabatt</div>\n        </div>\n        <div class="potential-item">\n          <h4>Wachstumspotenzial</h4>\n          <div class="potential-value">+${qt(e.growthPotential)}</div>\n          <div class="potential-detail">bei 5% j√§hrlichem Wachstum</div>\n        </div>\n    `;e.vendingPotential&&(n+=`\n        <div class="potential-item">\n          <h4>Vending-Potenzial</h4>\n          <div class="potential-value">+${qt(e.vendingPotential.monthlyRevenue)}/Monat</div>\n          <div class="potential-detail">${e.vendingPotential.locations} Automaten</div>\n        </div>\n      `),n+="</div>",t.innerHTML=n}renderStrategy(e){const t=this.dom.$("#profileStrategy");t&&(t.innerHTML=`\n      <div class="strategy-section">\n        <h4>Verkaufsansatz</h4>\n        <p>${e.approach}</p>\n      </div>\n      <div class="strategy-section">\n        <h4>Kundenschmerzpunkte</h4>\n        <ul>\n          ${e.painPoints.map((e=>`<li>${e}</li>`)).join("")}\n        </ul>\n      </div>\n      <div class="strategy-section">\n        <h4>Unsere L√∂sungen</h4>\n        <ul>\n          ${e.keyPoints.map((e=>`<li>${e}</li>`)).join("")}\n        </ul>\n      </div>\n    `)}renderKeyArguments(){const e=this.dom.$("#profileArguments");if(!e)return;e.innerHTML=`\n      <div class="arguments-grid">\n        ${[{title:"Kostenersparnis",description:"Bis zu 15% Rabatt auf das gesamte Sortiment",icon:"üí∞"},{title:"Wachstum",description:"Gemeinsames Wachstum durch strategische Partnerschaft",icon:"üìà"},{title:"Effizienz",description:"Zeitersparnis durch optimierte Bestellprozesse",icon:"üîÑ"},{title:"Service",description:"Pers√∂nlicher Ansprechpartner f√ºr alle Belange",icon:"üë§"}].map((e=>`\n          <div class="argument-card">\n            <div class="argument-icon">${e.icon}</div>\n            <h4>${e.title}</h4>\n            <p>${e.description}</p>\n          </div>\n        `)).join("")}\n      </div>\n    `}renderRecommendations(e){const t=this.dom.$("#profileProducts");t&&(t.innerHTML=`\n      <div class="recommendations-grid">\n        ${e.map((e=>`\n          <div class="recommendation-card">\n            <h4>${e.title}</h4>\n            <p>${e.description}</p>\n          </div>\n        `)).join("")}\n      </div>\n    `)}renderNextSteps(){const e=this.dom.$("#profileNextSteps");if(!e)return;e.innerHTML=`\n      <div class="next-steps-grid">\n        ${[{action:"schedule-demo",title:"Demo vereinbaren",description:"Zeigen Sie dem Kunden unser System",icon:"üìÖ"},{action:"create-offer",title:"Angebot erstellen",description:"Erstellen Sie ein individuelles Angebot",icon:"üìÑ"},{action:"send-info",title:"Info senden",description:"Senden Sie weitere Informationen",icon:"üìß"}].map((e=>`\n          <div class="next-step-card">\n            <div class="step-icon">${e.icon}</div>\n            <h4>${e.title}</h4>\n            <p>${e.description}</p>\n            <button class="btn btn-primary next-step-btn" data-action="${e.action}">\n              ${e.title}\n            </button>\n          </div>\n        `)).join("")}\n      </div>\n    `}handleNextStep(e){switch(e){case"create-offer":this.events.emit("app:navigate","offer");break;case"schedule-demo":this.showSuccess("Demo-Termin Funktion kommt bald");break;case"send-info":this.prepareInfoEmail()}}prepareInfoEmail(){if(!this.profileData)return;const{customerData:e}=this.profileData,t=`FreshPlan Informationen f√ºr ${e.companyName}`,n=`Sehr geehrte/r ${e.contactName},\n\nvielen Dank f√ºr Ihr Interesse an FreshPlan...`;window.location.href=`mailto:${e.contactEmail}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(n)}`}translate(e){return{"customer.hotel":"Hotel","customer.altenheim":"Altenheim","customer.krankenhaus":"Krankenhaus","customer.betriebsrestaurant":"Betriebsrestaurant","customer.restaurant":"Restaurant","customer.kette":"Systemgastronomie"}[e]||e}getProfileData(){return this.profileData}regenerateProfile(){this.generateProfile()}hasProfile(){return null!==this.profileData}cleanup(){}}class jt extends At{constructor(){super("pdf"),t(this,"currentPDF",null),t(this,"pdfFilename",null)}async setup(){if(void 0===window.jspdf&&void 0===window.jsPDF)return console.warn("jsPDF not loaded. PDF generation will not work."),void this.setModuleState("available",!1);this.setModuleState("available",!0),this.initializeOfferForm()}bindEvents(){this.on("#generatePdfBtn","click",(()=>{this.generateOffer()})),this.on("#closePdfModalBtn","click",(()=>{this.closePdfModal()})),this.on("#downloadPdfBtn","click",(()=>{this.downloadPDF()})),this.on("#sendPdfBtn","click",(()=>{this.sendOffer()})),this.on("#docPartnership, #docRabatt, #docCalc","change",(()=>{this.updatePreview()})),this.on("#offerDiscount, #additionalNotes","change",(()=>{this.updatePreview()}))}subscribeToState(){xt.subscribe((e=>e.settings.salesperson),(e=>this.updateSalespersonInfo(e))),this.events.on("module:tabs:switched",(e=>{"offer"===e&&this.prepareOfferView()}))}initializeOfferForm(){var e;const t=xt.getState().settings;t.salesperson&&this.updateSalespersonInfo(t.salesperson);const n=(null==(e=t.defaults)?void 0:e.discount)||15;this.dom.val("#offerDiscount",n)}updateSalespersonInfo(e){e&&(this.dom.val("#salespersonName",e.name),this.dom.val("#salespersonEmail",e.email),this.dom.val("#salespersonPhone",e.phone))}prepareOfferView(){const e=this.getCustomerData();e&&e.companyName?this.updatePreview():this.dom.html("#offerPreview",'\n        <div class="empty-state">\n          <p>Keine Kundendaten vorhanden</p>\n          <button class="btn btn-primary" onclick="FreshPlan.app.getModule(\'tabs\').navigateTo(\'customer\')">\n            Kundendaten eingeben\n          </button>\n        </div>\n      ')}updatePreview(){var e,t,n;const a=this.getCustomerData();if(!a||!a.companyName)return;const i=parseFloat(String(this.dom.val("#offerDiscount")||0)),o=this.calculateOffer(a,i),s=null==(e=this.dom.$("#docPartnership"))?void 0:e.checked,r=null==(t=this.dom.$("#docRabatt"))?void 0:t.checked,l=null==(n=this.dom.$("#docCalc"))?void 0:n.checked,c=`\n      <div class="offer-preview">\n        <h4>Angebot f√ºr ${a.companyName}</h4>\n        <div class="preview-section">\n          <strong>Vertragskonditionen:</strong>\n          <ul>\n            <li>Rabatt: ${i}%</li>\n            <li>Gesch√§tztes Jahresvolumen: ${qt(o.annualVolume)}</li>\n            <li>J√§hrliche Ersparnis: ${qt(o.annualSavings)}</li>\n            <li>Vertragslaufzeit: ${a.contractDuration||24} Monate</li>\n          </ul>\n        </div>\n        <div class="preview-section">\n          <strong>Eingeschlossene Dokumente:</strong>\n          <ul>\n            ${s?"<li>Partnerschaftsvereinbarung</li>":""}\n            ${r?"<li>Rabattsystem-√úbersicht</li>":""}\n            ${l?"<li>Berechnungsbeispiele</li>":""}\n          </ul>\n        </div>\n      </div>\n    `;this.dom.html("#offerPreview",c)}calculateOffer(e,t){var n;let a=0;const i=xt.getState().profile.data;if(null==(n=null==i?void 0:i.analysis)?void 0:n.estimatedVolume)a=i.analysis.estimatedVolume;else if("chain"===e.customerType){a=(e.totalLocations||1)*(e.avgOrderPerLocation||1e4)*12}else a=18e4;const o=a*(t/100);return{annualVolume:a,annualSavings:o,monthlyVolume:a/12,monthlySavings:o/12,discount:t}}async generateOffer(){var e,t,n,a,i;const o=this.getCustomerData();if(!o||!o.companyName)return void this.showError("Bitte f√ºllen Sie zuerst die Kundendaten aus");const s={name:String(this.dom.val("#salespersonName")||""),email:String(this.dom.val("#salespersonEmail")||""),phone:String(this.dom.val("#salespersonPhone")||"")};if(s.name&&s.email){this.setLoading(!0);try{const r=(null==(e=window.jspdf)?void 0:e.jsPDF)||window.jsPDF;if(!r)throw new Error("jsPDF library not available");const l=new r;this.currentPDF=l,this.pdfFilename=`FreshPlan_Angebot_${o.companyName.replace(/\s+/g,"_")}_${Date.now()}.pdf`;const c=null==(t=this.dom.$("#docPartnership"))?void 0:t.checked,u=null==(n=this.dom.$("#docPartnership"))?void 0:n.checked,d=null==(a=this.dom.$("#docRabatt"))?void 0:a.checked,m=null==(i=this.dom.$("#docCalc"))?void 0:i.checked;c&&this.generateCoverLetter(l,o,s),u&&(l.internal.getNumberOfPages()>1&&l.addPage(),this.generatePartnershipAgreement(l,o)),d&&(l.addPage(),this.generateDiscountOverview(l)),m&&(l.addPage(),this.generateCalculationExamples(l,o)),this.showPdfModal(),this.showSuccess("PDF wurde erfolgreich generiert"),this.emit("generated",{filename:this.pdfFilename})}catch(r){console.error("PDF generation error:",r),this.showError("Fehler beim Generieren des PDFs")}finally{this.setLoading(!1)}}else this.showError("Bitte f√ºllen Sie die Verk√§ufer-Informationen aus")}generateCoverLetter(e,t,n){const a=parseFloat(String(this.dom.val("#offerDiscount")||0)),i=String(this.dom.val("#additionalNotes")||""),o=this.calculateOffer(t,a);e.setFontSize(20),e.setTextColor(0,79,123),e.text("FreshPlan Angebot",20,30),e.setFontSize(10),e.setTextColor(100),e.text(Gt(new Date),190,30,{align:"right"}),e.setFontSize(12),e.setTextColor(0),e.text(t.companyName,20,60),e.text(t.contactName,20,67),e.text(t.street,20,74),e.text(`${t.zipCode} ${t.city}`,20,81),e.text(`Sehr geehrte/r ${t.contactName},`,20,100),e.setFontSize(11);const s=`\nvielen Dank f√ºr Ihr Interesse an FreshPlan, unserem innovativen Rabattsystem f√ºr \nGro√ükunden. Basierend auf unserer Analyse Ihrer Bedarfssituation freuen wir uns, \nIhnen folgendes Angebot unterbreiten zu k√∂nnen:\n\nIhre Vorteile mit FreshPlan:\n‚Ä¢ Garantierter Rabatt von ${a}% auf unser gesamtes Sortiment\n‚Ä¢ J√§hrliche Ersparnis von ca. ${qt(o.annualSavings)}\n‚Ä¢ 12 Monate Preisstabilit√§t w√§hrend der Vertragslaufzeit\n‚Ä¢ Pers√∂nlicher Ansprechpartner f√ºr alle Ihre Anliegen\n‚Ä¢ Flexible Bestellm√∂glichkeiten mit attraktiven Zusatzrabatten\n\n${i?`\n${i}\n`:""}\n\nGerne bespreche ich mit Ihnen die Details pers√∂nlich und zeige Ihnen, wie Sie \nmit FreshPlan Ihre Warenwirtschaft optimieren k√∂nnen.\n\nMit freundlichen Gr√º√üen\n    `.trim(),r=e.splitTextToSize(s,170);e.text(r,20,115);const l=115+5*r.length+20;e.text(n.name,20,l),e.setFontSize(10),e.text(n.email,20,l+5),e.text(n.phone,20,l+10),this.addFooter(e)}generatePartnershipAgreement(e,t){e.setFontSize(16),e.setTextColor(0,79,123),e.text("FreshPlan-Partnerschaftsvereinbarung",105,30,{align:"center"}),e.setFontSize(10),e.setTextColor(0);const n=t.contractStart?new Date(t.contractStart):new Date,a=t.contractEnd?new Date(t.contractEnd):new Date(Date.now()+31536e6),i=`\nzwischen\n\nFreshfoodz GmbH\nPlauener Str. 163-165\n13053 Berlin\n(im Folgenden "Freshfoodz")\n\nund\n\n${t.companyName}\n${t.street}\n${t.zipCode} ${t.city}\n(im Folgenden "Kunde")\n\n¬ß1 Zielsetzung und Grundlage\nDiese Vereinbarung bildet die Grundlage f√ºr eine planbare, partnerschaftliche \nZusammenarbeit zwischen Freshfoodz und dem Kunden.\n\n¬ß2 Laufzeit und Zielvolumen\nDie Vereinbarung beginnt am ${Gt(n)} \nund endet am ${Gt(a)} \n(Laufzeit: ${t.contractDuration||24} Monate).\n\n¬ß3 Teilnahme am FreshPlan-Rabattsystem\nDer Kunde erh√§lt Zugriff auf das FreshPlan-Rabattsystem in der bei \nVertragsabschluss g√ºltigen Fassung.\n\n¬ß4 Preisstabilit√§t\nDie Preise bleiben f√ºr die Dauer der Laufzeit stabil. Eine Anpassung ist nur \nm√∂glich, wenn der Verbraucherpreisindex um mehr als 5% steigt.\n    `.trim(),o=e.splitTextToSize(i,170);e.text(o,20,50),this.addFooter(e)}generateDiscountOverview(e){e.setFontSize(16),e.setTextColor(0,79,123),e.text("FreshPlan Rabattsystem",105,30,{align:"center"}),e.setFontSize(12),e.setTextColor(0),e.text("1. Basisrabatt je Einzelbestellung (netto)",20,50);e.setFontSize(10);let t=60;[["unter 5.000 EUR","0%"],["5.000 - 14.999 EUR","3%"],["15.000 - 29.999 EUR","6%"],["30.000 - 49.999 EUR","8%"],["50.000 - 74.999 EUR","9%"],["ab 75.000 EUR","10%"]].forEach((n=>{e.text(n[0],30,t),e.text(n[1],150,t,{align:"right"}),t+=7})),t+=10,e.setFontSize(12),e.text("2. Fr√ºhbucherrabatt (zus√§tzlich)",20,t);e.setFontSize(10),t+=10,[["10 - 14 Tage Vorlauf","+1%"],["15 - 29 Tage Vorlauf","+2%"],["30 - 44 Tage Vorlauf","+3%"]].forEach((n=>{e.text(n[0],30,t),e.text(n[1],150,t,{align:"right"}),t+=7})),t+=10,e.setFontSize(12),e.text("3. Abholrabatt (zus√§tzlich)",20,t),e.setFontSize(10),e.text("+2% bei Abholung (ab 5.000 EUR Bestellwert)",30,t+10),this.addFooter(e)}generateCalculationExamples(e,t){e.setFontSize(16),e.setTextColor(0,79,123),e.text("Berechnungsbeispiele",105,30,{align:"center"});let n=50;[{title:"Spontanbestellung",orderValue:8e3,leadTime:3,pickup:!1,result:{base:3,early:0,pickup:0,total:3}},{title:"Geplante Bestellung",orderValue:25e3,leadTime:14,pickup:!1,result:{base:6,early:1,pickup:0,total:7}},{title:"Optimale Bestellung",orderValue:5e4,leadTime:30,pickup:!0,result:{base:9,early:3,pickup:2,total:14}}].forEach((t=>{e.setFontSize(12),e.setTextColor(0,79,123),e.text(t.title,20,n),e.setFontSize(10),e.setTextColor(0),e.text(`Bestellwert: ${qt(t.orderValue)}`,30,n+8),e.text(`Vorlaufzeit: ${t.leadTime} Tage`,30,n+15),e.text("Abholung: "+(t.pickup?"Ja":"Nein"),30,n+22),e.setTextColor(148,196,86),e.text(`Gesamtrabatt: ${t.result.total}%`,30,n+30),e.text(`Ersparnis: ${qt(t.orderValue*t.result.total/100)}`,30,n+37),n+=50})),this.addFooter(e)}addFooter(e){const t=e.internal.pageSize.height;e.setFontSize(8),e.setTextColor(150),e.text("Freshfoodz GmbH | Plauener Str. 163-165 | 13053 Berlin",105,t-20,{align:"center"}),e.text(`Seite ${e.internal.getCurrentPageInfo().pageNumber}`,105,t-15,{align:"center"})}showPdfModal(){const e=this.dom.$("#pdfModal");if(!e)return;this.dom.text("#pdfFilename",this.pdfFilename||"");const t=this.dom.$("#pdfPreview");t&&(t.innerHTML=`\n        <div class="pdf-preview-placeholder">\n          <p>PDF wurde erfolgreich generiert!</p>\n          <p>Dateiname: ${this.pdfFilename}</p>\n          <p>Seiten: ${this.currentPDF.internal.getNumberOfPages()}</p>\n        </div>\n      `),e.style.display="block"}closePdfModal(){const e=this.dom.$("#pdfModal");e&&(e.style.display="none")}downloadPDF(){this.currentPDF?(this.currentPDF.save(this.pdfFilename),this.showSuccess("PDF heruntergeladen"),this.emit("downloaded",{filename:this.pdfFilename})):this.showError("Kein PDF generiert")}sendOffer(){const e=this.getCustomerData();if(!e||!e.contactEmail)return void this.showError("Keine Kundendaten vorhanden");const t=`FreshPlan Angebot f√ºr ${e.companyName}`,n=`Sehr geehrte/r ${e.contactName},\n\nanbei erhalten Sie unser FreshPlan Angebot.\n\nMit freundlichen Gr√º√üen`;window.location.href=`mailto:${e.contactEmail}?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(n)}`,this.emit("sent",{email:e.contactEmail})}getCustomerData(){return xt.getState().customer.data}async generateProfilePDF(e){this.showSuccess("Profil-PDF Export wird implementiert")}isPDFAvailable(){return!0===this.getModuleState("available")}getCurrentPDFFilename(){return this.pdfFilename}hasPDF(){return null!==this.currentPDF}cleanup(){}}const Zt={de:{app:{title:"FreshPlan Sales Tool"},nav:{demonstrator:"Rabattrechner",demo:"Rabatt-Demo",customer:"Kundendaten",locations:"Standorte",locationDetails:"Standort-Details",profile:"Kundenprofil",offer:"Angebot",settings:"Einstellungen"},calculator:{title:"Rabattrechner",scenarios:"Szenarien",orderValue:"Bestellwert",leadTime:"Vorlaufzeit",pickup:"Abholung",baseDiscount:"Basisrabatt",earlyDiscount:"Fr√ºhbucher",pickupDiscount:"Abholung",totalDiscount:"Gesamtrabatt",savings:"Ersparnis",finalPrice:"Endpreis"},info:{chain:{title:"Kettenkunden",description:"Bei Kettenkunden profitieren Sie von der B√ºndelung mehrerer Standorte."},pickup:{title:"Abholung",description:"Bei Selbstabholung sparen Sie zus√§tzlich 2% (ab 5.000‚Ç¨)."},scale:{title:"Rabattstaffel"}},language:{switch:"DE"},autosave:{saving:"Speichern..."},demo:{title:"Interaktiver Rabatt-Demonstrator",parameters:"Bestellparameter",orderValue:"Bestellwert (netto)",leadTime:"Vorlaufzeit (Tage)",pickup:"Selbstabholung an der Rampe",pickupInfo:"Sie sparen 2% bei Abholung (ab 5.000‚Ç¨)",chain:"Mehrere Standorte (Filialgesch√§ft)",chainInfo:"Erm√∂glicht Wochenb√ºndelung f√ºr h√∂here Rabattstufen",yourSavings:"Ihre Ersparnis",totalDiscount:"Gesamtrabatt:",savingsEuro:"Ersparnis in Euro:",toPay:"Zu zahlen:",scenarioTitle:"Szenario-Vergleich",spontaneous:"Spontanbestellung",planned:"Geplante Bestellung",optimal:"Optimale Planung",days:"Tage",delivery:"Lieferung",savings:"Ersparnis",baseDiscount:"Rabattstufe",earlyBooking:"Fr√ºhbucherrabatt",combiTitle:"Kombi-Bestellung (ab 30.000‚Ç¨)",combiText:"Gro√übestellungen k√∂nnen flexibel auf 2 Liefertermine innerhalb von 4 Wochen aufgeteilt werden. Der Gesamtrabatt gilt f√ºr beide Lieferungen!",example:"Beispiel",priceStability:"12 Monate Preisstabilit√§t",priceStabilityText:"Ihre vereinbarten Preise bleiben w√§hrend der gesamten Vertragslaufzeit stabil. Schutz vor Inflation inklusive!",priceStabilityDetail:"Preisanpassung nur bei Indexsteigerung >5% (dann nur der Anteil dar√ºber)",kombi:"Kombi-Bestellung",kombiSpecial:"2 Lieferungen",chainBundle:"Kettenb√ºndelung",chainBundleInfo:"(kein Rabatt, nur B√ºndelung)",chainSpecial:"Wochenb√ºndelung",scenarioLoaded:"Szenario geladen"},customer:{title:"Kundendaten erfassen",single:"Einzelstandort",singleDesc:"Ein Standort",chain:"Kette/Gruppe",chainDesc:"Mehrere Standorte",company:"Firma/Organisation",contact:"Ansprechpartner",email:"E-Mail",phone:"Telefon",address:"Adresse",street:"Stra√üe & Hausnummer",postalCode:"PLZ",city:"Ort",industry:"Branche",selectIndustry:"Bitte w√§hlen",locations:"Standorte",chainName:"Kettename",numberOfLocations:"Anzahl Standorte",avgOrderPerLocation:"√ò Bestellwert pro Standort",totalVolume:"Gesamtvolumen",next:"Weiter",save:"Speichern",hotel:"Hotel",altenheim:"Alten-/Pflegeheim",krankenhaus:"Klinik",betriebsrestaurant:"Betriebsrestaurant",restaurant:"Restaurant",kette:"Kette",legalForm:"Rechtsform",selectLegalForm:"Bitte w√§hlen",gmbh:"GmbH",ag:"AG",gbr:"GbR",einzelunternehmen:"Einzelunternehmen",other:"Sonstige",customerStatus:"Kundentyp",newCustomer:"Neukunde",existingCustomer:"Bestandskunde",customerNumber:"Kundennummer (intern)",annualVolume:"Erwartetes Jahresvolumen",paymentMethod:"Zahlungsart",prepayment:"Vorkasse",cash:"Bar bei Lieferung",invoice:"Rechnung",notes:"Notizen",customField1:"Freifeld 1",customField2:"Freifeld 2",hotelSpecific:"Hotel Details",rooms:"Zimmer",occupancyRate:"Auslastung (%)",breakfastPrice:"Fr√ºhst√ºckspreis (‚Ç¨)",altenheimSpecific:"Heim Details",residents:"Bewohner",krankenhausSpecific:"Klinik Details",beds:"Betten",staffMeals:"Mitarbeiter-Essen/Tag",betriebsrestaurantSpecific:"Betriebsrestaurant Details",employees:"Mitarbeiter",utilizationRate:"Nutzungsrate (%)",restaurantSpecific:"Restaurant Details",seats:"Sitzpl√§tze",turnsPerDay:"Umschlag/Tag",operatingDays:"Betriebstage/Jahr",type:"Typ",mealsPerDay:"Mahlzeiten/Tag",saved:"Kundendaten wurden gespeichert",enterData:"Kundendaten erfassen",basicInfo:"Grunddaten",chainDetails:"Ketten-Details",vendingInterest:"Interesse an Vending-Automaten",vendingMachineLocations:"Anzahl Automaten-Standorte",expectedTransactions:"Erwartete Transaktionen/Tag",contractDetails:"Vertragsdetails",desiredContractStart:"Gew√ºnschter Vertragsbeginn",contractDuration:"Vertragslaufzeit",contractEnd:"Vertragsende",months12:"12 Monate",months24:"24 Monate",months36:"36 Monate",businessData:"Gesch√§ftsdaten",additionalInfo:"Zusatzinformationen",position:"Position",vendingConcept:"Vending-Konzept",chainCustomer:"Kettenkunde"},profile:{title:"Kundenprofil",customerInfo:"Kundeninformationen",potentialAnalysis:"Potenzialanalyse",recommendedProducts:"Empfohlene Produkte",advantages:"Ihre Vorteile",priceStability:"Preisstabilit√§t f√ºr 12 Monate",personalService:"Pers√∂nlicher Ansprechpartner",flexibleDelivery:"Flexible Lieferzeiten",qualityProducts:"Premiumqualit√§t aus regionaler Produktion",estimatedVolume:"Gesch√§tztes Jahresvolumen",potentialSavings:"M√∂gliche Ersparnis",recommendedContract:"Empfohlene Vertragslaufzeit",months:"Monate",argument1Title:"Maximale Ersparnis",argument1Desc:"Profitieren Sie von attraktiven Rabatten auf unser gesamtes Sortiment",argument2Title:"Preisstabilit√§t",argument2Desc:"Keine Preiserh√∂hungen w√§hrend der Vertragslaufzeit",argument3Title:"Flexibilit√§t",argument3Desc:"Bestellen Sie nur was Sie brauchen, wann Sie es brauchen",argument4Title:"Pers√∂nlicher Service",argument4Desc:"Ihr dedizierter Ansprechpartner f√ºr alle Fragen",decisionCriteria:"Entscheidungskriterien",painPoints:"Herausforderungen",benefits:"Ihre Vorteile",approach:"Empfohlene Vorgehensweise",growthPotential:"Wachstumspotenzial",growthNote:"Basierend auf durchschnittlichem Branchenwachstum",vendingPotential:"Vending-Potenzial",additionalRevenue:"Zus√§tzlicher Umsatz",vendingMachines:"Automaten",transactionsPerDay:"Transaktionen/Tag",avgTransaction:"√ò Transaktion",scheduleDemo:"Demo vereinbaren",scheduleDemoDesc:"Zeigen Sie die Vorteile live",createOffer:"Angebot erstellen",createOfferDesc:"Individuelles PDF generieren",sendInfo:"Info senden",sendInfoDesc:"Zus√§tzliche Unterlagen versenden",noData:"Keine Kundendaten vorhanden",pleaseEnterCustomerData:"Bitte erfassen Sie zuerst die Kundendaten",enterData:"Daten erfassen",contractValue:"Vertragswert",salesStrategy:"Verkaufsstrategie",keyArguments:"Schl√ºsselargumente",nextSteps:"N√§chste Schritte"},offer:{title:"Angebot erstellen",contractDetails:"Vertragsdetails",contractStart:"Vertragsbeginn",contractDuration:"Laufzeit",discount:"Vereinbarter Rabatt (%)",specialConditions:"Sonderkonditionen",notes:"Anmerkungen",generatePdf:"PDF erstellen",send:"Angebot senden",preview:"Vorschau",pdfGenerated:"PDF wurde erstellt",offerSent:"Angebot wurde versendet",noCustomerData:"Bitte erfassen Sie zuerst Kundendaten",fillCustomerFirst:"Bitte f√ºllen Sie zuerst die Kundendaten aus",fillSalespersonInfo:"Bitte geben Sie Ihre Verk√§uferinformationen ein",generating:"PDF wird generiert...",annualSavings:"J√§hrliche Ersparnis",noPdfGenerated:"Kein PDF vorhanden. Bitte generieren Sie zuerst ein Angebot.",pdfDownloaded:"PDF wurde heruntergeladen",salespersonName:"Verk√§ufer Name",salespersonEmail:"Verk√§ufer E-Mail",salespersonPhone:"Verk√§ufer Telefon",includeDocuments:"Dokumente einschlie√üen:",partnershipAgreement:"Partnerschaftsvereinbarung",discountSystemOverview:"Rabattsystem-√úbersicht",calculationExamples:"Berechnungsbeispiele",pdfPreview:"PDF Vorschau",download:"Download",sendViaEmail:"Per E-Mail senden"},settings:{title:"Einstellungen",salesperson:"Verk√§ufer-Informationen",name:"Name",email:"E-Mail",phone:"Telefon",company:"Firma",monday:"Monday.com Integration",apiToken:"API Token",boardId:"Board ID",testConnection:"Verbindung testen",save:"Speichern",saved:"Einstellungen gespeichert",connectionSuccess:"Verbindung erfolgreich",connectionError:"Verbindungsfehler",missingToken:"Bitte geben Sie einen API Token ein",mobile:"Mobil",defaultValues:"Standardwerte",defaultDiscount:"Standard-Rabatt (%)",defaultContractDuration:"Standard-Vertragslaufzeit",integrations:"Integrationen",emailIntegration:"E-Mail Integration",smtpServer:"SMTP Server",password:"Passwort",xentralIntegration:"Xentral Integration",apiUrl:"API URL",apiKey:"API Key",exportSettings:"Einstellungen exportieren",importSettings:"Einstellungen importieren"},common:{loading:"Laden...",error:"Fehler",success:"Erfolg",cancel:"Abbrechen",confirm:"Best√§tigen",yes:"Ja",no:"Nein",back:"Zur√ºck",next:"Weiter",save:"Speichern",delete:"L√∂schen",edit:"Bearbeiten",close:"Schlie√üen",download:"Herunterladen",upload:"Hochladen",print:"Drucken",reset:"Zur√ºcksetzen",search:"Suchen",filter:"Filtern",sort:"Sortieren",required:"Pflichtfeld",optional:"Optional",tagline:"So einfach, schnell und lecker!",clearForm:"Formular leeren",addLocation:"+ Standort hinzuf√ºgen"},validation:{required:"Dieses Feld ist erforderlich",email:"Bitte geben Sie eine g√ºltige E-Mail-Adresse ein",phone:"Bitte geben Sie eine g√ºltige Telefonnummer ein",postalCode:"Bitte geben Sie eine g√ºltige Postleitzahl ein",number:"Bitte geben Sie eine g√ºltige Zahl ein",min:"Der Wert muss mindestens {min} sein",max:"Der Wert darf h√∂chstens {max} sein",minLength:"Mindestens {minLength} Zeichen erforderlich",maxLength:"Maximal {maxLength} Zeichen erlaubt",pattern:"Das Format ist ung√ºltig",formInvalid:"Bitte √ºberpr√ºfen Sie Ihre Eingaben"}},en:{app:{title:"FreshPlan Sales Tool"},nav:{demo:"Discount Demo",customer:"Customer Data",profile:"Customer Profile",offer:"Offer",settings:"Settings"},demo:{title:"Interactive Discount Demonstrator",parameters:"Order Parameters",orderValue:"Order Value (net)",leadTime:"Lead Time (days)",pickup:"Self Pickup at Ramp",pickupInfo:"Save 2% on pickup (from ‚Ç¨5,000)",chain:"Multiple Locations (Branch Business)",chainInfo:"Enables weekly bundling for higher discount levels",yourSavings:"Your Savings",totalDiscount:"Total Discount:",savingsEuro:"Savings in Euro:",toPay:"To Pay:",scenarioTitle:"Scenario Comparison",spontaneous:"Spontaneous Order",planned:"Planned Order",optimal:"Optimal Planning",days:"days",delivery:"Delivery",savings:"Savings",baseDiscount:"Discount Level",earlyBooking:"Early Booking Discount",combiTitle:"Combo Order (from ‚Ç¨30,000)",combiText:"Large orders can be flexibly split into 2 delivery dates within 4 weeks. The total discount applies to both deliveries!",example:"Example",priceStability:"12 Months Price Stability",priceStabilityText:"Your agreed prices remain stable throughout the entire contract period. Protection against inflation included!",priceStabilityDetail:"Price adjustment only for index increase >5% (then only the portion above)",kombi:"Combo Order",kombiSpecial:"2 Deliveries",chainBundle:"Chain Bundling",chainBundleInfo:"(no discount, bundling only)",chainSpecial:"Weekly Bundling",scenarioLoaded:"Scenario loaded"},customer:{title:"Capture Customer Data",single:"Single Location",singleDesc:"One location",chain:"Chain/Group",chainDesc:"Multiple locations",company:"Company/Organization",contact:"Contact Person",email:"Email",phone:"Phone",address:"Address",street:"Street & Number",postalCode:"Postal Code",city:"City",industry:"Industry",selectIndustry:"Please select",locations:"Locations",chainName:"Chain Name",numberOfLocations:"Number of Locations",avgOrderPerLocation:"Avg. Order per Location",totalVolume:"Total Volume",next:"Next",save:"Save",hotel:"Hotel",altenheim:"Nursing Home",krankenhaus:"Hospital/Clinic",betriebsrestaurant:"Company Restaurant",restaurant:"Restaurant",kette:"Chain",legalForm:"Legal Form",selectLegalForm:"Please select",gmbh:"GmbH",ag:"AG",gbr:"GbR",einzelunternehmen:"Sole Proprietorship",other:"Other",customerStatus:"Customer Type",newCustomer:"New Customer",existingCustomer:"Existing Customer",customerNumber:"Customer Number (internal)",annualVolume:"Expected Annual Volume",paymentMethod:"Payment Method",prepayment:"Prepayment",cash:"Cash on Delivery",invoice:"Invoice",notes:"Notes",customField1:"Custom Field 1",customField2:"Custom Field 2",hotelSpecific:"Hotel Details",rooms:"Rooms",occupancyRate:"Occupancy Rate (%)",breakfastPrice:"Breakfast Price (‚Ç¨)",altenheimSpecific:"Home Details",residents:"Residents",krankenhausSpecific:"Hospital Details",beds:"Beds",staffMeals:"Staff Meals/Day",betriebsrestaurantSpecific:"Company Restaurant Details",employees:"Employees",utilizationRate:"Utilization Rate (%)",restaurantSpecific:"Restaurant Details",seats:"Seats",turnsPerDay:"Turns/Day",operatingDays:"Operating Days/Year",type:"Type",mealsPerDay:"Meals/Day",saved:"Customer data has been saved",basicInfo:"Basic Information",chainDetails:"Chain Details",vendingInterest:"Interest in Vending Machines",vendingMachineLocations:"Number of Machine Locations",expectedTransactions:"Expected Transactions/Day",contractDetails:"Contract Details",desiredContractStart:"Desired Contract Start",contractDuration:"Contract Duration",contractEnd:"Contract End",months12:"12 Months",months24:"24 Months",months36:"36 Months",enterData:"Enter Data",businessData:"Business Data",additionalInfo:"Additional Information",position:"Position",vendingConcept:"Vending Concept",chainCustomer:"Chain Customer"},profile:{title:"Customer Profile",customerInfo:"Customer Information",potentialAnalysis:"Potential Analysis",recommendedProducts:"Recommended Products",advantages:"Your Advantages",priceStability:"Price stability for 12 months",personalService:"Personal contact person",flexibleDelivery:"Flexible delivery times",qualityProducts:"Premium quality from regional production",estimatedVolume:"Estimated Annual Volume",potentialSavings:"Potential Savings",recommendedContract:"Recommended Contract Duration",months:"months",argument1Title:"Maximum Savings",argument1Desc:"Benefit from attractive discounts on our entire range",argument2Title:"Price Stability",argument2Desc:"No price increases during the contract period",argument3Title:"Flexibility",argument3Desc:"Order only what you need, when you need it",argument4Title:"Personal Service",argument4Desc:"Your dedicated contact for all questions",decisionCriteria:"Decision Criteria",painPoints:"Challenges",benefits:"Your Benefits",approach:"Recommended Approach",growthPotential:"Growth Potential",growthNote:"Based on average industry growth",vendingPotential:"Vending Potential",additionalRevenue:"Additional Revenue",vendingMachines:"Vending Machines",transactionsPerDay:"Transactions/Day",avgTransaction:"Avg Transaction",scheduleDemo:"Schedule Demo",scheduleDemoDesc:"Show the benefits live",createOffer:"Create Offer",createOfferDesc:"Generate individual PDF",sendInfo:"Send Info",sendInfoDesc:"Send additional documents",noData:"No customer data available",pleaseEnterCustomerData:"Please enter customer data first",enterData:"Enter data",contractValue:"Contract Value",salesStrategy:"Sales Strategy",keyArguments:"Key Arguments",nextSteps:"Next Steps"},offer:{title:"Create Offer",contractDetails:"Contract Details",contractStart:"Contract Start",contractDuration:"Duration",discount:"Agreed Discount (%)",specialConditions:"Special Conditions",notes:"Notes",generatePdf:"Generate PDF",send:"Send Offer",preview:"Preview",pdfGenerated:"PDF has been created",offerSent:"Offer has been sent",noCustomerData:"Please enter customer data first",fillCustomerFirst:"Please fill in customer data first",fillSalespersonInfo:"Please enter your salesperson information",generating:"Generating PDF...",annualSavings:"Annual Savings",noPdfGenerated:"No PDF available. Please generate an offer first.",pdfDownloaded:"PDF has been downloaded",salespersonName:"Salesperson Name",salespersonEmail:"Salesperson Email",salespersonPhone:"Salesperson Phone",includeDocuments:"Include Documents:",partnershipAgreement:"Partnership Agreement",discountSystemOverview:"Discount System Overview",calculationExamples:"Calculation Examples",pdfPreview:"PDF Preview",download:"Download",sendViaEmail:"Send via Email"},settings:{title:"Settings",salesperson:"Salesperson Information",name:"Name",email:"Email",phone:"Phone",company:"Company",monday:"Monday.com Integration",apiToken:"API Token",boardId:"Board ID",testConnection:"Test Connection",save:"Save",saved:"Settings saved",connectionSuccess:"Connection successful",connectionError:"Connection error",missingToken:"Please enter an API token",mobile:"Mobile",defaultValues:"Default Values",defaultDiscount:"Default Discount (%)",defaultContractDuration:"Default Contract Duration",integrations:"Integrations",emailIntegration:"Email Integration",smtpServer:"SMTP Server",password:"Password",xentralIntegration:"Xentral Integration",apiUrl:"API URL",apiKey:"API Key",exportSettings:"Export Settings",importSettings:"Import Settings"},common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",confirm:"Confirm",yes:"Yes",no:"No",back:"Back",next:"Next",save:"Save",delete:"Delete",edit:"Edit",close:"Close",download:"Download",upload:"Upload",print:"Print",reset:"Reset",search:"Search",filter:"Filter",sort:"Sort",required:"Required",optional:"Optional",tagline:"So easy, fast and delicious!",clearForm:"Clear Form",addLocation:"+ Add Location"},validation:{required:"This field is required",email:"Please enter a valid email address",phone:"Please enter a valid phone number",postalCode:"Please enter a valid postal code",number:"Please enter a valid number",min:"Value must be at least {min}",max:"Value must be at most {max}",minLength:"At least {minLength} characters required",maxLength:"Maximum {maxLength} characters allowed",pattern:"Invalid format",formInvalid:"Please check your inputs"}}};class Wt extends At{constructor(){super("i18n"),t(this,"updateInterval",null),t(this,"observedElements",new WeakSet),t(this,"mutationObserver",null)}async setup(){const e=localStorage.getItem("freshplan_language")||"de";this.setModuleState({currentLanguage:e,availableLanguages:["de","en"],autoUpdate:!0});const t=this.dom.$("#languageSelect");t&&(t.value=e),this.translateAll(),this.getModuleState().autoUpdate&&this.startAutoUpdate()}bindEvents(){this.on("#languageSelect","change",(e=>{const t=e.target;this.changeLanguage(t.value)})),this.setupMutationObserver()}subscribeToState(){xt.subscribe((e=>e.app.language),(e=>{this.translateAll(),this.emit("changed",{language:e}),this.events.emit("app:language:changed",e)}))}changeLanguage(e){this.getModuleState().availableLanguages.includes(e)?(this.setModuleState("currentLanguage",e),localStorage.setItem("freshplan_language",e),xt.getState().setLanguage(e)):console.warn(`Language '${e}' not available`)}getTranslation(e,t={}){const n=this.getModuleState().currentLanguage,a=e.split(".");let i=Zt[n];for(const o of a){if(!i||"object"!=typeof i||!(o in i)){i=this.getFallbackTranslation(e);break}i=i[o]}return"string"!=typeof i?(console.warn(`Translation not found: ${e}`),e):this.interpolate(i,t)}getFallbackTranslation(e){const t=e.split(".");let n=Zt.de;for(const a of t){if(!n||"object"!=typeof n||!(a in n))return e;n=n[a]}return"string"==typeof n?n:e}interpolate(e,t){return e.replace(/\{(\w+)\}/g,((e,n)=>t.hasOwnProperty(n)?String(t[n]):e))}translateAll(){this.dom.$$("[data-i18n]").forEach((e=>{this.translateElement(e)})),document.title=this.getTranslation("app.title")}translateElement(e){const t=e.getAttribute("data-i18n");if(!t)return;const n={};Array.from(e.attributes).filter((e=>e.name.startsWith("data-i18n-param-"))).forEach((e=>{const t=e.name.replace("data-i18n-param-","");n[t]=e.value}));const a=this.getTranslation(t,n);if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)"button"===e.type||"submit"===e.type?e.value=a:e.placeholder=a;else if(e instanceof HTMLOptionElement)e.textContent=a;else{if(Array.from(e.childNodes).every((e=>e.nodeType===Node.TEXT_NODE)))e.textContent=a;else{const t=Array.from(e.childNodes).find((e=>{var t;return e.nodeType===Node.TEXT_NODE&&(null==(t=e.textContent)?void 0:t.trim())}));t&&(t.textContent=a)}}this.observedElements.add(e)}setupMutationObserver(){const e=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE){const t=e;if(t.hasAttribute&&t.hasAttribute("data-i18n")&&this.translateElement(t),t.querySelectorAll){t.querySelectorAll("[data-i18n]").forEach((e=>this.translateElement(e)))}}})),"attributes"===e.type&&"data-i18n"===e.attributeName&&this.translateElement(e.target)}))}));e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-i18n"]}),this.mutationObserver=e}startAutoUpdate(){this.updateInterval=this.setInterval((()=>{this.translateAll()}),5e3)}stopAutoUpdate(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null)}getCurrentLanguage(){return this.getModuleState().currentLanguage}isRTL(e){return e=e||this.getCurrentLanguage(),["ar","he","fa","ur"].includes(e)}t(e,t){return this.getTranslation(e,t)}setLanguage(e){this.changeLanguage(e)}getLanguage(){return this.getCurrentLanguage()}getAvailableLanguages(){return this.getModuleState().availableLanguages}isLanguageAvailable(e){return this.getAvailableLanguages().includes(e)}cleanup(){this.stopAutoUpdate(),this.mutationObserver&&this.mutationObserver.disconnect(),this.observedElements=new WeakSet}}class Jt extends At{constructor(){super("locations"),t(this,"locationCounter",0)}setup(){this.setupChainCustomerListener(),this.updateLocationsVisibility()}bindEvents(){this.on("#chainCustomer","change",this.handleChainCustomerChange.bind(this)),this.on("#captureDetailsToggle","change",this.handleCaptureDetailsToggle.bind(this)),this.on('[data-action="add-location"]',"click",this.addLocation.bind(this)),this.on('[data-action="toggle-location"]',"click",this.toggleLocation.bind(this)),this.on('[data-action="remove-location"]',"click",this.removeLocation.bind(this)),this.on("#industry","change",this.updateIndustryFields.bind(this))}setupChainCustomerListener(){this.subscribe("customer.data.chainCustomer",(()=>{this.updateLocationsVisibility()}))}handleChainCustomerChange(e){const t="ja"===e.target.value;xt.getState().updateCustomer({chainCustomer:t?"ja":"nein"}),this.updateLocationsVisibility()}handleCaptureDetailsToggle(e){const t=e.target,n=document.getElementById("locationDetailsTab");n&&n.classList.toggle("hidden",!t.checked),t.checked&&this.checkLocationSynchronization()}updateLocationsVisibility(){var e;const t="ja"===(null==(e=xt.getState().customer.data)?void 0:e.chainCustomer),n=document.getElementById("locationsTab");n&&n.classList.toggle("hidden",!t)}updateIndustryFields(e){const t=document.getElementById("industry"),n=document.getElementById("selectedIndustry"),a=document.getElementById("industrySpecificFields");if(!t||!a)return;const i=t.value;n&&(n.value=this.getIndustryLabel(i)),a.innerHTML=this.generateIndustryFields(i),this.updateTotalLocations()}generateIndustryFields(e){let t='<h3 class="form-section-title">Branchenspezifische Angaben</h3>';switch(e){case"hotel":t+=this.generateHotelFields();break;case"klinik":t+=this.generateKlinikFields();break;case"seniorenresidenz":t+=this.generateSeniorenresidenzFields();break;case"betriebsrestaurant":t+=this.generateBetriebsrestaurantFields();break;case"restaurant":t+=this.generateRestaurantFields();break;default:t+="<p>Keine branchenspezifischen Felder verf√ºgbar.</p>"}return t}generateHotelFields(){return'\n      <div class="form-row">\n        <div class="form-group">\n          <label>Kleine Hotels (bis 50 Zimmer)</label>\n          <input type="number" id="smallHotels" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Mittlere Hotels (51-150 Zimmer)</label>\n          <input type="number" id="mediumHotels" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Gro√üe Hotels (√ºber 150 Zimmer)</label>\n          <input type="number" id="largeHotels" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Hotels mit Fr√ºhst√ºcksservice</label>\n          <input type="number" id="hotelBreakfast" min="0" value="0">\n        </div>\n        <div class="form-group">\n          <label>Hotels mit Restaurant √† la carte</label>\n          <input type="number" id="hotelRestaurant" min="0" value="0">\n        </div>\n        <div class="form-group">\n          <label>Hotels mit Room Service</label>\n          <input type="number" id="hotelRoomService" min="0" value="0">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Hotels mit Bankett/Veranstaltungen</label>\n          <input type="number" id="hotelBanquet" min="0" value="0">\n        </div>\n      </div>\n    '}generateKlinikFields(){return'\n      <div class="form-row">\n        <div class="form-group">\n          <label>Kleine Kliniken (bis 150 Betten)</label>\n          <input type="number" id="smallClinics" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Mittlere Kliniken (151-400 Betten)</label>\n          <input type="number" id="mediumClinics" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Gro√üe Kliniken (√ºber 400 Betten)</label>\n          <input type="number" id="largeClinics" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Durchschnittlicher Privatpatientenanteil (%)</label>\n          <input type="number" id="privatePatientPercentage" min="0" max="100" value="0">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Kliniken mit Patientenverpflegung</label>\n          <input type="number" id="clinicPatientMeals" min="0" value="0">\n        </div>\n        <div class="form-group">\n          <label>Kliniken mit Mitarbeiterverpflegung</label>\n          <input type="number" id="clinicStaffMeals" min="0" value="0">\n        </div>\n      </div>\n    '}generateSeniorenresidenzFields(){return'\n      <div class="form-row">\n        <div class="form-group">\n          <label>Kleine Einrichtungen (bis 50 Bewohner)</label>\n          <input type="number" id="smallSenior" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Mittlere Einrichtungen (51-100 Bewohner)</label>\n          <input type="number" id="mediumSenior" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Gro√üe Einrichtungen (√ºber 100 Bewohner)</label>\n          <input type="number" id="largeSenior" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Einrichtungen mit Vollverpflegung</label>\n          <input type="number" id="seniorFullCatering" min="0" value="0">\n        </div>\n        <div class="form-group">\n          <label>Einrichtungen mit Teilverpflegung</label>\n          <input type="number" id="seniorPartialCatering" min="0" value="0">\n        </div>\n        <div class="form-group">\n          <label>Einrichtungen mit Sonderkostform</label>\n          <input type="number" id="seniorSpecialDiet" min="0" value="0">\n        </div>\n      </div>\n    '}generateBetriebsrestaurantFields(){return'\n      <div class="form-row">\n        <div class="form-group">\n          <label>Kleine Betriebe (bis 200 MA)</label>\n          <input type="number" id="smallCompany" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Mittlere Betriebe (201-500 MA)</label>\n          <input type="number" id="mediumCompany" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Gro√üe Betriebe (√ºber 500 MA)</label>\n          <input type="number" id="largeCompany" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Betriebe mit Fr√ºhst√ºck</label>\n          <input type="number" id="companyBreakfast" min="0" value="0">\n        </div>\n        <div class="form-group">\n          <label>Betriebe mit Mittagessen</label>\n          <input type="number" id="companyLunch" min="0" value="0">\n        </div>\n        <div class="form-group">\n          <label>Betriebe mit Abendessen</label>\n          <input type="number" id="companyDinner" min="0" value="0">\n        </div>\n      </div>\n    '}generateRestaurantFields(){return'\n      <div class="form-row">\n        <div class="form-group">\n          <label>Kleine Restaurants (bis 50 Pl√§tze)</label>\n          <input type="number" id="smallRestaurant" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Mittlere Restaurants (51-150 Pl√§tze)</label>\n          <input type="number" id="mediumRestaurant" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n        <div class="form-group">\n          <label>Gro√üe Restaurants (√ºber 150 Pl√§tze)</label>\n          <input type="number" id="largeRestaurant" min="0" value="0" onchange="updateTotalLocations()">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Restaurants mit √Ä la carte</label>\n          <input type="number" id="restaurantAlaCarte" min="0" value="0">\n        </div>\n        <div class="form-group">\n          <label>Restaurants mit Bankett/Veranstaltungen</label>\n          <input type="number" id="restaurantBanquet" min="0" value="0">\n        </div>\n      </div>\n    '}addLocation(){var e;this.locationCounter++;const t=`location_${this.locationCounter}`,n=(null==(e=document.getElementById("industry"))?void 0:e.value)||"default",a=document.getElementById("locationDetailsList");if(!a)return;const i=this.generateLocationHTML(t,n);a.insertAdjacentHTML("beforeend",i);const o=document.getElementById("noLocationsMessage");o&&(o.style.display="none"),this.checkLocationSynchronization();const s=xt.getState().locations.locations||[];s.push({id:t,name:"",industry:n,address:{},contact:{},industrySpecific:{}}),xt.getState().updateLocations(s)}generateLocationHTML(e,t){return`\n      <div class="location-detail" id="${e}">\n        <div class="location-header" data-action="toggle-location" data-location-id="${e}">\n          <h4>Standort ${this.locationCounter}</h4>\n          <div class="location-actions">\n            <button type="button" class="btn-icon" data-action="toggle-location" data-location-id="${e}">\n              <svg class="chevron-icon" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">\n                <path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/>\n              </svg>\n            </button>\n            <button type="button" class="btn-icon danger" data-action="remove-location" data-location-id="${e}">\n              <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">\n                <path d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n        <div class="location-content">\n          ${this.generateLocationFieldsHTML(e,t)}\n        </div>\n      </div>\n    `}generateLocationFieldsHTML(e,t){return`\n      <div class="form-section">\n        <h3 class="form-section-title">Adresse</h3>\n        <div class="form-row">\n          <div class="form-group">\n            <label>Standortname*</label>\n            <input type="text" id="${e}_name" required>\n          </div>\n          <div class="form-group">\n            <label>Stra√üe und Hausnummer*</label>\n            <input type="text" id="${e}_street" required>\n          </div>\n        </div>\n        <div class="form-row">\n          <div class="form-group">\n            <label>PLZ*</label>\n            <input type="text" id="${e}_plz" pattern="[0-9]{5}" maxlength="5" required>\n          </div>\n          <div class="form-group">\n            <label>Ort*</label>\n            <input type="text" id="${e}_city" required>\n          </div>\n        </div>\n      </div>\n      \n      <div class="form-section">\n        <h3 class="form-section-title">Ansprechpartner</h3>\n        <div class="form-row">\n          <div class="form-group">\n            <label>Name</label>\n            <input type="text" id="${e}_contact">\n          </div>\n          <div class="form-group">\n            <label>Telefon</label>\n            <input type="tel" id="${e}_phone">\n          </div>\n        </div>\n      </div>\n      \n      <div class="form-section">\n        <h3 class="form-section-title">Branchenspezifische Angaben</h3>\n        ${this.getLocationIndustryFields(t,e)}\n      </div>\n    `}getLocationIndustryFields(e,t){switch(e){case"hotel":return this.getHotelLocationFields(t);case"klinik":return this.getKlinikLocationFields(t);case"seniorenresidenz":return this.getSeniorenresidenzLocationFields(t);case"betriebsrestaurant":return this.getBetriebsrestaurantLocationFields(t);case"restaurant":return this.getRestaurantLocationFields(t);default:return"<p>Keine branchenspezifischen Felder verf√ºgbar.</p>"}}getHotelLocationFields(e){return`\n      <div class="form-row">\n        <div class="form-group">\n          <label>Gr√∂√üenkategorie</label>\n          <select id="${e}_size">\n            <option value="">Bitte w√§hlen</option>\n            <option value="small">Klein (bis 50 Zimmer)</option>\n            <option value="medium">Mittel (51-150 Zimmer)</option>\n            <option value="large">Gro√ü (√ºber 150 Zimmer)</option>\n          </select>\n        </div>\n        <div class="form-group">\n          <label>Anzahl Zimmer</label>\n          <input type="number" id="${e}_rooms" min="1">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Services</label>\n          <div>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_breakfast">\n              <span>Fr√ºhst√ºcksservice</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_restaurant">\n              <span>Restaurant √† la carte</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_roomservice">\n              <span>Room Service</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_banquet">\n              <span>Bankett/Veranstaltungen</span>\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Bemerkungen</label>\n          <textarea id="${e}_bemerkungen" rows="3" placeholder="W√ºnsche und Besonderheiten"></textarea>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Interesse an Freshfoodz-Vending?</label>\n          <input type="text" id="${e}_vending" placeholder="Standortangabe">\n        </div>\n      </div>\n    `}getKlinikLocationFields(e){return`\n      <div class="form-row">\n        <div class="form-group">\n          <label>Gr√∂√üenkategorie</label>\n          <select id="${e}_size">\n            <option value="">Bitte w√§hlen</option>\n            <option value="small">Klein (bis 150 Betten)</option>\n            <option value="medium">Mittel (151-400 Betten)</option>\n            <option value="large">Gro√ü (√ºber 400 Betten)</option>\n          </select>\n        </div>\n        <div class="form-group">\n          <label>Anzahl Betten</label>\n          <input type="number" id="${e}_beds" min="1">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Privatpatientenanteil (%)</label>\n          <input type="number" id="${e}_private" min="0" max="100">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Services</label>\n          <div>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_patientMeals">\n              <span>Patientenverpflegung</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_staffMeals">\n              <span>Mitarbeiterverpflegung</span>\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Bemerkungen</label>\n          <textarea id="${e}_bemerkungen" rows="3" placeholder="W√ºnsche und Besonderheiten"></textarea>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Interesse an Freshfoodz-Vending?</label>\n          <input type="text" id="${e}_vending" placeholder="Standortangabe">\n        </div>\n      </div>\n    `}getSeniorenresidenzLocationFields(e){return`\n      <div class="form-row">\n        <div class="form-group">\n          <label>Gr√∂√üenkategorie</label>\n          <select id="${e}_size">\n            <option value="">Bitte w√§hlen</option>\n            <option value="small">Klein (bis 50 Bewohner)</option>\n            <option value="medium">Mittel (51-100 Bewohner)</option>\n            <option value="large">Gro√ü (√ºber 100 Bewohner)</option>\n          </select>\n        </div>\n        <div class="form-group">\n          <label>Anzahl Bewohner</label>\n          <input type="number" id="${e}_residents" min="1">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Verpflegung</label>\n          <div>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_fullCatering">\n              <span>Vollverpflegung</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_partialCatering">\n              <span>Teilverpflegung</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_specialDiet">\n              <span>Sonderkostform</span>\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Bemerkungen</label>\n          <textarea id="${e}_bemerkungen" rows="3" placeholder="W√ºnsche und Besonderheiten"></textarea>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Interesse an Freshfoodz-Vending?</label>\n          <input type="text" id="${e}_vending" placeholder="Standortangabe">\n        </div>\n      </div>\n    `}getBetriebsrestaurantLocationFields(e){return`\n      <div class="form-row">\n        <div class="form-group">\n          <label>Gr√∂√üenkategorie</label>\n          <select id="${e}_size">\n            <option value="">Bitte w√§hlen</option>\n            <option value="small">Klein (bis 200 MA)</option>\n            <option value="medium">Mittel (201-500 MA)</option>\n            <option value="large">Gro√ü (√ºber 500 MA)</option>\n          </select>\n        </div>\n        <div class="form-group">\n          <label>Anzahl Mitarbeiter</label>\n          <input type="number" id="${e}_employees" min="1">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Serviceumfang</label>\n          <div>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_breakfast">\n              <span>Fr√ºhst√ºck</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_lunch">\n              <span>Mittagessen</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_dinner">\n              <span>Abendessen</span>\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Bemerkungen</label>\n          <textarea id="${e}_bemerkungen" rows="3" placeholder="W√ºnsche und Besonderheiten"></textarea>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Interesse an Freshfoodz-Vending?</label>\n          <input type="text" id="${e}_vending" placeholder="Standortangabe">\n        </div>\n      </div>\n    `}getRestaurantLocationFields(e){return`\n      <div class="form-row">\n        <div class="form-group">\n          <label>Gr√∂√üenkategorie</label>\n          <select id="${e}_size">\n            <option value="">Bitte w√§hlen</option>\n            <option value="small">Klein (bis 50 Pl√§tze)</option>\n            <option value="medium">Mittel (51-150 Pl√§tze)</option>\n            <option value="large">Gro√ü (√ºber 150 Pl√§tze)</option>\n          </select>\n        </div>\n        <div class="form-group">\n          <label>Anzahl Sitzpl√§tze</label>\n          <input type="number" id="${e}_seats" min="1">\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Services</label>\n          <div>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_alacarte">\n              <span>√Ä la carte</span>\n            </label>\n            <label class="checkbox-label">\n              <input type="checkbox" id="${e}_banquet">\n              <span>Bankett/Veranstaltungen</span>\n            </label>\n          </div>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Bemerkungen</label>\n          <textarea id="${e}_bemerkungen" rows="3" placeholder="W√ºnsche und Besonderheiten"></textarea>\n        </div>\n      </div>\n      <div class="form-row">\n        <div class="form-group">\n          <label>Interesse an Freshfoodz-Vending?</label>\n          <input type="text" id="${e}_vending" placeholder="Standortangabe">\n        </div>\n      </div>\n    `}toggleLocation(e){e.stopPropagation();const t=e.currentTarget.dataset.locationId;if(!t)return;const n=document.getElementById(t);n&&n.classList.toggle("expanded")}removeLocation(e){e.stopPropagation();const t=e.currentTarget.dataset.locationId;if(!t||!confirm("M√∂chten Sie diesen Standort wirklich l√∂schen?"))return;const n=document.getElementById(t);n&&n.remove();const a=(xt.getState().locations.locations||[]).filter((e=>e.id!==t));xt.getState().updateLocations(a);const i=document.getElementById("locationDetailsList");if(i&&0===i.children.length){const e=document.getElementById("noLocationsMessage");e&&(e.style.display="block")}this.checkLocationSynchronization()}updateTotalLocations(){let e=0;document.querySelectorAll('#industrySpecificFields input[type="number"]').forEach((t=>{const n=t;(n.id.includes("small")||n.id.includes("medium")||n.id.includes("large"))&&(e+=parseInt(n.value)||0)}));const t=document.getElementById("totalLocations");t&&(t.value=e.toString());const n=document.getElementById("captureDetailsToggle");(null==n?void 0:n.checked)&&this.checkLocationSynchronization()}checkLocationSynchronization(){const e=document.getElementById("totalLocations"),t=parseInt(null==e?void 0:e.value)||0,n=document.querySelectorAll(".location-detail").length,a=document.getElementById("syncWarning"),i=document.getElementById("syncMessage");if(a&&i)if(0!==t||0!==n)if(n>t)i.textContent=`Sie haben ${n} Standorte erfasst, aber nur ${t} Standorte in der √úbersicht angegeben.`,a.classList.remove("hidden");else if(n<t)i.textContent=`Sie haben ${t} Standorte in der √úbersicht angegeben, aber erst ${n} detailliert erfasst.`,a.classList.remove("hidden");else{const e=this.getDetailedCategoryCounts(),t=this.getMainCategoryCounts();let n=!1;for(const a in t)if(e[a]!==t[a]){n=!0;break}n?(i.textContent="Die Gr√∂√üenkategorien der erfassten Standorte stimmen nicht mit der √úbersicht √ºberein.",a.classList.remove("hidden")):a.classList.add("hidden")}else a.classList.add("hidden")}getDetailedCategoryCounts(){const e={small:0,medium:0,large:0};return document.querySelectorAll(".location-detail").forEach((t=>{const n=t.querySelector('select[id$="_size"]');(null==n?void 0:n.value)&&(e[n.value]=(e[n.value]||0)+1)})),e}getMainCategoryCounts(){var e,t,n,a,i,o,s,r,l,c,u,d,m,p,h,g;const f={small:0,medium:0,large:0};switch((null==(e=document.getElementById("industry"))?void 0:e.value)||""){case"hotel":f.small=parseInt(null==(t=document.getElementById("smallHotels"))?void 0:t.value)||0,f.medium=parseInt(null==(n=document.getElementById("mediumHotels"))?void 0:n.value)||0,f.large=parseInt(null==(a=document.getElementById("largeHotels"))?void 0:a.value)||0;break;case"klinik":f.small=parseInt(null==(i=document.getElementById("smallClinics"))?void 0:i.value)||0,f.medium=parseInt(null==(o=document.getElementById("mediumClinics"))?void 0:o.value)||0,f.large=parseInt(null==(s=document.getElementById("largeClinics"))?void 0:s.value)||0;break;case"seniorenresidenz":f.small=parseInt(null==(r=document.getElementById("smallSenior"))?void 0:r.value)||0,f.medium=parseInt(null==(l=document.getElementById("mediumSenior"))?void 0:l.value)||0,f.large=parseInt(null==(c=document.getElementById("largeSenior"))?void 0:c.value)||0;break;case"betriebsrestaurant":f.small=parseInt(null==(u=document.getElementById("smallCompany"))?void 0:u.value)||0,f.medium=parseInt(null==(d=document.getElementById("mediumCompany"))?void 0:d.value)||0,f.large=parseInt(null==(m=document.getElementById("largeCompany"))?void 0:m.value)||0;break;case"restaurant":f.small=parseInt(null==(p=document.getElementById("smallRestaurant"))?void 0:p.value)||0,f.medium=parseInt(null==(h=document.getElementById("mediumRestaurant"))?void 0:h.value)||0,f.large=parseInt(null==(g=document.getElementById("largeRestaurant"))?void 0:g.value)||0}return f}getIndustryLabel(e){return{hotel:"Hotel",klinik:"Klinik",seniorenresidenz:"Seniorenresidenz",betriebsrestaurant:"Betriebsrestaurant",restaurant:"Restaurant"}[e]||""}subscribeToState(){}cleanup(){}}class Yt extends Error{constructor(e,t){super(e),this.errors=t,this.name="CustomerValidationError"}}class Xt{async validate(e){const t=this.validateRequiredFields(e),n=this.validateBusinessRules(e);return{isValid:t.isValid&&n.isValid,errors:[...t.errors,...n.errors]}}validateRequiredFields(e){const t=[];return[{field:"companyName",message:"Firmenname"},{field:"legalForm",message:"Rechtsform"},{field:"customerType",message:"Kundentyp"},{field:"industry",message:"Branche"},{field:"street",message:"Stra√üe und Hausnummer"},{field:"postalCode",message:"PLZ"},{field:"city",message:"Ort"},{field:"contactName",message:"Ansprechpartner Name"},{field:"contactPhone",message:"Telefon"},{field:"contactEmail",message:"E-Mail"},{field:"expectedVolume",message:"Erwartetes Jahresvolumen"},{field:"paymentMethod",message:"Zahlungsart"}].forEach((({field:n,message:a})=>{const i=e[n];(!i||"string"==typeof i&&""===i.trim())&&t.push({field:n,message:`${a} ist ein Pflichtfeld`,rule:"required"})})),{isValid:0===t.length,errors:t}}validateBusinessRules(e){const t=[];return e.contactEmail&&!this.isValidEmail(e.contactEmail)&&t.push({field:"contactEmail",message:"Ung√ºltige E-Mail-Adresse",rule:"email"}),e.postalCode&&!/^\d{5}$/.test(e.postalCode)&&t.push({field:"postalCode",message:"PLZ muss 5-stellig sein",rule:"pattern"}),e.contactPhone&&e.contactPhone.length<10&&t.push({field:"contactPhone",message:"Telefonnummer ist zu kurz",rule:"min"}),{isValid:0===t.length,errors:t}}isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}}class Qt{constructor(e,n,a=m){t(this,"validator"),this.repository=e,this.eventBus=a,this.validator=n||new Xt}async loadInitialCustomerData(){try{const e=await this.repository.getLegacyData();return e?e.customer||null:(console.log("No saved customer data found"),null)}catch(e){return console.error("Error loading initial customer data:",e),null}}async loadCompleteLegacyData(){try{return await this.repository.getLegacyData()}catch(e){return console.error("Error loading legacy data:",e),null}}async saveCurrentCustomerData(e){try{const t=await this.validator.validate(e);if(!t.isValid)throw new Yt("Validierung fehlgeschlagen",t.errors);"neukunde"===(e.customerStatus||("neukunde"===e.customerType?"neukunde":"bestandskunde"===e.customerType?"bestandskunde":void 0))&&"rechnung"===e.paymentMethod&&(this.eventBus.emit("customer:creditCheckRequired",{customer:e,message:"F√ºr Neukunden ist Zahlung auf Rechnung erst nach Bonit√§tspr√ºfung m√∂glich."}),console.warn("Hinweis: F√ºr Neukunden ist Zahlung auf Rechnung erst nach Bonit√§tspr√ºfung m√∂glich.")),await this.repository.saveCustomer(e),this.eventBus.emit("customer:saved",{customer:e,timestamp:Date.now()}),console.log("Customer data saved successfully")}catch(t){if(t instanceof Yt)throw t;throw console.error("Error saving customer data:",t),new Error("Fehler beim Speichern der Kundendaten")}}async clearAllCustomerData(){try{const e=await this.repository.getLegacyData();e&&(delete e.customer,delete e.locations,delete e.locationDetailsList,localStorage.setItem("freshplanData",JSON.stringify(e))),await this.repository.deleteAllCustomers(),this.eventBus.emit("customer:cleared",{timestamp:Date.now()}),console.log("Customer data cleared successfully")}catch(e){throw console.error("Error clearing customer data:",e),new Error("Fehler beim L√∂schen der Kundendaten")}}async checkRequiredFieldsForInvoice(e){return["companyName","legalForm","street","postalCode","city","ustId","handelsregister"].every((t=>{const n=e[t];return n&&("string"!=typeof n||""!==n.trim())}))}async calculateCustomerPotential(e){const t=e.expectedVolume||e.annualVolume||0,n={hotel:1.5,krankenhaus:2,seniorenresidenz:1.8,betriebsrestaurant:1.3,restaurant:1}[e.industry]||1;return Math.round(t*n)}getValidationErrors(e){return this.validator.validateRequiredFields(e).errors}shouldShowPaymentWarning(e,t){return"neukunde"===e&&"rechnung"===t}}class en{constructor(){t(this,"STORAGE_KEY","freshplanData"),t(this,"CUSTOMERS_KEY","freshplan_customers")}async saveCustomer(e){try{const t={...await this.getLegacyData(),customer:{...e,customerType:e.customerType||e.customerStatus}};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),await this.saveToNewStructure(e)}catch(t){throw console.error("Error saving customer data:",t),new Error("Failed to save customer data")}}async getLegacyData(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):null}catch(e){return console.error("Error loading legacy data:",e),null}}async getCustomerById(e){return console.warn("getCustomerById not yet implemented, returning null"),Promise.resolve(null)}async updateCustomer(e,t){return console.warn("updateCustomer not yet implemented"),Promise.resolve()}async deleteCustomer(e){return console.warn("deleteCustomer not yet implemented"),Promise.resolve()}async getAllCustomers(){const e=await this.getLegacyData();if(null==e?void 0:e.customer)return[e.customer];return await this.getFromNewStructure()}async findCustomersByIndustry(e){return(await this.getAllCustomers()).filter((t=>t.industry===e))}async findCustomersByType(e){return(await this.getAllCustomers()).filter((t=>t.customerStatus===e))}async saveAllCustomers(e){return console.warn("saveAllCustomers not yet implemented"),Promise.resolve()}async deleteAllCustomers(){localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.CUSTOMERS_KEY)}async migrateLegacyData(e){return console.warn("migrateLegacyData not yet implemented"),Promise.resolve()}async saveToNewStructure(e){try{const t=[{...e,id:e.customerNumber||`customer_${Date.now()}`}];localStorage.setItem(this.CUSTOMERS_KEY,JSON.stringify(t))}catch(t){console.warn("Failed to save to new structure:",t)}}async getFromNewStructure(){try{const e=localStorage.getItem(this.CUSTOMERS_KEY);return e?JSON.parse(e):[]}catch(e){return console.warn("Failed to read from new structure:",e),[]}}}function tn(e,t="info"){const n=document.createElement("div");n.className=`fp-toast fp-${t}`,n.textContent=e,Object.assign(n.style,{position:"fixed",bottom:"24px",right:"24px",padding:"12px 16px",borderRadius:"8px",fontSize:"14px",background:"success"===t?"#27ae60":"warning"===t?"#f39c12":"error"===t?"#c0392b":"#2d3436",color:"#fff",boxShadow:"0 4px 10px rgba(0,0,0,.15)",zIndex:9999,opacity:"0",transition:"opacity .2s ease"}),document.body.appendChild(n),requestAnimationFrame((()=>n.style.opacity="1")),setTimeout((()=>{n.style.opacity="0",n.addEventListener("transitionend",(()=>n.remove()))}),3e3)}"undefined"!=typeof window&&(window.toast=tn);class nn extends At{constructor(){super("customer"),t(this,"service"),t(this,"formElements",new Map),t(this,"buttonHandlers",[]),Mt.log("CustomerModuleV2","Constructor called")}async setup(){Mt.log("CustomerModuleV2","Setup started");const e=new en;this.service=new Qt(e),this.setModuleState("service",this.service),this.cacheFormElements(),await this.loadInitialData(),Mt.log("CustomerModuleV2","Setup completed")}bindEvents(){Mt.log("CustomerModuleV2","Binding events...");const e=document.querySelector(".header-btn-save"),t=document.querySelector(".header-btn-clear");if(e){const t=async e=>{e.preventDefault(),e.stopPropagation(),Mt.log("CustomerModuleV2","Save button clicked (direct binding)"),await this.handleSave()};e.addEventListener("click",t,{capture:!0}),this.buttonHandlers.push({element:e,handler:t}),Mt.log("CustomerModuleV2","Save button bound directly with capture")}else Mt.warn("CustomerModuleV2","Save button not found");if(t){const e=async e=>{e.preventDefault(),e.stopPropagation(),Mt.log("CustomerModuleV2","Clear button clicked (direct binding)"),await this.handleClear()};t.addEventListener("click",e,{capture:!0}),this.buttonHandlers.push({element:t,handler:e}),Mt.log("CustomerModuleV2","Clear button bound directly with capture")}else Mt.warn("CustomerModuleV2","Clear button not found");this.on(document,"change","#customerStatus, #customerType",(e=>{const t=e.target;Mt.log("CustomerModuleV2","Customer status/type changed:",t.value),this.checkCreditRequirement()})),this.on(document,"change","#paymentMethod",(e=>{const t=e.target;Mt.log("CustomerModuleV2","Payment method changed:",t.value),this.checkCreditRequirement()})),Mt.log("CustomerModuleV2","Events bound successfully")}subscribeToState(){Mt.log("CustomerModuleV2","State subscriptions setup")}cacheFormElements(){if(!document.getElementById("customerForm"))return void Mt.warn("CustomerModuleV2","Customer form not found");["companyName","legalForm","customerType","customerStatus","industry","street","postalCode","city","contactName","contactPhone","contactEmail","paymentMethod","chainCustomer","expectedVolume","annualVolume"].forEach((e=>{const t=document.getElementById(e);t&&this.formElements.set(e,t)})),Mt.log("CustomerModuleV2",`Cached ${this.formElements.size} form elements`)}async loadInitialData(){try{const e=await this.service.loadInitialCustomerData();e&&(this.populateForm(e),Mt.log("CustomerModuleV2","Initial data loaded"))}catch(e){Mt.error("CustomerModuleV2","Failed to load initial data:",e)}}async handleSave(){try{const e=this.collectFormData();await this.service.saveCurrentCustomerData(e),this.events.emit("customer:saved",{data:e}),window.dispatchEvent(new CustomEvent("customer:saved",{detail:{data:e}})),alert("Kundendaten erfolgreich gespeichert!")}catch(e){e instanceof Yt?this.showValidationErrors(e.errors):alert("Fehler beim Speichern: "+e.message)}}async handleClear(){if(confirm("M√∂chten Sie alle Kundendaten l√∂schen?"))try{await this.service.clearAllCustomerData(),this.clearForm(),this.events.emit("customer:cleared"),window.dispatchEvent(new CustomEvent("customer:cleared")),console.log("Kundendaten wurden gel√∂scht"),Mt.log("CustomerModuleV2","Customer data cleared")}catch(e){alert("Fehler beim L√∂schen: "+e.message)}}checkCreditRequirement(){var e,t,n;const a=(null==(e=this.formElements.get("customerStatus"))?void 0:e.value)||(null==(t=this.formElements.get("customerType"))?void 0:t.value),i=null==(n=this.formElements.get("paymentMethod"))?void 0:n.value;"neukunde"===a&&"rechnung"===i&&(alert("Hinweis: F√ºr Neukunden ist Zahlung auf Rechnung erst nach Bonit√§tspr√ºfung m√∂glich."),this.events.emit("customer:creditCheckRequired",{customerStatus:a,paymentMethod:i}),window.dispatchEvent(new CustomEvent("customer:creditCheckRequired",{detail:{customerStatus:a,paymentMethod:i}})))}collectFormData(){const e=e=>{const t=this.formElements.get(e);return(null==t?void 0:t.value)||""};return{companyName:e("companyName"),legalForm:e("legalForm"),customerType:e("customerType"),customerStatus:e("customerStatus"),industry:e("industry"),street:e("street"),postalCode:e("postalCode"),city:e("city"),contactName:e("contactName"),contactPhone:e("contactPhone"),contactEmail:e("contactEmail"),paymentMethod:e("paymentMethod"),chainCustomer:e("chainCustomer"),expectedVolume:parseInt(e("expectedVolume"))||5e4,annualVolume:parseInt(e("annualVolume"))||5e4}}populateForm(e){Object.entries(e).forEach((([e,t])=>{const n=this.formElements.get(e);n&&(n instanceof HTMLInputElement||n instanceof HTMLSelectElement)&&(n.value=String(t))}))}clearForm(){const e=document.getElementById("customerForm");e&&e.reset()}showValidationErrors(e){const t=e.map((e=>`${e.message}`)).join("\n");alert("Bitte korrigieren Sie folgende Fehler:\n\n"+t)}async destroy(){this.buttonHandlers.forEach((({element:e,handler:t})=>{e.removeEventListener("click",t,{capture:!0})})),this.buttonHandlers=[],this.formElements.clear(),await super.destroy()}async cleanup(){this.buttonHandlers.forEach((({element:e,handler:t})=>{e.removeEventListener("click",t,{capture:!0})})),this.buttonHandlers=[],this.formElements.clear()}showSuccess(e){tn(e,"success")}showWarning(e){tn(e,"warning")}showError(e){tn(e,"error")}showInfo(e){tn(e,"info")}}const an=new class{constructor(){t(this,"modules",new Map),t(this,"initialized",!1),t(this,"events",m),t(this,"dom",g)}async init(){if(this.initialized)console.warn("App already initialized");else{console.log("üöÄ Initializing FreshPlan App...");try{0,await this.waitForDOM(),this.registerModules(),await this.initModules(),this.setupGlobalHandlers(),this.setupDevTools(),this.hideLoadingScreen(),this.initialized=!0,this.events.emit("app:initialized"),window.__FP_APP_READY__=!0,console.log("‚úÖ FreshPlan App initialized successfully!")}catch(e){console.error("‚ùå Failed to initialize app:",e),this.handleInitError(e)}}}waitForDOM(){return new Promise((e=>{this.dom.ready((()=>e()))}))}hideLoadingScreen(){const e=this.dom.$("#loading"),t=this.dom.$("#app");e&&(e.style.display="none"),t&&t.classList.add("loaded")}registerModules(){this.registerModule("tabs",new $t),this.registerModule("calculator",new zt);new URLSearchParams(window.location.search).has("phase2")||!1?(console.log("üîÑ Using CustomerModuleV2 (Phase 2) with DOM Observer"),console.log("üìç Current URL:",window.location.href),console.log("üìç Customer form exists:",!!document.getElementById("customerForm")),function(e){const t='#customerForm, .customer-form, [data-module="customer"]',n=new WeakSet;let a,i;function o(t){n.has(t)?Mt.log("DOMObserver","Element already processed, skipping",{element:t}):(n.add(t),Mt.log("DOMObserver","‚úì Customer form detected, initializing module...",{element:t.tagName,id:t.id,classes:t.className}),i&&clearTimeout(i),requestAnimationFrame((()=>{e(),a&&a.disconnect(),Mt.log("DOMObserver","Observer disconnected after successful init")})))}const s=document.querySelector(t);if(s)return Mt.log("DOMObserver","Element already in DOM, initializing immediately"),void o(s);Mt.log("DOMObserver","Starting observation for: "+t),a=new MutationObserver((e=>{var n;for(const a of e)for(const e of a.addedNodes)if(e instanceof HTMLElement){if(null==(n=e.matches)?void 0:n.call(e,t))return void o(e);const a=e.querySelector(t);if(a)return void o(a)}})),a.observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),i=setTimeout((()=>{Mt.warn("DOMObserver","Timeout: Customer form not found after 10s"),a.disconnect()}),1e4)}((()=>{console.log("üéØ DOM Observer callback fired - initializing CustomerModuleV2");const e=new nn;this.registerModule("customer",e),console.log("üì¶ CustomerModuleV2 registered"),e.setup().then((()=>{console.log("üîß CustomerModuleV2 setup complete, binding events..."),e.bindEvents(),e.subscribeToState(),console.log("‚úÖ CustomerModuleV2 fully initialized")})).catch((e=>{console.error("‚ùå CustomerModuleV2 initialization failed:",e)}))}))):this.registerModule("customer",new Ht),this.registerModule("settings",new Kt),this.registerModule("profile",new Ut),this.registerModule("pdf",new jt),this.registerModule("i18n",new Wt),this.registerModule("locations",new Jt)}registerModule(e,t){this.modules.set(e,t)}async initModules(){for(const[t,n]of this.modules)try{await n.init()}catch(e){console.error(`Failed to initialize module ${t}:`,e)}}setupGlobalHandlers(){window.addEventListener("error",(e=>{console.error("Runtime error:",e.error),this.events.emit("app:error",e.error)})),window.addEventListener("unhandledrejection",(e=>{console.error("Unhandled promise rejection:",e.reason),this.events.emit("app:error",e.reason)})),window.addEventListener("online",(()=>{this.events.emit("app:online")})),window.addEventListener("offline",(()=>{this.events.emit("app:offline")})),document.addEventListener("visibilitychange",(()=>{this.events.emit("app:visibility",!document.hidden)})),window.addEventListener("beforeunload",(()=>{this.events.emit("app:beforeunload")}))}setupDevTools(){"localhost"===window.location.hostname&&(window.FreshPlanApp=this,window.FreshPlan={app:this,store:xt,events:this.events,modules:this.modules,getModule:e=>this.getModule(e),reloadModule:e=>this.reloadModule(e),setState:(e,t)=>{console.warn("setState is deprecated. Use store actions directly.")},getState:()=>xt.getState(),emit:(e,...t)=>this.events.emit(e,...t),debug:{enableEventLogging:()=>this.events.setDebug(!0),disableEventLogging:()=>this.events.setDebug(!1),showState:()=>console.log(xt.getState()),clearState:()=>{confirm("Clear all state?")&&(localStorage.clear(),window.location.reload())}}},console.log("üîß Dev tools enabled. Access via window.FreshPlan"))}handleInitError(e){const t=this.dom.create("div",{class:"init-error",style:"position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #f44336; color: white; padding: 20px; border-radius: 4px; z-index: 9999; max-width: 500px;"});t.innerHTML=`\n      <h3>Initialization Error</h3>\n      <p>${e.message}</p>\n      <button onclick="location.reload()" style="\n        background: white;\n        color: #f44336;\n        border: none;\n        padding: 8px 16px;\n        border-radius: 4px;\n        cursor: pointer;\n        margin-top: 10px;\n      ">Reload Page</button>\n    `,document.body.appendChild(t)}getModule(e){return this.modules.get(e)||null}async reloadModule(e){const t=this.modules.get(e);t&&await t.reinit()}destroy(){for(const e of this.modules.values())e.destroy();this.modules.clear(),this.events.clear(),this.initialized=!1}isInitialized(){return this.initialized}},on=new URLSearchParams(window.location.search).has("phase2")||!1;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(async()=>{on&&(console.log("Phase 2: Initializing modular architecture..."),await an.init()),console.log("Phase 1b: Initializing JavaScript functionality..."),u()})):(async()=>{on&&(console.log("Phase 2: Initializing modular architecture..."),await an.init()),console.log("Phase 1b: Initializing JavaScript functionality..."),u()})();</script>
  <style rel="stylesheet" crossorigin>*{margin:0;padding:0;box-sizing:border-box}:root{--primary-blue: #004f7b;--primary-green: #94c456;--dark-green: #7fb040;--warning: #ff9800;--danger: #f44336;--bg-light: #f8f9fa;--text-dark: #333;--text-light: #666;--border-light: #e0e0e0}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:#f5f5f5;color:var(--text-dark);line-height:1.6}.header{background:#fff;color:var(--primary-blue);padding:1rem 2rem;box-shadow:0 2px 4px #0000001a}.header-content{display:flex;justify-content:space-between;align-items:center;max-width:1400px;margin:0 auto;position:relative}.header-actions{display:flex;gap:1rem;align-items:center}.header-btn{padding:.5rem 1rem;border:none;border-radius:6px;font-size:.875rem;font-weight:600;cursor:pointer;transition:all .3s}.header-btn-save{background:var(--primary-green);color:#fff}.header-btn-save:hover{background:var(--dark-green);transform:translateY(-1px);box-shadow:0 4px 12px #94c4564d}.header-btn-clear{background:transparent;color:var(--primary-blue);border:2px solid var(--primary-blue)}.header-btn-clear:hover{background:var(--primary-blue);color:#fff}.header-select{padding:.5rem 1rem;border:2px solid var(--border-light);border-radius:6px;font-size:.875rem;font-weight:500;background:#fff;color:var(--primary-blue);cursor:pointer;transition:all .3s}.header-select:hover{border-color:var(--primary-green)}.header-select:focus{outline:none;border-color:var(--primary-green);box-shadow:0 0 0 3px #94c4561a}.logo{display:flex;align-items:center;gap:1rem}.logo h1{font-size:1.5rem;font-weight:700;color:var(--primary-blue)}.logo-tagline{font-size:.875rem;color:var(--primary-green);font-weight:500}.nav{background:#fff;box-shadow:0 2px 4px #0000000d;position:sticky;top:0;z-index:100}.nav-tabs{display:flex;max-width:1400px;margin:0 auto}.nav-tab{padding:1rem 2rem;cursor:pointer;border:none;background:none;font-size:1rem;transition:all .3s;border-bottom:3px solid transparent;color:var(--text-dark)}.nav-tab:hover{background:var(--bg-light)}.nav-tab.active{color:var(--primary-blue);border-bottom-color:var(--primary-green);font-weight:600}.container{max-width:1400px;margin:2rem auto;padding:0 1rem}.tab-panel{display:none}.tab-panel.active{display:block}.demonstrator-container{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.calculator-section{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 12px #0000000f}.section-title{color:var(--primary-blue);font-size:1.5rem;margin-bottom:2rem}.slider-group{margin-bottom:2rem}.slider-label{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-weight:500}.slider-value{font-size:1.25rem;font-weight:700;color:var(--primary-green);background:#94c4561a;padding:.25rem .75rem;border-radius:6px}.slider{width:100%;height:6px;border-radius:3px;background:#e0e0e0;outline:none;-webkit-appearance:none}.slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:var(--primary-green);cursor:pointer;border:2px solid white;box-shadow:0 2px 8px #94c4564d}.slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(--primary-green);cursor:pointer;border:2px solid white;box-shadow:0 2px 8px #94c4564d}.checkbox-label{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-weight:500;margin-bottom:2rem}.checkbox{width:20px;height:20px;cursor:pointer}.results-container{background:var(--bg-light);padding:1.5rem;border-radius:10px;margin-top:2rem}.result-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-bottom:1.5rem}.result-item{text-align:center;padding:1rem;background:#fff;border-radius:8px;border:1px solid rgba(0,0,0,.06)}.result-label{display:block;font-size:.875rem;color:var(--text-light);margin-bottom:.5rem}.result-value{display:block;font-size:1.5rem;font-weight:700;color:var(--primary-blue)}.total-discount{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;background:linear-gradient(135deg,var(--primary-green),#7fb069);color:#fff;border-radius:10px;margin-bottom:1rem}.total-value{font-size:2rem;font-weight:700}.savings-display{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.savings-item{text-align:center;padding:1rem;background:#fff;border-radius:8px}.savings-item.highlight{background:var(--primary-blue);color:#fff}.savings-value{display:block;font-size:1.25rem;font-weight:700;margin-top:.5rem}.info-section{display:flex;flex-direction:column;gap:1.5rem}.info-card{background:#fff;padding:1.5rem;border-radius:12px;box-shadow:0 2px 12px #0000000f}.info-header{display:flex;align-items:center;gap:.5rem;margin-bottom:1rem}.info-header h3{color:var(--primary-blue);font-size:1.25rem}.customer-container{max-width:1200px;margin:0 auto}.alert-box{background:#ff98001a;border:1px solid rgba(255,152,0,.3);color:var(--text-dark);padding:1.5rem;border-radius:12px;margin-bottom:2rem;display:none}.alert-box.show{display:block}.alert-content h3{color:var(--warning);margin-bottom:.5rem}.alert-actions{display:flex;gap:1rem;margin-top:1rem}.customer-form{background:#fff;padding:2rem;border-radius:12px;box-shadow:0 2px 12px #0000000f}.form-section{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid var(--border-light)}.form-section:last-of-type{border-bottom:none}.form-section-title{color:var(--primary-blue);font-size:1.2rem;margin-bottom:1rem}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group{display:flex;flex-direction:column}.form-group label{margin-bottom:.5rem;font-weight:500;color:var(--text-dark)}.form-group input,.form-group select,.form-group textarea{padding:.75rem;border:1px solid var(--border-light);border-radius:8px;font-size:1rem;transition:all .3s}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:var(--primary-green);box-shadow:0 0 0 3px #94c4561a}.btn{padding:.75rem 1.5rem;border:none;border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:.5rem}.btn-primary{background:var(--primary-green);color:#fff}.btn-primary:hover{background:var(--dark-green);transform:translateY(-1px);box-shadow:0 4px 12px #94c4564d}.btn-secondary{background:#6c757d;color:#fff}.btn-secondary:hover{background:#5a6268}.form-actions{display:flex;gap:1rem;justify-content:flex-end;margin-top:2rem;padding-top:2rem;border-top:1px solid var(--border-light)}.credit-status{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.status-item{background:#fff;padding:1rem;border-radius:8px;text-align:center;border:1px solid var(--border-light)}.status-label{display:block;font-size:.875rem;color:var(--text-light);margin-bottom:.25rem}.status-value{display:block;font-size:1.25rem;font-weight:700;color:var(--text-dark)}@media (max-width: 768px){.demonstrator-container,.form-row,.result-grid{grid-template-columns:1fr}.nav-tabs{overflow-x:auto}.nav-tab{padding:1rem;font-size:.875rem}}.example-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px #94c4564d;border-color:var(--primary-green)!important;background:#94c4560d!important}@media (max-width: 768px){.examples-container{grid-template-columns:1fr!important;gap:.5rem!important}}</style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <img src="data:image/png;base64,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" alt="FreshFoodz Logo" style="height: 50px; margin-right: 1rem;">
                <div>
                    <h1>FreshPlan</h1>
                    <span class="logo-tagline" data-i18n="tagline">So einfach, schnell und lecker!</span>
                </div>
            </div>
            <div class="header-actions">
                <select id="languageSelect" class="header-select" onchange="changeLanguage(this.value)">
                    <option value="de" data-i18n="languageDE">Deutsch</option>
                    <option value="en" data-i18n="languageEN">English</option>
                </select>
                <button class="header-btn header-btn-clear" onclick="handleClearForm()">
                    <span data-i18n="common.clearForm">Formular leeren</span>
                </button>
                <button class="header-btn header-btn-save" onclick="handleSaveForm()">
                    <span data-i18n="common.save">Speichern</span>
                </button>
            </div>
        </div>
    </header>

    <nav class="nav">
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="calculator" role="tab" aria-selected="true">
                <span data-i18n="calculator">Rabattrechner</span>
            </button>
            <button class="nav-tab" data-tab="customer" role="tab" aria-selected="false">
                <span data-i18n="customer">Kundendaten</span>
            </button>
            <button class="nav-tab" data-tab="locations" role="tab" aria-selected="false" style="display: none;">
                <span data-i18n="locations">Standorte</span>
            </button>
            <button class="nav-tab" data-tab="locationdetails" role="tab" aria-selected="false" style="display: none;">
                <span data-i18n="locationDetails">Standort-Details</span>
            </button>
            <button class="nav-tab" data-tab="creditcheck" role="tab" aria-selected="false">
                <span data-i18n="creditcheck">Bonit√§tspr√ºfung</span>
            </button>
            <button class="nav-tab" data-tab="profile" role="tab" aria-selected="false">
                <span data-i18n="profile">Profil</span>
            </button>
            <button class="nav-tab" data-tab="offer" role="tab" aria-selected="false">
                <span data-i18n="offer">Angebot</span>
            </button>
            <button class="nav-tab" data-tab="settings" role="tab" aria-selected="false">
                <span data-i18n="settings">Einstellungen</span>
            </button>
        </div>
    </nav>

    <div class="container">
        <!-- Calculator Tab -->
        <div id="calculator" class="tab-panel active">
            <div class="demonstrator-container">
                <!-- Calculator Section -->
                <div class="calculator-section">
                    <h2 class="section-title" data-i18n="calculatorTitle">FreshPlan Rabattrechner</h2>
                    
                    <!-- Order Value Slider -->
                    <div class="slider-group">
                        <div class="slider-label">
                            <span data-i18n="orderValue">Bestellwert</span>
                            <span class="slider-value" id="orderValueDisplay">‚Ç¨15.000</span>
                        </div>
                        <input type="range" id="orderValue" class="slider" 
                               min="1000" max="100000" step="1000" value="15000" 
                               oninput="updateCalculator()">
                    </div>
                    
                    <!-- Lead Time Slider -->
                    <div class="slider-group">
                        <div class="slider-label">
                            <span data-i18n="leadTime">Vorlaufzeit</span>
                            <span class="slider-value" id="leadTimeDisplay">14 Tage</span>
                        </div>
                        <input type="range" id="leadTime" class="slider" 
                               min="1" max="30" step="1" value="14" 
                               oninput="updateCalculator()">
                    </div>
                    
                    <!-- Pickup Checkbox -->
                    <div class="checkbox-label">
                        <input type="checkbox" id="pickupToggle" class="checkbox" onchange="updateCalculator()">
                        <span data-i18n="pickup">Abholung (Mindestbestellwert: 5.000‚Ç¨ netto)</span>
                    </div>
                    
                    <!-- Results -->
                    <div class="results-container">
                        <div class="result-grid">
                            <div class="result-item">
                                <span class="result-label" data-i18n="baseDiscount">Basisrabatt</span>
                                <span class="result-value" id="baseDiscount">6%</span>
                            </div>
                            <div class="result-item">
                                <span class="result-label" data-i18n="earlyDiscount">Fr√ºhbucher</span>
                                <span class="result-value" id="earlyDiscount">1%</span>
                            </div>
                            <div class="result-item">
                                <span class="result-label" data-i18n="pickupDiscount">Abholung</span>
                                <span class="result-value" id="pickupDiscount">0%</span>
                            </div>
                        </div>
                        
                        <div class="total-discount">
                            <span data-i18n="totalDiscount">Gesamtrabatt</span>
                            <span class="total-value" id="totalDiscount">7%</span>
                        </div>
                        
                        <div class="savings-display">
                            <div class="savings-item">
                                <span data-i18n="savings">Ersparnis</span>
                                <span class="savings-value" id="discountAmount">‚Ç¨1.050</span>
                            </div>
                            <div class="savings-item highlight">
                                <span data-i18n="finalPrice">Endpreis</span>
                                <span class="savings-value" id="finalPrice">‚Ç¨13.950</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Info Section -->
                <div class="info-section">
                    <!-- Discount System Info -->
                    <div class="info-card">
                        <div class="info-header">
                            <h3 data-i18n="discountSystem">FreshPlan-Rabattsystem</h3>
                        </div>
                        <div class="info-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <h4 style="font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--primary-blue);" data-i18n="baseDiscount">Basisrabatt</h4>
                                <table style="width: 100%; font-size: 0.813rem; border-collapse: collapse;">
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0; width: auto;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace; width: 4rem;">5.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">3%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">15.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">6%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">30.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">8%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">50.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">9%</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">75.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">10%</td>
                                    </tr>
                                </table>
                            </div>
                            <div>
                                <h4 style="font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--primary-blue);" data-i18n="earlyBookingDiscount">Fr√ºhbucherrabatt</h4>
                                <table style="width: 100%; font-size: 0.813rem; border-collapse: collapse;">
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from10days">ab 10 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">1%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from15days">ab 15 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">2%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from30days">ab 30 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">3%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;">&nbsp;</td>
                                        <td style="text-align: right; font-weight: 600;">&nbsp;</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.25rem 0;" data-i18n="pickup">Abholung</td>
                                        <td style="text-align: right; font-weight: 600;">2%</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 0.75rem; padding-top: 0.75rem; border-top: 2px solid var(--primary-green);">
                            <strong style="color: var(--primary-green); font-size: 0.9rem;" data-i18n="maxTotalDiscount">Maximaler Gesamtrabatt: 15%</strong>
                        </div>
                    </div>
                    
                    <!-- Chain Customer Info -->
                    <div class="info-card">
                        <div class="info-header">
                            <h3 data-i18n="chainCustomerRegulation">Kettenkundenregelung</h3>
                        </div>
                        <p data-i18n="chainCustomerDesc">F√ºr Unternehmen mit mehreren Standorten (z.B. Hotel- oder Klinikgruppen):</p>
                        <ul style="margin-left: 1rem;">
                            <li><strong data-i18n="optionA">Option A:</strong> <span data-i18n="optionADesc">Bestellungen verschiedener Standorte innerhalb einer Woche werden zusammengerechnet</span></li>
                            <li><strong data-i18n="optionB">Option B:</strong> <span data-i18n="optionBDesc">Zentrale Bestellung mit Mehrfachauslieferung</span></li>
                        </ul>
                    </div>
                    
                    <!-- Example Scenarios -->
                    <div class="info-card" style="background: rgba(148, 196, 86, 0.1); border: 1px solid rgba(148, 196, 86, 0.3);">
                        <div class="info-header">
                            <h3 style="color: var(--primary-green);" data-i18n="exampleScenarios">Beispielszenarien</h3>
                        </div>
                        <div class="examples-container" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem;">
                            <div class="example-item" onclick="loadExample('hotel')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">üè® <span data-i18n="hotelChain">Hotelkette</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">35.000 ‚Ç¨</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="21days">21 Tage</span> ‚Ä¢ <span data-i18n="pickup">Abholung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">12% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                            <div class="example-item" onclick="loadExample('klinik')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">üè• <span data-i18n="clinicGroup">Klinikgruppe</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">65.000 ‚Ç¨</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="30days">30 Tage</span> ‚Ä¢ <span data-i18n="delivery">Lieferung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">12% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                            <div class="example-item" onclick="loadExample('restaurant')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">üçΩÔ∏è <span data-i18n="restaurant">Restaurant</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">8.500 ‚Ç¨</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="14days">14 Tage</span> ‚Ä¢ <span data-i18n="pickup">Abholung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">6% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Tab -->
        <div id="customer" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="customerTitle">Kundendaten erfassen</h2>
                
                <form id="customerForm" class="customer-form">
                    <!-- Basic Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="basicData">Grunddaten</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="companyName" data-i18n="companyName">Firmenname*</label>
                                <input type="text" id="companyName" name="companyName" required>
                            </div>
                            <div class="form-group">
                                <label for="legalForm" data-i18n="legalForm">Rechtsform*</label>
                                <select id="legalForm" name="legalForm" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="gmbh" data-i18n="legalFormGmbH">GmbH</option>
                                    <option value="ag" data-i18n="legalFormAG">AG</option>
                                    <option value="gbr" data-i18n="legalFormGbR">GbR</option>
                                    <option value="einzelunternehmen" data-i18n="legalFormEinzel">Einzelunternehmen</option>
                                    <option value="kg" data-i18n="legalFormKG">KG</option>
                                    <option value="ohg" data-i18n="legalFormOHG">OHG</option>
                                    <option value="ug" data-i18n="legalFormUG">UG</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="customerType" data-i18n="customerType">Kundentyp*</label>
                                <select id="customerType" name="customerType" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="neukunde" data-i18n="newCustomer">Neukunde</option>
                                    <option value="bestandskunde" data-i18n="existingCustomer">Bestandskunde</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="industry" data-i18n="industry">Branche*</label>
                                <select id="industry" name="industry" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="hotel" data-i18n="industryHotel">Hotel</option>
                                    <option value="krankenhaus" data-i18n="industryHospital">Klinik</option>
                                    <option value="seniorenresidenz" data-i18n="industryNursingHome">Seniorenresidenz</option>
                                    <option value="betriebsrestaurant" data-i18n="industryCafeteria">Betriebsrestaurant</option>
                                    <option value="restaurant" data-i18n="industryRestaurant">Restaurant</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="chainCustomer" data-i18n="chainCustomer">Kettenkunde</label>
                                <select id="chainCustomer" name="chainCustomer">
                                    <option value="nein" data-i18n="no">Nein</option>
                                    <option value="ja" data-i18n="yes">Ja</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="customerNumber" data-i18n="customerNumberInternal">Kundennummer (intern)</label>
                                <input type="text" id="customerNumber" name="customerNumber">
                            </div>
                        </div>
                    </div>

                    <!-- Address Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="addressData">Adressdaten</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label for="street" data-i18n="streetAndNumber">Stra√üe und Hausnummer*</label>
                                <input type="text" id="street" name="street" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="postalCode" data-i18n="postalCode">PLZ*</label>
                                <input type="text" id="postalCode" name="postalCode" required maxlength="5">
                            </div>
                            <div class="form-group">
                                <label for="city" data-i18n="city">Ort*</label>
                                <input type="text" id="city" name="city" required>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Person Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="contactPerson">Ansprechpartner</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contactName" data-i18n="contactName">Name*</label>
                                <input type="text" id="contactName" name="contactName" required>
                            </div>
                            <div class="form-group">
                                <label for="contactPosition" data-i18n="contactPosition">Position</label>
                                <input type="text" id="contactPosition" name="contactPosition">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contactPhone" data-i18n="contactPhone">Telefon*</label>
                                <input type="tel" id="contactPhone" name="contactPhone" required>
                            </div>
                            <div class="form-group">
                                <label for="contactEmail" data-i18n="contactEmail">E-Mail*</label>
                                <input type="email" id="contactEmail" name="contactEmail" required>
                            </div>
                        </div>
                    </div>

                    <!-- Business Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="businessData">Gesch√§ftsdaten</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expectedVolume" data-i18n="expectedAnnualVolume">Erwartetes Jahresvolumen (‚Ç¨)*</label>
                                <input type="text" id="expectedVolume" name="expectedVolume" required 
                                       placeholder="z.B. 500.000" data-i18n-placeholder="volumePlaceholder"
                                       oninput="formatCurrency(this)">
                            </div>
                            <div class="form-group">
                                <label for="paymentMethod" data-i18n="paymentMethod">Zahlungsart*</label>
                                <select id="paymentMethod" name="paymentMethod" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="vorkasse" data-i18n="paymentPrepayment">Vorkasse</option>
                                    <option value="barzahlung" data-i18n="paymentCash">Barzahlung</option>
                                    <option value="rechnung" data-i18n="paymentInvoice">Rechnung (30 Tage netto)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Info Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="additionalInfo">Zusatzinformationen</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label for="notes" data-i18n="notes">Notizen</label>
                                <textarea id="notes" name="notes" rows="3" 
                                         placeholder="Interne Notizen zum Kunden..." 
                                         data-i18n-placeholder="notesPlaceholder"></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="customField1" data-i18n="customField1">Freifeld 1</label>
                                <input type="text" id="customField1" name="customField1">
                            </div>
                            <div class="form-group">
                                <label for="customField2" data-i18n="customField2">Freifeld 2</label>
                                <input type="text" id="customField2" name="customField2">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Locations Tab -->
        <div id="locations" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="locationsTitle">Standortverwaltung</h2>
                
                <div class="customer-form">
                    <!-- Basic Location Info -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="locationOverview">Ketten√ºbersicht</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="totalLocations" data-i18n="totalLocations">Gesamtanzahl Standorte</label>
                                <input type="number" id="totalLocations" name="totalLocations" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="locationsManagementType" data-i18n="managementType">Verwaltungstyp</label>
                                <select id="locationsManagementType" name="locationsManagementType">
                                    <option value="zentral" data-i18n="centralManagement">Zentrale Verwaltung</option>
                                    <option value="dezentral" data-i18n="decentralManagement">Dezentrale Verwaltung</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Industry Specific Fields -->
                    <div id="industrySpecificSection">
                        <!-- Will be populated by JavaScript based on selected industry -->
                    </div>

                    <!-- Detailed Capture Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="detailedCapture">Detaillierte Erfassung</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="detailedLocations" name="detailedLocations" 
                                           onchange="toggleLocationDetailsTab(this.checked)">
                                    <span data-i18n="captureDetailsLabel">Standorte detailliert erfassen</span>
                                </label>
                                <p style="font-size: 0.875rem; color: var(--text-light); margin-top: 0.5rem;">
                                    <span data-i18n="captureDetailsDesc">Erfassen Sie jeden Standort einzeln mit Adresse, Ansprechpartner und spezifischen Eigenschaften.</span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Vending Concept Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="vendingConcept">Vending-Konzept</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="vendingInterest" name="vendingInterest">
                                    <span data-i18n="vendingInterestLabel">Interesse an Freshfoodz-Vending?</span>
                                </label>
                            </div>
                        </div>
                        <div id="vendingDetails" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vendingLocations" data-i18n="vendingLocations">Anzahl Standorte mit Vending</label>
                                    <input type="number" id="vendingLocations" name="vendingLocations" min="0" value="0">
                                </div>
                                <div class="form-group">
                                    <label for="vendingType" data-i18n="vendingType">Automatentyp</label>
                                    <select id="vendingType" name="vendingType">
                                        <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                        <option value="snack" data-i18n="vendingSnack">Snack-Automat</option>
                                        <option value="fresh" data-i18n="vendingFresh">Frische-Automat</option>
                                        <option value="combi" data-i18n="vendingCombi">Kombi-Automat</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Location Details Tab -->
        <div id="locationdetails" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="locationDetailsTitle">Detaillierte Standorterfassung</h2>
                
                <div class="customer-form">
                    <!-- Summary -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <p><span data-i18n="totalLocationsDetail">Erfasste Standorte:</span> <strong id="detailLocationCount">0</strong></p>
                                <p><span data-i18n="totalLocations">Gesamtanzahl Standorte:</span> <strong id="detailLocationTotal">0</strong></p>
                            </div>
                            <div class="form-group">
                                <button type="button" class="btn btn-primary" onclick="addLocationDetail()">
                                    <span data-i18n="common.addLocation">+ Standort hinzuf√ºgen</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Sync Warning -->
                    <div id="syncWarning" class="alert-box" style="display: none;">
                        <div class="alert-content">
                            <h3 data-i18n="syncWarningTitle">‚ö†Ô∏è Abweichung erkannt</h3>
                            <p data-i18n="syncWarningText">Die Anzahl und Kategorien der erfassten Standorte stimmen nicht mit den Angaben auf der Haupt-Standortseite √ºberein.</p>
                            <div id="syncWarningDetails"></div>
                        </div>
                    </div>

                    <!-- No Locations Message -->
                    <div id="noLocationsMessage" class="form-section" style="text-align: center; padding: 2rem;">
                        <p data-i18n="noLocationsYet">Noch keine Standorte erfasst.</p>
                        <p data-i18n="clickAddLocation">Klicken Sie auf "Standort hinzuf√ºgen" um zu beginnen.</p>
                    </div>

                    <!-- Location Details List -->
                    <div id="locationDetailsList">
                        <!-- Location details will be added dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Credit Check Tab -->
        <div id="creditcheck" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="creditCheckTitle">Bonit√§tspr√ºfung</h2>
                
                <div class="alert-box show">
                    <div class="alert-content">
                        <h3 data-i18n="newCustomers">Neukunden</h3>
                        <p data-i18n="creditCheckDescription">Die Bonit√§tspr√ºfung ist nur f√ºr <strong>Neukunden</strong> relevant, die auf Rechnung zahlen m√∂chten.</p>
                    </div>
                </div>
                
                <div class="customer-form">
                    <!-- Customer Info -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="creditCustomerName" data-i18n="customerName">Kundenname</label>
                                <input type="text" id="creditCustomerName" name="creditCustomerName" readonly>
                            </div>
                            <div class="form-group">
                                <label for="creditLimit" data-i18n="creditLimitLabel">Kreditlimit/Offene Posten (‚Ç¨)</label>
                                <input type="text" id="creditLimit" name="creditLimit" 
                                       oninput="formatCurrency(this)">
                            </div>
                        </div>
                    </div>

                    <!-- Company Details -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="registrationNumber" data-i18n="registrationNumber">Handelsregisternummer*</label>
                                <input type="text" id="registrationNumber" name="registrationNumber" required>
                            </div>
                            <div class="form-group">
                                <label for="vatId" data-i18n="vatId">USt-IdNr.*</label>
                                <input type="text" id="vatId" name="vatId" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="companySize" data-i18n="companySize">Unternehmensgr√∂√üe*</label>
                                <select id="companySize" name="companySize" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="small" data-i18n="companySizeSmall">Klein (bis 50 Mitarbeiter)</option>
                                    <option value="medium" data-i18n="companySizeMedium">Mittel (50-250 Mitarbeiter)</option>
                                    <option value="large" data-i18n="companySizeLarge">Gro√ü (√ºber 250 Mitarbeiter)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="paymentHistory" data-i18n="paymentHistory">Bisherige Zahlungserfahrungen</label>
                                <select id="paymentHistory" name="paymentHistory">
                                    <option value="no-info" data-i18n="paymentHistoryNoInfo">Keine Angabe</option>
                                    <option value="new" data-i18n="paymentHistoryNew">Neukunde - keine Erfahrungen</option>
                                    <option value="good" data-i18n="paymentHistoryGood">Gut - p√ºnktliche Zahlung</option>
                                    <option value="medium" data-i18n="paymentHistoryMedium">Mittel - gelegentliche Verz√∂gerungen</option>
                                    <option value="bad" data-i18n="paymentHistoryBad">Schlecht - h√§ufige Mahnungen</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Credit Status -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="checkStatus">Pr√ºfungsstatus</h3>
                        <div class="credit-status">
                            <div class="status-item">
                                <span class="status-label" data-i18n="status">Status</span>
                                <span class="status-value" data-i18n="notChecked">Nicht gepr√ºft</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label" data-i18n="creditLimit">Kreditlimit</span>
                                <span class="status-value">-</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label" data-i18n="rating">Bewertung</span>
                                <span class="status-value">-</span>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="startCreditCheck()">
                                <span data-i18n="startCreditCheck">Bonit√§tspr√ºfung starten</span>
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="requestManagementApproval()">
                                <span data-i18n="requestManagement">Anfrage an Gesch√§ftsleitung</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Tab -->
        <div id="profile" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="profileTitle">Kundenprofil</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="profileDescription">Hier werden die Kundenprofile angezeigt und verwaltet.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Offer Tab -->
        <div id="offer" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="offerTitle">Angebot erstellen</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="offerDescription">Hier k√∂nnen Sie PDF-Angebote f√ºr Ihre Kunden erstellen.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="settingsTitle">Einstellungen</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="settingsDescription">Hier k√∂nnen Sie Ihre pers√∂nlichen Daten und Standardwerte anpassen.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
# ü§ñ CRM AI Context Schnell - KI-optimiertes System-Verst√§ndnis

**üìÖ Letzte Aktualisierung:** 2025-09-21
**üéØ Zweck:** Schnelle KI-Einarbeitung in FreshFoodz B2B-Food-CRM System
**üìä Ansatz:** 80% Planungsstand + 20% Codebase-Realit√§t (Hybrid Living Document)
**ü§ñ Zielgruppe:** Externe KIs + neue Claude-Instanzen + AI-Consultants

---

## üìã **SEKTION 1: BUSINESS-CONTEXT** (15%)

### **üçÉ FreshFoodz Mission & Vision**
```yaml
UNTERNEHMEN: FreshFoodz Cook&Fresh¬Æ B2B-Food-Platform
MISSION: Digitalisierung der B2B-Lebensmittelbranche f√ºr Gastronomiebetriebe
ZIELGRUPPE: Restaurants, Hotels, Kantinen, Catering-Unternehmen (Deutschland + Schweiz)
UNIQUE-VALUE: Qualit√§ts-Premium + Seasonal-Specialties + Multi-Contact-Workflows

B2B-FOOD-KOMPLEXIT√ÑT:
  - Multi-Contact-Rollen: CHEF (Menu-Planung) + BUYER (Einkauf + Budgets)
  - Seasonal-Business: Spargel-Saison + Oktoberfest + Weihnachts-Catering
  - Territory-Management: Deutschland (EUR + 19% MwSt) + Schweiz (CHF + 7.7% MwSt)
  - Lead-Management: KEIN Gebietsschutz - deutschland-weite Lead-Verf√ºgbarkeit
```

### **üéØ Core Business Use Cases**
```yaml
LEAD-MANAGEMENT-EXCELLENCE:
  - Lead-Generierung ohne territoriale Einschr√§nkungen
  - Multi-Contact-Workflows f√ºr komplexe Gastronomiebetriebe
  - T+3 Sample-Follow-up + T+7 Bulk-Order-Automation
  - ROI-Calculator f√ºr Business-Value-Demonstration

CUSTOMER-RELATIONSHIP-MANAGEMENT:
  - Multi-Location-Kunden mit verschiedenen Standorten
  - CHEF/BUYER parallele Kommunikation + Workflow-Management
  - Seasonal Campaign-Management (Spargel/Oktoberfest/Weihnachten)
  - Sample-Management + Feedback-Integration

BUSINESS-INTELLIGENCE + PERFORMANCE:
  - Real-time Business-KPIs + Territory-Performance
  - Pipeline-Analytics + Conversion-Tracking
  - Seasonal-Trends + Regional-Insights
  - ROI-Tracking + Cost-per-Lead Optimization
```

### **üí∞ ROI-Fokus & Competitive Advantage**
```yaml
BUSINESS-VALUE-DRIVERS:
  - +40% Lead-Conversion durch T+3/T+7 Follow-up-Automation
  - +25% Sample-Success-Rate durch systematisches Feedback-Management
  - 30-60% Cost-Reduction durch Territory + Seasonal-aware Infrastructure-Scaling
  - Industry-First B2B-Food-CRM mit Seasonal-Intelligence + Multi-Contact-Excellence

COMPETITIVE-DIFFERENTIATORS:
  - CAR-Strategy Help-System (Calibrated Assistive Rollout) - weltweit einzigartig
  - Territory + Seasonal-aware Autoscaling f√ºr B2B-Food-Patterns
  - 5-Level Settings-Hierarchie f√ºr komplexe Gastronomiebetrieb-Requirements
  - CQRS Light Architecture f√ºr Performance + Cost-Efficiency
```

---

## üèóÔ∏è **SEKTION 2: SYSTEM-ARCHITEKTUR-VISION** (35%)

### **üìä 8-Module CRM-Ecosystem √úbersicht**
```yaml
MODULE-STRUKTUR (Business-Value-orientiert):

üè† MODUL 01 - MEIN COCKPIT (Dashboard + ROI):
  Purpose: Personalisierte Dashboards + ROI-Calculator + Territory-Performance
  Status: ‚úÖ 44 Production-Ready Artefakte - Enterprise-Assessment A+ (95/100)
  Key-Features: Real-time Widgets + Hot-Projections + Territory-Intelligence

üîç MODUL 02 - NEUKUNDENGEWINNUNG (Lead-Management):
  Purpose: Lead-Capture + Multi-Contact-Workflows + Sample-Management
  Status: ‚úÖ PRODUCTION-READY - Lead-Protection + Territory-Management
  Key-Features: KEIN Gebietsschutz + T+3/T+7 Automation + Multi-Contact-B2B

üë• MODUL 03 - KUNDENMANAGEMENT (Customer-Relations):
  Purpose: Customer-Lifecycle + Multi-Location + Relationship-Management
  Status: ‚úÖ PRODUCTION-READY - Field-based Architecture + ABAC-Security
  Key-Features: Dynamic Customer-Schema + Multi-Contact-Support + Territory-RLS

üìä MODUL 04 - AUSWERTUNGEN (Business-Intelligence):
  Purpose: Analytics + Reporting + Business-KPIs + Performance-Tracking
  Status: ‚úÖ PRODUCTION-READY - Advanced Analytics + Territory-Insights
  Key-Features: Real-time Dashboards + Seasonal-Trends + Cross-Module-KPIs

üìß MODUL 05 - KOMMUNIKATION (Omni-Channel):
  Purpose: Email + Sample-Follow-up + Multi-Contact-Communication
  Status: ‚úÖ PRODUCTION-READY - Enterprise Email-Engine + SLA-Automation
  Key-Features: Thread/Message/Outbox-Pattern + T+3/T+7 + Territory-Compliance

‚öôÔ∏è MODUL 06 - EINSTELLUNGEN (Settings-Platform):
  Purpose: Enterprise Settings-Engine + Territory-Management + Business-Rules
  Status: ‚úÖ 99% PRODUCTION-READY - 4 Weltklasse Technical Concepts (9.9-10/10)
  Key-Features: 5-Level Scope-Hierarchie + Seasonal-Rules + Multi-Contact-Settings

üÜò MODUL 07 - HILFE & SUPPORT (CAR-Innovation):
  Purpose: AI-assistierte Hilfe + Struggle-Detection + Guided-Workflows
  Status: ‚úÖ 95% PRODUCTION-READY - CAR-Strategy + 25 AI-Artefakte (9.4/10)
  Key-Features: Calibrated Assistive Rollout + Follow-Up T+3/T+7 + ROI-Calculator

üèõÔ∏è MODUL 08 - ADMINISTRATION (Enterprise-Admin):
  Purpose: Security + Compliance + Multi-Tenancy + External-Integrations
  Status: ‚úÖ 100% PLANNING COMPLETE - 76 Production-Ready Artefakte (9.6/10)
  Key-Features: ABAC + Risk-Tiered-Approvals + AI/ERP-Integrations + DSGVO
```

### **üèóÔ∏è Infrastructure Layer (Modul 00)**
```yaml
INFRASTRUCTURE-FOUNDATION:

00.1 - INTEGRATION (API-Gateway + Event-Driven):
  Status: ‚úÖ 95% PRODUCTION-READY - Enterprise Integration Architecture
  Pattern: CQRS Light + PostgreSQL LISTEN/NOTIFY + Kong/Envoy Gateway
  Features: Settings-Sync-Job + Event-Schemas + Gateway-Policies

00.2 - LEISTUNG (Performance + Optimization):
  Status: ‚úÖ PRODUCTION-READY - Performance-Engineering + Optimization
  Pattern: Hot-Projections + ETag-Caching + Query-Optimization + Bundle-Splitting
  Features: <200ms P95 + Database-Optimization + Frontend-Performance

00.3 - SKALIERUNG (Territory + Seasonal-Autoscaling):
  Status: ‚úÖ 98% PRODUCTION-READY - Territory + Seasonal-aware KEDA-Scaling
  Pattern: KEDA + Prometheus + Territory-Labels + Seasonal-Intelligence
  Features: Bayern-Oktoberfest + BW-Spargel + Weihnachts-Scaling (5x Load)

00.4 - BETRIEB (Operations-Excellence):
  Status: ‚úÖ 95% PRODUCTION-READY - External AI Operations-Pack (9.5/10)
  Pattern: User-Lead-Protection + Seasonal-Operations + Business-KPIs
  Features: 6M+60T+10T State-Machine + Seasonal-Playbooks + Monitoring
```

### **üîó Integration-Patterns & Performance-Targets**
```yaml
ARCHITECTURE-PATTERNS:

CQRS LIGHT (Cost-Efficient Event-Driven):
  Commands: Write-Services mit PostgreSQL LISTEN/NOTIFY
  Queries: Read-Services mit Hot-Projections + ETag-Caching
  Benefits: One-Database-Architecture + <200ms P95 + Cost-Efficiency

TERRITORY + SEASONAL-INTELLIGENCE:
  Territory-RLS: Deutschland/Schweiz Row-Level-Security + Multi-Tenancy
  Seasonal-Scaling: Spargel (2x) + Oktoberfest (4x) + Weihnachten (5x) Load-Patterns
  Business-Rules: Currency + Tax + Seasonal-Windows + Regional-Specialties

MULTI-CONTACT-B2B-ARCHITECTURE:
  CHEF-Workflows: Menu-Planung + Quality-Focus + Seasonal-Preferences
  BUYER-Workflows: Einkauf + Budget-Management + Cost-Optimization
  Parallel-Processing: Independent CHEF/BUYER Workflows mit Shared-Customer-Data

PERFORMANCE-TARGETS:
  API-Response: <200ms P95 (Critical Path)
  Database-Queries: <50ms (Hot-Projections)
  Frontend-Bundle: <200KB (Mobile-Optimized)
  Availability: >99.9% (Enterprise-SLA)
```

---

## ‚öôÔ∏è **SEKTION 3: TECHNICAL IMPLEMENTATION REALITY** (20%)

### **üõ†Ô∏è Current Tech-Stack**
```yaml
BACKEND-STACK:
  Framework: Quarkus 3.x (Java 21 + GraalVM Native-ready)
  Database: PostgreSQL 15+ mit Row-Level-Security (RLS) + JSONB + LISTEN/NOTIFY
  Security: Keycloak OIDC + ABAC (Attribute-based Access Control)
  Testing: JUnit 5 + Testcontainers + RestAssured + >80% Coverage-Target

FRONTEND-STACK:
  Framework: React 18 + TypeScript + Vite (Bundle <200KB Target)
  UI-Library: MUI v5 (Material-UI) mit FreshFoodz Corporate Design
  State: React Query + Context (KEIN Redux - zu heavy f√ºr unsere Needs)
  Testing: Vitest + React Testing Library + >80% Coverage-Target

INFRASTRUCTURE:
  Containerization: Docker + Kubernetes mit KEDA-Autoscaling
  Monitoring: Prometheus + Grafana + Micrometer-Metrics
  CI/CD: GitHub Actions + Flyway-Migrations + Quality-Gates
  Cloud: AWS-ready (ECS Fargate + RDS + CloudFront)

DEVELOPMENT-TOOLS:
  Build: Maven (Backend) + npm/Vite (Frontend)
  Code-Quality: SonarCloud + SpotBugs + ESLint + Prettier
  Migration: Flyway f√ºr Database-Schema-Evolution
  Documentation: OpenAPI 3.1 + ADRs (Architecture Decision Records)
```

### **üìÅ Codebase-Structure Reality**
```yaml
PROJECT-STRUCTURE:
/backend
  /modules              # Modular-Monolith-Architecture
    /customer           # Module 03 - Customer-Management
      /core             # Domain-Logic (Pure Business)
      /api              # REST-Controllers + DTOs
      /infrastructure   # Database + External-Services
    /communication      # Module 05 - Email + Sample-Follow-up
    /settings           # Module 06 - Settings-Core-Engine
  /legacy               # Legacy-Code (Migration ongoing)
  /shared               # Cross-Module Utilities + Security

/frontend
  /src
    /components         # Reusable UI-Components
    /features           # Feature-specific Components
    /services           # API-Clients + Business-Logic
    /types              # TypeScript Type-Definitions
  /legacy               # Legacy-Frontend (Migration ongoing)

/docs/planung           # Comprehensive Planning-Documentation
  /features-neu         # Module 01-08 Technical-Concepts
  /claude-work          # Daily-Work + Implementation-Logs
  /grundlagen           # Foundation-Documents (Standards/Patterns)
```

### **üîå API-Patterns & Database-Schema Reality**
```yaml
REST-API-PATTERNS:
  Standard: OpenAPI 3.1 + RFC7807 Problem-Details + ETag-Caching
  Authentication: Bearer-Token (Keycloak JWT) + ABAC-Claims
  Pagination: Offset/Limit + Total-Count-Headers
  Filtering: Query-Parameters + RSQL-Support f√ºr komplexe Filters
  Example: GET /api/customers?territory=DE&status=ACTIVE&page=0&size=20

DATABASE-PATTERNS:
  Primary-Keys: UUID v7 (Time-ordered f√ºr Performance)
  Multi-Tenancy: Row-Level-Security (RLS) + territory_id Column
  JSONB-Usage: Customer-Fields + Settings + Communication-Metadata
  Migrations: Flyway V-numbered + R-repeatable f√ºr Data-Migrations
  Example-Table: customers (id, territory_id, base_fields JSONB, custom_fields JSONB)

SECURITY-IMPLEMENTATION:
  RLS-Policy: CREATE POLICY customers_tenant ON customers USING (territory_id = current_setting('app.territory_id'))
  ABAC-Check: @PreAuthorize("hasPermission(#territoryId, 'CUSTOMER', 'READ')")
  Audit-Trail: created_at + updated_at + created_by + updated_by (automatisch)
```

---

## üéØ **SEKTION 4: DEVELOPMENT-PATTERNS** (30%)

### **üìù Code-Standards & Architecture-Decisions**
```yaml
CODING-STANDARDS (aus CLAUDE.md):
  Line-Length: 80-100 Zeichen max (Readability √ºber Cleverness)
  Naming: PascalCase (Classes) + camelCase (Methods) + UPPER_SNAKE (Constants)
  Comments: KEINE Comments au√üer JavaDoc/JSDoc (Code soll self-explanatory sein)
  Git-Commits: Conventional Commits (feat:/fix:/chore:) + Detailed Descriptions

ARCHITECTURE-DECISIONS (ADRs):
  Modular-Monolith: Modules statt Microservices f√ºr Development-Velocity + Simplicity
  CQRS-Light: PostgreSQL LISTEN/NOTIFY statt Event-Bus f√ºr Cost-Efficiency
  RLS-Security: Database-Level Security statt Application-Level f√ºr Performance
  React-Query: Server-State-Management statt Redux f√ºr Caching + Simplicity

QUALITY-GATES:
  Test-Coverage: ‚â•80% (Unit + Integration + E2E)
  Security-Scans: SonarCloud + Dependabot + OWASP-ZAP
  Performance: API <200ms P95 + Bundle <200KB + Lighthouse >90
  Code-Review: Two-Pass (Spotless Auto-Format + Strategic Review)
```

### **üèóÔ∏è Business-Logic-Patterns**
```yaml
DOMAIN-DRIVEN-DESIGN:
  Entities: Rich-Domain-Models mit Business-Logic (nicht Anemic)
  Value-Objects: Territory, Currency, Email-Address f√ºr Type-Safety
  Services: Business-Logic-Services f√ºr Cross-Entity-Operations
  Repositories: Database-Access-Layer mit ABAC + RLS-Integration

B2B-FOOD-BUSINESS-PATTERNS:
  Multi-Contact-Entity: Customer hat multiple Contacts mit Roles (CHEF/BUYER)
  Territory-Scoping: Alle Entities haben territory_id f√ºr RLS + Multi-Tenancy
  Seasonal-Logic: Business-Rules-Engine f√ºr Spargel/Oktoberfest/Weihnachten
  Lead-Management: KEIN Gebietsschutz - deutschland-weite Lead-Verf√ºgbarkeit

COMMUNICATION-PATTERNS:
  Thread/Message/Outbox: Enterprise-Email-Management mit Reliability
  Sample-Follow-up: T+3/T+7 Automation mit SLA-Engine
  Activity-Tracking: Cross-Module-Events f√ºr Customer-Timeline
  Audit-Trail: Complete Change-History f√ºr Compliance + Legal-Requirements

SETTINGS-PATTERNS:
  5-Level-Scope-Hierarchy: GLOBAL‚ÜíTENANT‚ÜíTERRITORY‚ÜíACCOUNT‚ÜíCONTACT_ROLE
  JSON-Schema-Validation: Runtime-Validation + Type-Safety + Evolution
  Cache-Layer: L1 Memory + ETag + LISTEN/NOTIFY f√ºr <50ms Performance
  Business-Rules-Engine: Territory + Seasonal + Role-specific Logic
```

### **üß™ Testing-Approach & Performance-Optimization**
```yaml
TESTING-PYRAMID:
  Unit-Tests (70%): Business-Logic + Domain-Models mit Mockito + AssertJ
  Integration-Tests (20%): API-Layer + Database mit Testcontainers + RestAssured
  E2E-Tests (10%): Critical-User-Journeys mit Playwright + Real-Database

TESTING-PATTERNS:
  Given-When-Then: BDD-Style f√ºr Readability + Business-Alignment
  Test-Data-Builders: Fluent-APIs f√ºr Test-Data-Creation + Maintainability
  Contract-Testing: OpenAPI-Schema-Validation f√ºr API-Compatibility
  Performance-Testing: k6-Load-Tests f√ºr P95-Targets + Scalability

PERFORMANCE-OPTIMIZATION:
  Database: Hot-Projections + GIN-Indexes + Partitioning + Query-Optimization
  Caching: ETag-HTTP-Caching + L1-Memory-Cache + CDN f√ºr Static-Assets
  Frontend: Code-Splitting + Lazy-Loading + Bundle-Optimization + Tree-Shaking
  API: Response-Compression + Parallel-Queries + Efficient-Pagination

MONITORING & OBSERVABILITY:
  Metrics: Micrometer + Prometheus (Golden-Signals: Latency/Traffic/Errors/Saturation)
  Tracing: OpenTelemetry f√ºr Distributed-Tracing + Performance-Analysis
  Logging: Structured-JSON-Logs + Correlation-IDs + Log-Aggregation
  Health-Checks: Custom-Health-Indicators f√ºr Business-Logic + Dependencies
```

---

## üéñÔ∏è **QUICK-REFERENCE: MODUL-STATUS-MATRIX**

```yaml
PLANNING-COMPLETE (Ready f√ºr Implementation):
  ‚úÖ Modul 01 Mein-Cockpit: 44 Artefakte (A+ Enterprise-Assessment)
  ‚úÖ Modul 02 Neukundengewinnung: Lead-Protection + Territory-Management
  ‚úÖ Modul 03 Kundenmanagement: Field-based Architecture + ABAC-Security
  ‚úÖ Modul 04 Auswertungen: Advanced Analytics + Territory-Insights
  ‚úÖ Modul 05 Kommunikation: Enterprise Email-Engine + SLA-Automation
  ‚úÖ Modul 06 Einstellungen: 4 Weltklasse Technical-Concepts (9.9-10/10)
  ‚úÖ Modul 07 Hilfe-Support: CAR-Strategy + 25 AI-Artefakte (9.4/10)
  ‚úÖ Modul 08 Administration: 76 Artefakte + Phasen-Architecture (9.6/10)

INFRASTRUCTURE-READY:
  ‚úÖ Integration: API-Gateway + Event-Driven (95% Ready)
  ‚úÖ Leistung: Performance-Engineering + Optimization (Ready)
  ‚úÖ Skalierung: Territory + Seasonal-Autoscaling (98% Ready)
  ‚úÖ Betrieb: Operations-Excellence + Monitoring (95% Ready)

IMPLEMENTATION-PRIORITIES:
  P0: Infrastructure Foundation-Deployment (Integration + Leistung)
  P1: Core-Business-Modules (Cockpit + Neukundengewinnung + Kundenmanagement)
  P2: Communication + Analytics (Kommunikation + Auswertungen)
  P3: Platform-Services (Einstellungen + Hilfe + Administration)
```

---

## ü§ñ **KI-ARBEITSHINWEISE**

### **F√ºr neue Claude-Instanzen:**
- **Sofort produktiv:** Alle Module haben detaillierte Technical-Concepts + Artefakte
- **Implementation-ready:** Copy-Paste-Code verf√ºgbar, nur Integration + Testing required
- **Business-Context:** B2B-Food-Komplexit√§t verstanden, KEIN Gebietsschutz beachten
- **Quality-Standards:** Code-Standards aus CLAUDE.md + Planungsmethodik.md befolgen

### **F√ºr externe KI-Consultants:**
- **Strategic Vision:** 8-Module-Ecosystem f√ºr B2B-Food-CRM mit Territory + Seasonal-Intelligence
- **Technical Innovation:** CQRS Light + CAR-Strategy + 5-Level-Settings + Risk-Tiered-Approvals
- **Business Value:** Lead-Conversion + Sample-Success + Cost-Optimization + Competitive-Advantage
- **Integration-Points:** Cross-Module-Events + Settings-as-a-Service + Help-as-a-Service

### **Critical Success Factors:**
1. **Performance:** <200ms P95 API + <50ms Settings + >99.9% Availability
2. **Security:** ABAC + RLS + Territory-Scoping + DSGVO-Compliance
3. **Business-Logic:** Multi-Contact-B2B + Seasonal-Intelligence + KEIN Gebietsschutz
4. **User-Experience:** CAR-Help-System + Real-time-Dashboards + Mobile-Optimized

---

**üéØ Dieses Dokument gibt jeder KI das vollst√§ndige FreshFoodz B2B-Food-CRM System-Verst√§ndnis f√ºr sofortige Produktivit√§t!**
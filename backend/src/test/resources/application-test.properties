# Test-specific configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=freshplan
quarkus.datasource.password=freshplan

# Set CI flag for test migrations via JDBC URL
# This sets the PostgreSQL session variable 'ci.build' to 'true'
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/freshplan?options=-c%20ci.build%3Dtrue

# Flyway configuration for test
quarkus.flyway.migrate-at-start=true
quarkus.flyway.clean-at-start=false
quarkus.flyway.repair-at-start=true

# Alternative: Set via Flyway init SQL (backup if JDBC URL doesn't work)
quarkus.flyway.init-sql=SET ci.build = 'true';

# Logging
quarkus.log.level=INFO
quarkus.log.category."de.freshplan".level=DEBUG
quarkus.log.category."org.flywaydb".level=DEBUG
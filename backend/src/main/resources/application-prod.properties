# Production Profile Configuration (Sprint 1.4)

# Explizite Prod-Defaults (Sprint 1.4 Quick Win)
app.default.org-id=freshfoodz
app.default.territory=DE

# Settings cache in Prod (Sprint 1.4)
quarkus.cache.caffeine."settings-cache".maximum-size=20000
quarkus.cache.caffeine."settings-cache".expire-after-write=10M

# Database Configuration (Production)
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.jdbc.url=${DB_URL:jdbc:postgresql://localhost:5432/freshfoodz}
%prod.quarkus.datasource.username=${DB_USER:freshfoodz}
%prod.quarkus.datasource.password=${DB_PASSWORD}

# Logging Configuration (Production)
%prod.quarkus.log.level=INFO
%prod.quarkus.log.category."de.freshplan".level=INFO
%prod.quarkus.log.category."org.hibernate.SQL".level=WARN

# CORS (Production - stricter)
%prod.quarkus.http.cors.origins=https://freshfoodz.de,https://www.freshfoodz.de
%prod.quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
%prod.quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with,x-csrf-token
%prod.quarkus.http.cors.exposed-headers=location,etag
%prod.quarkus.http.cors.access-control-allow-credentials=true

# Security Headers (Production)
%prod.quarkus.http.header."X-Frame-Options".value=DENY
%prod.quarkus.http.header."X-Content-Type-Options".value=nosniff
%prod.quarkus.http.header."Referrer-Policy".value=strict-origin-when-cross-origin
%prod.quarkus.http.header."Content-Security-Policy".value=default-src 'self'; script-src 'self'; style-src 'self'
%prod.quarkus.http.header."Strict-Transport-Security".value=max-age=31536000; includeSubDomains

# JWT/OIDC Configuration (Production)
%prod.quarkus.oidc.auth-server-url=${OIDC_AUTH_SERVER_URL:https://auth.freshfoodz.de/realms/freshfoodz}
%prod.quarkus.oidc.client-id=${OIDC_CLIENT_ID:freshplan-api}
%prod.quarkus.oidc.credentials.secret=${OIDC_CLIENT_SECRET}
%prod.smallrye.jwt.sign.key.location=${JWT_SIGN_KEY_LOCATION:/etc/freshplan/jwt-private.pem}
%prod.mp.jwt.verify.publickey.location=${JWT_VERIFY_KEY_LOCATION:/etc/freshplan/jwt-public.pem}
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreshPlan Sales Tool</title>
    
    <!-- Vite Module Script -->
    <script type="module" src="/src/main.ts"></script>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <img src="/assets/images/freshfoodzlogo.png" alt="FreshFoodz Logo" style="height: 50px; margin-right: 1rem;">
                <div>
                    <h1>FreshPlan</h1>
                    <span class="logo-tagline" data-i18n="tagline">So einfach, schnell und lecker!</span>
                </div>
            </div>
            <div class="header-actions">
                <select id="languageSelect" class="header-select" onchange="changeLanguage(this.value)">
                    <option value="de" data-i18n="languageDE">Deutsch</option>
                    <option value="en" data-i18n="languageEN">English</option>
                </select>
                <button class="header-btn header-btn-clear" onclick="handleClearForm()">
                    <span data-i18n="common.clearForm">Formular leeren</span>
                </button>
                <button class="header-btn header-btn-save" onclick="handleSaveForm()">
                    <span data-i18n="common.save">Speichern</span>
                </button>
            </div>
        </div>
    </header>

    <nav class="nav">
        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="calculator" role="tab" aria-selected="true">
                <span data-i18n="calculator">Rabattrechner</span>
            </button>
            <button class="nav-tab" data-tab="customer" role="tab" aria-selected="false">
                <span data-i18n="customer">Kundendaten</span>
            </button>
            <button class="nav-tab" data-tab="locations" role="tab" aria-selected="false" style="display: none;">
                <span data-i18n="locations">Standorte</span>
            </button>
            <button class="nav-tab" data-tab="locationdetails" role="tab" aria-selected="false" style="display: none;">
                <span data-i18n="locationDetails">Standort-Details</span>
            </button>
            <button class="nav-tab" data-tab="creditcheck" role="tab" aria-selected="false">
                <span data-i18n="creditcheck">Bonit√§tspr√ºfung</span>
            </button>
            <button class="nav-tab" data-tab="profile" role="tab" aria-selected="false">
                <span data-i18n="profile">Profil</span>
            </button>
            <button class="nav-tab" data-tab="offer" role="tab" aria-selected="false">
                <span data-i18n="offer">Angebot</span>
            </button>
            <button class="nav-tab" data-tab="settings" role="tab" aria-selected="false">
                <span data-i18n="settings">Einstellungen</span>
            </button>
        </div>
    </nav>

    <div class="container">
        <!-- Calculator Tab -->
        <div id="calculator" class="tab-panel active">
            <div class="demonstrator-container">
                <!-- Calculator Section -->
                <div class="calculator-section">
                    <h2 class="section-title" data-i18n="calculatorTitle">FreshPlan Rabattrechner</h2>
                    
                    <!-- Order Value Slider -->
                    <div class="slider-group">
                        <div class="slider-label">
                            <span data-i18n="orderValue">Bestellwert</span>
                            <span class="slider-value" id="orderValueDisplay">‚Ç¨15.000</span>
                        </div>
                        <input type="range" id="orderValue" class="slider" 
                               min="1000" max="100000" step="1000" value="15000" 
                               oninput="updateCalculator()">
                    </div>
                    
                    <!-- Lead Time Slider -->
                    <div class="slider-group">
                        <div class="slider-label">
                            <span data-i18n="leadTime">Vorlaufzeit</span>
                            <span class="slider-value" id="leadTimeDisplay">14 Tage</span>
                        </div>
                        <input type="range" id="leadTime" class="slider" 
                               min="1" max="30" step="1" value="14" 
                               oninput="updateCalculator()">
                    </div>
                    
                    <!-- Pickup Checkbox -->
                    <div class="checkbox-label">
                        <input type="checkbox" id="pickupToggle" class="checkbox" onchange="updateCalculator()">
                        <span data-i18n="pickup">Abholung (Mindestbestellwert: 5.000‚Ç¨ netto)</span>
                    </div>
                    
                    <!-- Results -->
                    <div class="results-container">
                        <div class="result-grid">
                            <div class="result-item">
                                <span class="result-label" data-i18n="baseDiscount">Basisrabatt</span>
                                <span class="result-value" id="baseDiscount">6%</span>
                            </div>
                            <div class="result-item">
                                <span class="result-label" data-i18n="earlyDiscount">Fr√ºhbucher</span>
                                <span class="result-value" id="earlyDiscount">1%</span>
                            </div>
                            <div class="result-item">
                                <span class="result-label" data-i18n="pickupDiscount">Abholung</span>
                                <span class="result-value" id="pickupDiscount">0%</span>
                            </div>
                        </div>
                        
                        <div class="total-discount">
                            <span data-i18n="totalDiscount">Gesamtrabatt</span>
                            <span class="total-value" id="totalDiscount">7%</span>
                        </div>
                        
                        <div class="savings-display">
                            <div class="savings-item">
                                <span data-i18n="savings">Ersparnis</span>
                                <span class="savings-value" id="discountAmount">‚Ç¨1.050</span>
                            </div>
                            <div class="savings-item highlight">
                                <span data-i18n="finalPrice">Endpreis</span>
                                <span class="savings-value" id="finalPrice">‚Ç¨13.950</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Info Section -->
                <div class="info-section">
                    <!-- Discount System Info -->
                    <div class="info-card">
                        <div class="info-header">
                            <h3 data-i18n="discountSystem">FreshPlan-Rabattsystem</h3>
                        </div>
                        <div class="info-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <h4 style="font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--primary-blue);" data-i18n="baseDiscount">Basisrabatt</h4>
                                <table style="width: 100%; font-size: 0.813rem; border-collapse: collapse;">
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0; width: auto;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace; width: 4rem;">5.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">3%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">15.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">6%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">30.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">8%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">50.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">9%</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.25rem 0 0.25rem 0;" data-i18n="from">ab</td>
                                        <td style="text-align: right; padding: 0.25rem 0 0.25rem 0.25rem; font-family: monospace;">75.000‚Ç¨</td>
                                        <td style="text-align: right; font-weight: 600; padding: 0.25rem 0 0.25rem 1rem;">10%</td>
                                    </tr>
                                </table>
                            </div>
                            <div>
                                <h4 style="font-size: 0.875rem; margin-bottom: 0.5rem; color: var(--primary-blue);" data-i18n="earlyBookingDiscount">Fr√ºhbucherrabatt</h4>
                                <table style="width: 100%; font-size: 0.813rem; border-collapse: collapse;">
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from10days">ab 10 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">1%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from15days">ab 15 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">2%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;" data-i18n="from30days">ab 30 Tage</td>
                                        <td style="text-align: right; font-weight: 600;">3%</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border-light);">
                                        <td style="padding: 0.25rem 0;">&nbsp;</td>
                                        <td style="text-align: right; font-weight: 600;">&nbsp;</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: 0.25rem 0;" data-i18n="pickup">Abholung</td>
                                        <td style="text-align: right; font-weight: 600;">2%</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 0.75rem; padding-top: 0.75rem; border-top: 2px solid var(--primary-green);">
                            <strong style="color: var(--primary-green); font-size: 0.9rem;" data-i18n="maxTotalDiscount">Maximaler Gesamtrabatt: 15%</strong>
                        </div>
                    </div>
                    
                    <!-- Chain Customer Info -->
                    <div class="info-card">
                        <div class="info-header">
                            <h3 data-i18n="chainCustomerRegulation">Kettenkundenregelung</h3>
                        </div>
                        <p data-i18n="chainCustomerDesc">F√ºr Unternehmen mit mehreren Standorten (z.B. Hotel- oder Klinikgruppen):</p>
                        <ul style="margin-left: 1rem;">
                            <li><strong data-i18n="optionA">Option A:</strong> <span data-i18n="optionADesc">Bestellungen verschiedener Standorte innerhalb einer Woche werden zusammengerechnet</span></li>
                            <li><strong data-i18n="optionB">Option B:</strong> <span data-i18n="optionBDesc">Zentrale Bestellung mit Mehrfachauslieferung</span></li>
                        </ul>
                    </div>
                    
                    <!-- Example Scenarios -->
                    <div class="info-card" style="background: rgba(148, 196, 86, 0.1); border: 1px solid rgba(148, 196, 86, 0.3);">
                        <div class="info-header">
                            <h3 style="color: var(--primary-green);" data-i18n="exampleScenarios">Beispielszenarien</h3>
                        </div>
                        <div class="examples-container" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 1rem;">
                            <div class="example-item" onclick="loadExample('hotel')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">üè® <span data-i18n="hotelChain">Hotelkette</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">35.000 ‚Ç¨</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="21days">21 Tage</span> ‚Ä¢ <span data-i18n="pickup">Abholung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">12% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                            <div class="example-item" onclick="loadExample('klinik')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">üè• <span data-i18n="clinicGroup">Klinikgruppe</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">65.000 ‚Ç¨</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="30days">30 Tage</span> ‚Ä¢ <span data-i18n="delivery">Lieferung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">12% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                            <div class="example-item" onclick="loadExample('restaurant')" style="cursor: pointer; padding: 1rem; background: white; border-radius: 8px; transition: all 0.3s; border: 2px solid var(--border-light); text-align: center;">
                                <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem; font-size: 1rem;">üçΩÔ∏è <span data-i18n="restaurant">Restaurant</span></h4>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);">8.500 ‚Ç¨</p>
                                <p style="margin: 0.25rem 0; font-size: 0.813rem; color: var(--text-dark);"><span data-i18n="14days">14 Tage</span> ‚Ä¢ <span data-i18n="pickup">Abholung</span></p>
                                <p style="margin: 0.5rem 0 0 0; color: var(--primary-green); font-weight: 700; font-size: 1.1rem;">6% <span data-i18n="discount">Rabatt</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Tab -->
        <div id="customer" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="customerTitle">Kundendaten erfassen</h2>
                
                <form id="customerForm" class="customer-form">
                    <!-- Basic Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="basicData">Grunddaten</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="companyName" data-i18n="companyName">Firmenname*</label>
                                <input type="text" id="companyName" name="companyName" required>
                            </div>
                            <div class="form-group">
                                <label for="legalForm" data-i18n="legalForm">Rechtsform*</label>
                                <select id="legalForm" name="legalForm" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="gmbh" data-i18n="legalFormGmbH">GmbH</option>
                                    <option value="ag" data-i18n="legalFormAG">AG</option>
                                    <option value="gbr" data-i18n="legalFormGbR">GbR</option>
                                    <option value="einzelunternehmen" data-i18n="legalFormEinzel">Einzelunternehmen</option>
                                    <option value="kg" data-i18n="legalFormKG">KG</option>
                                    <option value="ohg" data-i18n="legalFormOHG">OHG</option>
                                    <option value="ug" data-i18n="legalFormUG">UG</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="customerType" data-i18n="customerType">Kundentyp*</label>
                                <select id="customerType" name="customerType" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="neukunde" data-i18n="newCustomer">Neukunde</option>
                                    <option value="bestandskunde" data-i18n="existingCustomer">Bestandskunde</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="industry" data-i18n="industry">Branche*</label>
                                <select id="industry" name="industry" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="hotel" data-i18n="industryHotel">Hotel</option>
                                    <option value="krankenhaus" data-i18n="industryHospital">Klinik</option>
                                    <option value="seniorenresidenz" data-i18n="industryNursingHome">Seniorenresidenz</option>
                                    <option value="betriebsrestaurant" data-i18n="industryCafeteria">Betriebsrestaurant</option>
                                    <option value="restaurant" data-i18n="industryRestaurant">Restaurant</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="chainCustomer" data-i18n="chainCustomer">Kettenkunde</label>
                                <select id="chainCustomer" name="chainCustomer">
                                    <option value="nein" data-i18n="no">Nein</option>
                                    <option value="ja" data-i18n="yes">Ja</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="customerNumber" data-i18n="customerNumberInternal">Kundennummer (intern)</label>
                                <input type="text" id="customerNumber" name="customerNumber">
                            </div>
                        </div>
                    </div>

                    <!-- Address Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="addressData">Adressdaten</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label for="street" data-i18n="streetAndNumber">Stra√üe und Hausnummer*</label>
                                <input type="text" id="street" name="street" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="postalCode" data-i18n="postalCode">PLZ*</label>
                                <input type="text" id="postalCode" name="postalCode" required maxlength="5">
                            </div>
                            <div class="form-group">
                                <label for="city" data-i18n="city">Ort*</label>
                                <input type="text" id="city" name="city" required>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Person Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="contactPerson">Ansprechpartner</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contactName" data-i18n="contactName">Name*</label>
                                <input type="text" id="contactName" name="contactName" required>
                            </div>
                            <div class="form-group">
                                <label for="contactPosition" data-i18n="contactPosition">Position</label>
                                <input type="text" id="contactPosition" name="contactPosition">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="contactPhone" data-i18n="contactPhone">Telefon*</label>
                                <input type="tel" id="contactPhone" name="contactPhone" required>
                            </div>
                            <div class="form-group">
                                <label for="contactEmail" data-i18n="contactEmail">E-Mail*</label>
                                <input type="email" id="contactEmail" name="contactEmail" required>
                            </div>
                        </div>
                    </div>

                    <!-- Business Data Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="businessData">Gesch√§ftsdaten</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="expectedVolume" data-i18n="expectedAnnualVolume">Erwartetes Jahresvolumen (‚Ç¨)*</label>
                                <input type="text" id="expectedVolume" name="expectedVolume" required 
                                       placeholder="z.B. 500.000" data-i18n-placeholder="volumePlaceholder"
                                       oninput="formatCurrency(this)">
                            </div>
                            <div class="form-group">
                                <label for="paymentMethod" data-i18n="paymentMethod">Zahlungsart*</label>
                                <select id="paymentMethod" name="paymentMethod" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="vorkasse" data-i18n="paymentPrepayment">Vorkasse</option>
                                    <option value="barzahlung" data-i18n="paymentCash">Barzahlung</option>
                                    <option value="rechnung" data-i18n="paymentInvoice">Rechnung (30 Tage netto)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Additional Info Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="additionalInfo">Zusatzinformationen</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label for="notes" data-i18n="notes">Notizen</label>
                                <textarea id="notes" name="notes" rows="3" 
                                         placeholder="Interne Notizen zum Kunden..." 
                                         data-i18n-placeholder="notesPlaceholder"></textarea>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="customField1" data-i18n="customField1">Freifeld 1</label>
                                <input type="text" id="customField1" name="customField1">
                            </div>
                            <div class="form-group">
                                <label for="customField2" data-i18n="customField2">Freifeld 2</label>
                                <input type="text" id="customField2" name="customField2">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Locations Tab -->
        <div id="locations" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="locationsTitle">Standortverwaltung</h2>
                
                <div class="customer-form">
                    <!-- Basic Location Info -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="locationOverview">Ketten√ºbersicht</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="totalLocations" data-i18n="totalLocations">Gesamtanzahl Standorte</label>
                                <input type="number" id="totalLocations" name="totalLocations" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="locationsManagementType" data-i18n="managementType">Verwaltungstyp</label>
                                <select id="locationsManagementType" name="locationsManagementType">
                                    <option value="zentral" data-i18n="centralManagement">Zentrale Verwaltung</option>
                                    <option value="dezentral" data-i18n="decentralManagement">Dezentrale Verwaltung</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Industry Specific Fields -->
                    <div id="industrySpecificSection">
                        <!-- Will be populated by JavaScript based on selected industry -->
                    </div>

                    <!-- Detailed Capture Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="detailedCapture">Detaillierte Erfassung</h3>
                        <div class="form-row">
                            <div class="form-group" style="grid-column: span 2;">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="detailedLocations" name="detailedLocations" 
                                           onchange="toggleLocationDetailsTab(this.checked)">
                                    <span data-i18n="captureDetailsLabel">Standorte detailliert erfassen</span>
                                </label>
                                <p style="font-size: 0.875rem; color: var(--text-light); margin-top: 0.5rem;">
                                    <span data-i18n="captureDetailsDesc">Erfassen Sie jeden Standort einzeln mit Adresse, Ansprechpartner und spezifischen Eigenschaften.</span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Vending Concept Section -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="vendingConcept">Vending-Konzept</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="vendingInterest" name="vendingInterest">
                                    <span data-i18n="vendingInterestLabel">Interesse an Freshfoodz-Vending?</span>
                                </label>
                            </div>
                        </div>
                        <div id="vendingDetails" style="display: none;">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="vendingLocations" data-i18n="vendingLocations">Anzahl Standorte mit Vending</label>
                                    <input type="number" id="vendingLocations" name="vendingLocations" min="0" value="0">
                                </div>
                                <div class="form-group">
                                    <label for="vendingType" data-i18n="vendingType">Automatentyp</label>
                                    <select id="vendingType" name="vendingType">
                                        <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                        <option value="snack" data-i18n="vendingSnack">Snack-Automat</option>
                                        <option value="fresh" data-i18n="vendingFresh">Frische-Automat</option>
                                        <option value="combi" data-i18n="vendingCombi">Kombi-Automat</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Location Details Tab -->
        <div id="locationdetails" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="locationDetailsTitle">Detaillierte Standorterfassung</h2>
                
                <div class="customer-form">
                    <!-- Summary -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <p><span data-i18n="totalLocationsDetail">Erfasste Standorte:</span> <strong id="detailLocationCount">0</strong></p>
                                <p><span data-i18n="totalLocations">Gesamtanzahl Standorte:</span> <strong id="detailLocationTotal">0</strong></p>
                            </div>
                            <div class="form-group">
                                <button type="button" class="btn btn-primary" onclick="addLocationDetail()">
                                    <span data-i18n="common.addLocation">+ Standort hinzuf√ºgen</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Sync Warning -->
                    <div id="syncWarning" class="alert-box" style="display: none;">
                        <div class="alert-content">
                            <h3 data-i18n="syncWarningTitle">‚ö†Ô∏è Abweichung erkannt</h3>
                            <p data-i18n="syncWarningText">Die Anzahl und Kategorien der erfassten Standorte stimmen nicht mit den Angaben auf der Haupt-Standortseite √ºberein.</p>
                            <div id="syncWarningDetails"></div>
                        </div>
                    </div>

                    <!-- No Locations Message -->
                    <div id="noLocationsMessage" class="form-section" style="text-align: center; padding: 2rem;">
                        <p data-i18n="noLocationsYet">Noch keine Standorte erfasst.</p>
                        <p data-i18n="clickAddLocation">Klicken Sie auf "Standort hinzuf√ºgen" um zu beginnen.</p>
                    </div>

                    <!-- Location Details List -->
                    <div id="locationDetailsList">
                        <!-- Location details will be added dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Credit Check Tab -->
        <div id="creditcheck" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="creditCheckTitle">Bonit√§tspr√ºfung</h2>
                
                <div class="alert-box show">
                    <div class="alert-content">
                        <h3 data-i18n="newCustomers">Neukunden</h3>
                        <p data-i18n="creditCheckDescription">Die Bonit√§tspr√ºfung ist nur f√ºr <strong>Neukunden</strong> relevant, die auf Rechnung zahlen m√∂chten.</p>
                    </div>
                </div>
                
                <div class="customer-form">
                    <!-- Customer Info -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="creditCustomerName" data-i18n="customerName">Kundenname</label>
                                <input type="text" id="creditCustomerName" name="creditCustomerName" readonly>
                            </div>
                            <div class="form-group">
                                <label for="creditLimit" data-i18n="creditLimitLabel">Kreditlimit/Offene Posten (‚Ç¨)</label>
                                <input type="text" id="creditLimit" name="creditLimit" 
                                       oninput="formatCurrency(this)">
                            </div>
                        </div>
                    </div>

                    <!-- Company Details -->
                    <div class="form-section">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="registrationNumber" data-i18n="registrationNumber">Handelsregisternummer*</label>
                                <input type="text" id="registrationNumber" name="registrationNumber" required>
                            </div>
                            <div class="form-group">
                                <label for="vatId" data-i18n="vatId">USt-IdNr.*</label>
                                <input type="text" id="vatId" name="vatId" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="companySize" data-i18n="companySize">Unternehmensgr√∂√üe*</label>
                                <select id="companySize" name="companySize" required>
                                    <option value="" data-i18n="pleaseSelect">Bitte w√§hlen</option>
                                    <option value="small" data-i18n="companySizeSmall">Klein (bis 50 Mitarbeiter)</option>
                                    <option value="medium" data-i18n="companySizeMedium">Mittel (50-250 Mitarbeiter)</option>
                                    <option value="large" data-i18n="companySizeLarge">Gro√ü (√ºber 250 Mitarbeiter)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="paymentHistory" data-i18n="paymentHistory">Bisherige Zahlungserfahrungen</label>
                                <select id="paymentHistory" name="paymentHistory">
                                    <option value="no-info" data-i18n="paymentHistoryNoInfo">Keine Angabe</option>
                                    <option value="new" data-i18n="paymentHistoryNew">Neukunde - keine Erfahrungen</option>
                                    <option value="good" data-i18n="paymentHistoryGood">Gut - p√ºnktliche Zahlung</option>
                                    <option value="medium" data-i18n="paymentHistoryMedium">Mittel - gelegentliche Verz√∂gerungen</option>
                                    <option value="bad" data-i18n="paymentHistoryBad">Schlecht - h√§ufige Mahnungen</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Credit Status -->
                    <div class="form-section">
                        <h3 class="form-section-title" data-i18n="checkStatus">Pr√ºfungsstatus</h3>
                        <div class="credit-status">
                            <div class="status-item">
                                <span class="status-label" data-i18n="status">Status</span>
                                <span class="status-value" data-i18n="notChecked">Nicht gepr√ºft</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label" data-i18n="creditLimit">Kreditlimit</span>
                                <span class="status-value">-</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label" data-i18n="rating">Bewertung</span>
                                <span class="status-value">-</span>
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="startCreditCheck()">
                                <span data-i18n="startCreditCheck">Bonit√§tspr√ºfung starten</span>
                            </button>
                            <button type="button" class="btn btn-secondary" onclick="requestManagementApproval()">
                                <span data-i18n="requestManagement">Anfrage an Gesch√§ftsleitung</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Tab -->
        <div id="profile" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="profileTitle">Kundenprofil</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="profileDescription">Hier werden die Kundenprofile angezeigt und verwaltet.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Offer Tab -->
        <div id="offer" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="offerTitle">Angebot erstellen</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="offerDescription">Hier k√∂nnen Sie PDF-Angebote f√ºr Ihre Kunden erstellen.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings" class="tab-panel">
            <div class="customer-container">
                <h2 class="section-title" data-i18n="settingsTitle">Einstellungen</h2>
                <div class="customer-form">
                    <div class="form-section">
                        <p data-i18n="settingsDescription">Hier k√∂nnen Sie Ihre pers√∂nlichen Daten und Standardwerte anpassen.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>